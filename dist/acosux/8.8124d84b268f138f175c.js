(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/29e":function(e,t){e.exports='<fieldset *ngIf="vistaFormulario">\r\n  <div class="card m-0">\r\n    <div class="card-header p-1">\r\n      <i class="{{classIcon}}"></i>\r\n      <b>{{tituloForm}}</b>\r\n      <div class="card-header-actions">\r\n        <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardarXiiiSueldoPeriodo" type="button" (click)="insertarXiiiSueldoPeriodo(frmXivSueldoMotivo)"\r\n          class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n          <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n          <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n        </button>\r\n        <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardarXiiiSueldoPeriodo" type="button" (click)="actualizarXiiiSueldoPeriodo(frmXivSueldoMotivo)"\r\n          class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n          <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n          <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n        </button>\r\n        <button (click)="cancelarAccion()" id="btnCancelarXiiiSueldoPeriodo" type="button" class="btn btn-sm btn-default mr-1"\r\n          [disabled]="cargando" title="{{constantes.ATAJO_CANCELAR}}">\r\n          <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n          <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class="card-body pb-0 pt-1">\r\n      <form #frmXivSueldoMotivo="ngForm" name="frmXivSueldoMotivo" autocomplete="off">\r\n        <div class="row">\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESCRIPCION}}</b>\r\n            </label>\r\n            <input [appFocus]="accion === constantes.ACCION_CREAR" class="form-control form-control-sm mousetrap text-uppercase"\r\n              name="detalle" maxlength="150" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="rhXiiiSueldoPeriodoTO.xiiiDescripcion"\r\n              appUppercase id="detalle" [disabled]="accion === constantes.ACCION_EDITAR" required>\r\n          </div>\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar [appFocus]="accion === constantes.ACCION_EDITAR" inputId="iniFecha" name="iniFecha" id="fechaDesde"\r\n              [(ngModel)]="fechaDesde" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta" dateFormat="dd/mm/yy" [locale]="es"\r\n              [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaHasta" [minDate]="fechaDesde" [appMinDate]="fechaDesde"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_MAXIMO_PAGO}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaMaximaPago" name="fechaMaximaPago" [(ngModel)]="fechaMaximaPago" [minDate]="fechaDesde"\r\n              [appMinDate]="fechaDesde" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</fieldset>\r\n\r\n<div class="card m-0" *ngIf="listaResultado?.length>0 " [hidden]="vistaFormulario">\r\n  <div class="card-header p-1">\r\n    <strong>{{constantes.RRHH_ARCHIVO_PERIODO_XIII_SUELDO_LISTADO}}</strong>\r\n\r\n    <div class="card-header-actions">\r\n      <div class="btn-group d-lg-none">\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnNuevoXiiiSueldoPeriodo" (click)="operaciones(constantes.ACCION_CREAR)"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_NUEVO}}" container="body" title="{{constantes.ATAJO_NUEVO}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXiiiSueldoPeriodo" (click)="imprimirXiiiSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXiiiSueldoPeriodo" (click)="exportarXiiiSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n        </button>\r\n      </div>\r\n      <div class="btn-group d-none d-lg-block">\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnNuevoXiiiSueldoPeriodo" (click)="operaciones(constantes.ACCION_CREAR)"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_NUEVO}}" container="body" title="{{constantes.ATAJO_NUEVO}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXiiiSueldoPeriodo" (click)="imprimirXiiiSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXiiiSueldoPeriodo" (click)="exportarXiiiSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  <div class="card-body" style="padding: 0 0 0 0">\r\n\r\n    <div class="row">\r\n      <div class="col-sm-5 col-md-6">\r\n        <div class="input-group p-1">\r\n          <input type="text" class="form-control form-control-sm input-filter" size="100" style="font-family: Arial, FontAwesome;"\r\n            placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100" (input)="gridApi?gridApi.setQuickFilter($event.target.value):null">\r\n          <div class="input-group-append">\r\n            <span class="input-group-text"><i class="{{constantes.ICON_BUSCAR}}"></i></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="col-sm-7 col-md-6">\r\n        <div class="float-right pr-1">\r\n          <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n            maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n      [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n      [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n      [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (contextmenu)="$event.preventDefault()"\r\n      (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n      (cellFocused)="filaFocused($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n      (gridSizeChanged)="redimencionarColumnas()">\r\n    </ag-grid-angular>\r\n    <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"/DuJ":function(e,t){e.exports=""},"/kdu":function(e,t){e.exports=""},"/rqY":function(e,t){e.exports=""},"1CvT":function(e,t){e.exports=""},"1GlB":function(e,t){e.exports='<div class="row" *ngIf="!mostrarFormularioRolPago">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarCategoria()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaCategorias" name="categoria" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="catNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.catNombre}} </div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input [appFocus]="true" class="form-control input-sm text-uppercase mousetrap" name="empleado" maxlength="20"\r\n              placeholder="{{constantes.TAG_OPCIONAL}}" id="empleado" (keydown)="buscarEmpleado($event)" (blur)="validarEmpleado()"\r\n              [(ngModel)]="empleado.rhEmpleadoPK.empId" [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="left" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}"\r\n              triggers="mouseenter:mouseleave" container="body"></span>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();"\r\n              [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n              [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" (click)="buscarConsolidadoRolPagos(frm)" id="btnBuscarConsolidadoRolPagos">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarConsolidadoRolPagos" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_CONSOLIDADO_ROL_PAGO_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirConsolidadoRolPagos" (click)="imprimirConsolidadoRolPagos()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarConsolidadoIngresosTabulado"\r\n              (click)="exportarConsolidadoIngresosTabulado()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirConsolidadoRolPagos" (click)="imprimirConsolidadoRolPagos()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarConsolidadoIngresosTabulado"\r\n              (click)="exportarConsolidadoIngresosTabulado()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimensionarColumnas()"\r\n          (gridSizeChanged)="redimensionarColumnas()" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          [frameworkComponents]="frameworkComponents" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="consultarRolPago()"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\x3c!--ROL PAGO--\x3e\r\n<div *ngIf="mostrarFormularioRolPago && objetoRolPago">\r\n  <app-rol-pagos [objetoRolPagoDesdeFuera]="objetoRolPago" (cerrarRolPago)="cerrarRolPago()"></app-rol-pagos>\r\n</div>\r\n\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"1pVl":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmSaldo=\'ngForm\' name="frmSaldo" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarDetalleAnticipos(frmSaldo)"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--Listado de detalle anticipos--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-saldos-consolidados-bonos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)"></app-saldos-consolidados-bonos-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"4WyP":function(e,t){e.exports='<div class="row">\r\n  \x3c!--Filtro--\x3e\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5" *ngIf="!isModal">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEmpresa=\'ngForm\' name="frmEmpresa">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" title="{{constantes.ATAJO_BUSCAR}}"\r\n              [disabled]="accion" (click)="buscarMotivoRolPago(false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              [disabled]="accion">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="buscarMotivoRolPago(true)"> {{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnNuevo" title="{{constantes.ATAJO_NUEVO}}"\r\n            [disabled]="accion" (click)="operacionesMotivoRolPago(constantes.ACCION_CREAR)">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_NUEVO}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar || isModal}">\r\n    \x3c!--formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardar" type="button" (click)="insertarMotivoRolPago(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardar" type="button" (click)="modificarMotivoBono(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button (click)="cancelar()" id="btnCancelar" type="button" class="btn btn-sm btn-default mr-1" [disabled]="cargando"\r\n              title="{{constantes.ATAJO_CANCELAR}}" *ngIf="accion !== constantes.ACCION_CONSULTAR">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n            <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n              *ngIf="accion===constantes.ACCION_CONSULTAR" (click)="cancelar()">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmMotivo="ngForm" name="frmMotivo" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_DETALLE}}</b>\r\n                </label>\r\n                <input class="form-control form-control-sm mousetrap text-uppercase" name="detalle" maxlength="150"\r\n                  [appFocus]="accion === constantes.ACCION_CREAR" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                  [(ngModel)]="motivoRolPagoSeleccionado.rhRolMotivoPK.motDetalle" appUppercase id="detalle" required\r\n                  [disabled]="accion!==constantes.ACCION_CREAR">\r\n              </div>\r\n              <div class="form-group form-group-sm has-feedback col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_TIPO_CONTABLE}}</strong>\r\n                </label>\r\n                <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoContableSeleccionado"\r\n                  [appFocus]="accion === constantes.ACCION_EDITAR" required [disabled]="accion===constantes.ACCION_CONSULTAR">\r\n                  <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                  <option [ngValue]="tipo" *ngFor="let tipo of listaTipoContable"> {{tipo?.tipDetalle}}\r\n                    ({{tipo?.tipCodigo}})</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0 && !vistaFormulario">\r\n      <div class="modal-header p-2" *ngIf="isModal">\r\n        <h4 class="modal-title">{{constantes.INVENTARIO_MOTIVO_ROL_PAGO}}</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n          <span aria-hidden="true">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class="card-header p-1" *ngIf="!isModal">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.INVENTARIO_MOTIVO_ROL_PAGO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--listado de rol pago--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridSizeChanged)="redimencionarColumnas()" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="motivoRolPagoSeleccionado = $event.node.data" (cellContextMenu)="!this.isModal?mostrarContextMenu($event.data, $event.event):null"\r\n          (contextmenu)="!this.isModal?$event.preventDefault():null" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="operacionesMotivoRolPago(constantes.ACCION_CONSULTAR)">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n        \x3c!--end listado rol pago--\x3e\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"56cy":function(e,t){e.exports=""},"5NwC":function(e,t){e.exports='<fieldset *ngIf="vistaFormulario">\r\n  <div class="card m-0">\r\n    <div class="card-header p-1">\r\n      <i class="{{classIcon}}"></i>\r\n      <b>{{tituloForm}}</b>\r\n      <div class="card-header-actions">\r\n        <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardarXivSueldoPeriodo" type="button" (click)="insertarXivSueldoPeriodo(frmXivSueldoPeriodo)"\r\n          class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n          <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n          <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n        </button>\r\n        <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardarXivSueldoPeriodo" type="button" (click)="actualizarXivSueldoPeriodo(frmXivSueldoPeriodo)"\r\n          class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n          <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n          <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n        </button>\r\n        <button (click)="cancelarAccion()" id="btnCancelarXivSueldoPeriodo" type="button" class="btn btn-sm btn-default mr-1"\r\n          [disabled]="cargando" title="{{constantes.ATAJO_CANCELAR}}">\r\n          <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n          <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class="card-body pb-0 pt-1">\r\n      <form #frmXivSueldoPeriodo="ngForm" name="frmXivSueldoPeriodo" autocomplete="off">\r\n        <div class="row">\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESCRIPCION}}</b>\r\n            </label>\r\n            <input [appFocus]="accion === constantes.ACCION_CREAR" class="form-control form-control-sm mousetrap text-uppercase"\r\n              name="detalle" maxlength="150" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="rhXivSueldoPeriodoTO.xivDescripcion"\r\n              appUppercase id="detalle" [disabled]="accion === constantes.ACCION_EDITAR" required>\r\n          </div>\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar [appFocus]="accion === constantes.ACCION_EDITAR" inputId="iniFecha" name="iniFecha" id="fechaDesde"\r\n              [(ngModel)]="fechaDesde" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta" dateFormat="dd/mm/yy" [locale]="es"\r\n              [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaHasta" [minDate]="fechaDesde" [appMinDate]="fechaDesde"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_MAXIMO_PAGO}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaMaximaPago" name="fechaMaximaPago" [(ngModel)]="fechaMaximaPago" [minDate]="fechaDesde"\r\n              [appMinDate]="fechaDesde" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</fieldset>\r\n\r\n<div class="card m-0" *ngIf="listaResultado?.length>0" [hidden]="vistaFormulario">\r\n  <div class="card-header p-1">\r\n    <strong>{{constantes.RRHH_ARCHIVO_PERIODO_XIV_XUELDO_LISTADO}}</strong>\r\n    <div class="card-header-actions">\r\n      <div class="btn-group d-lg-none">\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnNuevoXivSueldoPeriodo" (click)="operaciones(constantes.ACCION_CREAR)"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_NUEVO}}" container="body" title="{{constantes.ATAJO_NUEVO}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXivSueldoPeriodo" (click)="imprimirXivSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXivSueldoPeriodo" (click)="exportarXivSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n        </button>\r\n      </div>\r\n      <div class="btn-group d-none d-lg-block">\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnNuevoXivSueldoPeriodo" (click)="operaciones(constantes.ACCION_CREAR)"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_NUEVO}}" container="body" title="{{constantes.ATAJO_NUEVO}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXivSueldoPeriodo" (click)="imprimirXivSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n        </button>\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXivSueldoPeriodo" (click)="exportarXivSueldoPeriodo()"\r\n          placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n          [disabled]="vistaFormulario">\r\n          <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class="card-body" style="padding: 0 0 0 0">\r\n\r\n    <div class="row">\r\n      <div class="col-sm-5 col-md-6">\r\n        <div class="input-group p-1">\r\n          <input type="text" class="form-control form-control-sm input-filter" size="100" style="font-family: Arial, FontAwesome;"\r\n            placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100" (input)="gridApi?gridApi.setQuickFilter($event.target.value):null">\r\n          <div class="input-group-append">\r\n            <span class="input-group-text"><i class="{{constantes.ICON_BUSCAR}}"></i></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="col-sm-7 col-md-6">\r\n        <div class="float-right pr-1">\r\n          <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n            maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n      [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n      [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n      [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (contextmenu)="$event.preventDefault()"\r\n      (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n      (cellFocused)="filaFocused($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n      (gridSizeChanged)="redimencionarColumnas()">\r\n    </ag-grid-angular>\r\n    <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"7+Qx":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();"\r\n              [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n              [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" (click)="buscarConsolidadoIngresosTabulado(frm)" id="btnBuscarConsolidadoIngresosTabulado">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarConsolidadoIngresosTabulado" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_CONSOLIDADO_INGRESOS_TABULADOS_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarConsolidadoIngresosTabulado"\r\n              (click)="exportarConsolidadoIngresosTabulado()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarConsolidadoIngresosTabulado"\r\n              (click)="exportarConsolidadoIngresosTabulado()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimensionarColumnas()"\r\n          (gridSizeChanged)="redimensionarColumnas()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"7BTQ":function(e,t){e.exports=""},"7FTB":function(e,t){e.exports='<div class="modal-primary" *ngIf="parametrosBusqueda"  [hidden]="mostrarAccionesContabilidad">\r\n  <div class="card m-0" *ngIf="listaDetalleBonos.length>0">\r\n    <div class="modal-header p-2" *ngIf="isModal">\r\n      <h4 class="modal-title">{{constantes.RRHH_DETALLE_BONO_LISTADO}}</h4>\r\n      <button type="button" class="close" style="color: white;" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class="card-header p-1" *ngIf="!isModal">\r\n      <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="cambiarActivar()" type="button"\r\n        title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <b> {{constantes.RRHH_DETALLE_BONO_LISTADO}}</b>\r\n      <div class="card-header-actions">\r\n        <div class="btn-group">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0">\r\n      <div class="row">\r\n        <div class="col-sm-5 col-md-6">\r\n          <div class="input-group p-1">\r\n            <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n              size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n              size="100">\r\n            <div class="input-group-append">\r\n              <span class="input-group-text">\r\n                <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-7 col-md-6">\r\n          <div class="float-right pr-1">\r\n            <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n              maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n        [rowData]="listaDetalleBonos" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n        [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n        (rowSelected)="objetoSeleccionado = $event.node.data" [frameworkComponents]="frameworkComponents"\r\n        (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="isModal ? filaSeleccionar() : consultarAnticipo()"\r\n        (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()" [pinnedBottomRowData]="pinnedBottomRowData">\r\n      </ag-grid-angular>\r\n    </div>\r\n    <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n<div *ngIf="mostrarAccionesContabilidad">\r\n  <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n    (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"7akF":function(e,t){e.exports=""},"7eiZ":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmUtilidades=\'ngForm\' name="frmUtilidades" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n              &nbsp;\r\n              <a (click)="listarSectores()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="sectores" name="sector" [required]="true" [(ngModel)]="sectorSeleccionado"\r\n              optionLabel="secNombre" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_MOTIVO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarMotivos()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_MOTIVOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="motivos" name="motivo" [required]="true" [(ngModel)]="motivoSeleccionado"\r\n              optionLabel="rhUtilidadMotivoPK.motDetalle" (ngModelChange)="limpiarResultado();" placeholder="{{constantes.TAG_TODOS}}"\r\n              class="mousetrap text-uppercase" [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{motivoSeleccionado?.rhUtilidadMotivoPK.motDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.rhUtilidadMotivoPK.motDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_PERIODO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarPeriodos()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="periodos" name="periodo" [required]="true" [(ngModel)]="periodoSeleccionado"\r\n              optionLabel="utiDescripcion" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}"\r\n              class="mousetrap text-uppercase" [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{periodoSeleccionado?.utiDescripcion}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.utiDescripcion}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.INVENTARIO_FORMA_PAGO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarFormasDePago()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_FORMAS_PAGO}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="formasDePago" name="formaPago" [showClear]="true" [(ngModel)]="fpSeleccionada"\r\n              optionLabel="fpDetalle" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{fpSeleccionada?.fpDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.fpDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button type="button" id="buscar" class="btn btn-sm btn-primary" (click)="buscar(frmUtilidades) " title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i> {{constantes.LABEL_GENERAR}}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <app-participacion-utilidades-formulario [empresaSeleccionada]="empresaSeleccionada" [parametrosFormulario]="parametrosFormulario"\r\n        [formasDePago]="formasDePago" (enviarAccion)="ejecutarAccion($event)"></app-participacion-utilidades-formulario>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"8IRT":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmEmpleado=\'ngForm\' name="frmEmpleado" class="card m-0 mb-2">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}} ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="sectores" name="sector" [showClear]="true" [(ngModel)]="sectorSeleccionado" optionLabel="secNombre"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.RRHH_CATEGORIAS}}</b>\r\n              &nbsp;\r\n              <a (click)="listarCategorias()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="categorias" name="categoria" [showClear]="true" [(ngModel)]="categoriaSeleccionada" optionLabel="catNombre"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_PROVINCIA}}</b>\r\n              &nbsp;\r\n              <a (click)="listarProvincias()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PROVINCIAS}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="provincias" name="provincia" [showClear]="true" [(ngModel)]="provinciaSeleccionada" optionLabel="nombre"\r\n              (ngModelChange)="limpiarResultado();listarCantones();" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{provinciaSeleccionada?.nombre}} ({{provinciaSeleccionada?.codigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.nombre}} ({{fs.value.codigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_CANTON}}</b>\r\n              &nbsp;\r\n              <a (click)="listarCantones()" *ngIf="provinciaSeleccionada">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CANTONES}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="cantones" name="canton" [showClear]="true" [(ngModel)]="cantonSeleccionado" optionLabel="nombre" (ngModelChange)="limpiarResultado()"\r\n              placeholder="{{constantes.TAG_TODOS}}" class="mousetrap" [disabled]="!provinciaSeleccionada">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{cantonSeleccionado?.nombre}} ({{cantonSeleccionado?.codigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.nombre}} ({{fs.value.codigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button type="button" class="btn btn-sm btn-primary" (click)="listarEmpleado(false) " title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="listarEmpleado(true)">{{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <app-empleados-listado [parametrosBusqueda]="parametrosListado" [tipoVista]="tipoVista" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=!$event" (enviarAccion)="ejecutarAccion($event)"></app-empleados-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"9I6t":function(e,t){e.exports=""},Bh47:function(e,t){e.exports=""},Bs0i:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <fieldset [disabled]="parametrosFormulario && parametrosBusqueda">\r\n          <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_EMPRESA}}</b>\r\n              </label>\r\n              <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n                (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                  ({{empresa.empCodigo}})\r\n                </option>\r\n              </select>\r\n            </div>\r\n            \x3c!--Centro produccion--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_CENTRO_PRODUCCION}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarSectores()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CENTRO_PRODUCCION}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Motivos--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_MOTIVO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarXiiiSueldoMotivo()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_MOTIVOS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaMotivos" name="motivo" [showClear]="true" [(ngModel)]="motivoXiiiSueldoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="rhXiiiSueldoMotivoPK.motDetalle"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{motivoXiiiSueldoSeleccionado?.rhXiiiSueldoMotivoPK.motDetalle}}\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.rhXiiiSueldoMotivoPK.motDetalle}} </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Periodo--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_PERIODO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarPeriodos()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <select class="form-control form-control-sm" name="periodo" required [(ngModel)]="periodoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()">\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos"> {{periodo.xiiiDescripcion}} </option>\r\n              </select>\r\n            </div>\r\n            \x3c!--Concepto--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_FORMA_PAGO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarFormaPago()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_FORMA_PAGO}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaFormasPagoBeneficio" name="fp" [showClear]="true" [(ngModel)]="formaPagoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="fpDetalle"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{formaPagoSeleccionado?.fpDetalle}} ( {{formaPagoSeleccionado?.ctaCodigo}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.fpDetalle}} ( {{fs.value.ctaCodigo}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n          </form>\r\n\r\n        </fieldset>\r\n      </div>\r\n\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button id="btnBuscarXiiiSueldo" type="button" class="btn btn-sm btn-primary" (click)="buscarXiiiSueldo(frm)"\r\n            title="{{constantes.ATAJO_BUSCAR}}" [disabled]="parametrosFormulario && parametrosBusqueda">\r\n            <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i> {{constantes.LABEL_GENERAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <app-xiii-sueldo-formulario [parametrosFormulario]="parametrosFormulario" [parametrosBusqueda]="parametrosBusqueda"\r\n      (enviarAccion)="accionesXiiiSueldo($event)" *ngIf="parametrosFormulario && parametrosBusqueda"></app-xiii-sueldo-formulario>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Chw2:function(e,t){e.exports='<div class="row">\r\n  \x3c!--Filtro--\x3e\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5" *ngIf="!isModal">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEmpresa=\'ngForm\' name="frmEmpresa">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" title="{{constantes.ATAJO_BUSCAR}}"\r\n              [disabled]="accion" (click)="buscarConceptoBonos(false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              [disabled]="accion">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="buscarConceptoBonos(true)"> {{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnNuevo" title="{{constantes.ATAJO_NUEVO}}"\r\n            [disabled]="accion" (click)="operacionesConceptoBonos(constantes.ACCION_CREAR)">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_NUEVO}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar || isModal}">\r\n    \x3c!--Formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardar" type="button" (click)="insertarConseptoBonos(frmConcepto)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardar" type="button" (click)="modificarMotivoBono(frmConcepto)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button (click)="cancelar()" id="btnCancelar" type="button" class="btn btn-sm btn-default mr-1" [disabled]="cargando"\r\n              title="{{constantes.ATAJO_CANCELAR}}" *ngIf="accion !== constantes.ACCION_CONSULTAR">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n            <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n              *ngIf="accion===constantes.ACCION_CONSULTAR" (click)="cancelar()">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmConcepto="ngForm" name="frmConcepto" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-12 col-md-12 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_CONCEPTO}}</b>\r\n                </label>\r\n                <input class="form-control form-control-sm mousetrap text-uppercase" name="detalle" maxlength="150"\r\n                  type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="conceptoBonoSeleccionado.bcDetalle"\r\n                  [appFocus]="accion===constantes.ACCION_CREAR || accion===constantes.ACCION_EDITAR" [disabled]="accion===constantes.ACCION_CONSULTAR"\r\n                  appUppercase id="detalle" required>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0 && !vistaFormulario">\r\n      <div class="modal-header p-2" *ngIf="isModal">\r\n        <h4 class="modal-title">{{constantes.INVENTARIO_CONCEPTO_BONOS_LISTADO}}</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n          <span aria-hidden="true">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class="card-header p-1" *ngIf="!isModal">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.INVENTARIO_CONCEPTO_BONOS_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--listado de concepto de bonos--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridSizeChanged)="redimencionarColumnas()" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="objetoSeleccionado = $event.node.data" (cellContextMenu)="!this.isModal?mostrarContextMenu($event.data, $event.event):null"\r\n          (contextmenu)="!this.isModal?$event.preventDefault():null" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="operacionesConceptoBonos(constantes.ACCION_CONSULTAR)">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n        \x3c!--end listado de bonos--\x3e\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Cz1q:function(e,t){e.exports=""},DLEV:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <fieldset [disabled]="parametrosFormulario && parametrosBusqueda">\r\n          <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_EMPRESA}}</b>\r\n              </label>\r\n              <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n                (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                  ({{empresa.empCodigo}})\r\n                </option>\r\n              </select>\r\n            </div>\r\n            \x3c!--Centro produccion--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_CENTRO_PRODUCCION}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarSectores()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CENTRO_PRODUCCION}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n                (ngModelChange)="limpiarResultado();listarPiscinas()" placeholder="{{constantes.TAG_TODOS}}"\r\n                optionLabel="secNombre" [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n\r\n            </div>\r\n            \x3c!--Centro costo--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_CENTRO_COSTO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarPiscinas()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CENTRO_COSTO}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaPiscinas" name="piscina" [showClear]="true" [(ngModel)]="piscinaSeleccionada"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="pisNombre"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{piscinaSeleccionada?.pisNombre}} ({{piscinaSeleccionada?.pisNumero}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.pisNombre}} ({{fs.value.pisNumero}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Categoria--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarCategoria()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaCategorias" name="categoria" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="catNombre"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{categoriaSeleccionada?.catNombre}}\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.catNombre}} </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Motivos--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_MOTIVO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarMotivosBono()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_MOTIVOS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaMotivos" name="motivo" [showClear]="true" [(ngModel)]="motivoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="rhBonoMotivoPK.motDetalle"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{motivoSeleccionado?.rhBonoMotivoPK.motDetalle}}\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.rhBonoMotivoPK.motDetalle}} </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Concepto--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_CONCEPTO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarConceptoBonos()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CONCEPTOS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaConceptos" name="concepto" [showClear]="true" [(ngModel)]="conceptoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="bcDetalle"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{conceptoSeleccionado?.bcDetalle}}\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.bcDetalle}} </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Fecha--\x3e\r\n            <div class="form-group form-group-sm" [ngClass]="{\'has-error\':!periodoAbierto}">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_FECHA}}</b>\r\n              </label>\r\n              <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n                (onBlur)="validarPeriodoAbierto()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda"></p-calendar>\r\n            </div>\r\n          </form>\r\n        </fieldset>\r\n      </div>\r\n\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button id="btnBuscarBonos" type="button" class="btn btn-sm btn-primary" (click)="buscarBonos(frm)" title="{{constantes.ATAJO_BUSCAR}}"\r\n            [disabled]="parametrosFormulario && parametrosBusqueda">\r\n            <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i>\r\n            {{constantes.LABEL_GENERAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <app-bonos-formulario [parametrosFormulario]="parametrosFormulario" [parametrosBusqueda]="parametrosBusqueda"\r\n      (enviarAccion)="accionesBonos($event)" *ngIf="parametrosFormulario && parametrosBusqueda"></app-bonos-formulario>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},DO2A:function(e,t){e.exports='<div class="row" *ngIf="!mostrarFormularioAnticipoPrestamo && !mostrarFormularioPrestamo && !mostrarFormularioAnticipo">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frm="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control input-sm" name="cboEmpresa" [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarSaldoConsolidadoAntPres" class="btn btn-sm btn-primary mr-1" (click)="buscarSaldoConsolidadoAntPress(frm)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} ">\r\n    <div class="card m-0" *ngIf="listaResultadoSaldoConsAntPres?.length> 1">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarSaldoConsolidadoAntPres" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_SALDO_CONSOLIDADO_ANTICIPOS_PRESTAMOS_LISTADO}} </strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoConsolidadoAntPres" (click)="imprimirSaldoConsolidadoAntPres()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoConsolidadoAntPres" (click)="exportarSaldoConsolidadoAntPres()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoConsolidadoAntPres" (click)="imprimirSaldoConsolidadoAntPres()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoConsolidadoAntPres" (click)="exportarSaldoConsolidadoAntPres()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoSaldoConsAntPres" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="saldoConsAntPresSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimensionarColumnas()" (gridSizeChanged)="redimensionarColumnas()"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>\r\n\r\n\x3c!--SALDO INDIVIDUAL ANTICIPOS--\x3e\r\n<div *ngIf="mostrarFormularioAnticipo && objetoSaldoIndividualAnticipo">\r\n  <app-saldo-individual-anticipos [objetoSaldoIndividualAnticipoDesdeFuera]="objetoSaldoIndividualAnticipo"\r\n    (cerrarSaldoIndividualAnticipo)="cerrarSaldoIndividualAnticipo()"></app-saldo-individual-anticipos>\r\n</div>\r\n\r\n\x3c!--SALDO INDIVIDUAL PRESTAMOS--\x3e\r\n<div *ngIf="mostrarFormularioPrestamo && objetoSaldoIndividualPrestamo">\r\n  <app-saldo-individual-prestamos [objetoSaldoIndividualPrestamoDesdeFuera]="objetoSaldoIndividualPrestamo"\r\n    (cerrarSaldoIndividualPrestamo)="cerrarSaldoIndividualPrestamo()"></app-saldo-individual-prestamos>\r\n</div>\r\n\r\n\x3c!--SALDO INDIVIDUAL ANTICIPOS Y PRESTAMOS--\x3e\r\n<div *ngIf="mostrarFormularioAnticipoPrestamo && objetoSaldoIndividualAnticipoPrestamo">\r\n  <app-saldo-individual-anticipos-prestamos [objetoSaldoIndividualAnticipoPrestamoDesdeFuera]="objetoSaldoIndividualAnticipoPrestamo"\r\n    (cerrarSaldoIndividualAnticipoPrestamo)="cerrarSaldoIndividualAnticiposPrestamo()"></app-saldo-individual-anticipos-prestamos>\r\n</div>'},E5Gp:function(e,t){e.exports=""},EnGM:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmAnticipos=\'ngForm\' name="frmAnticipos" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n              &nbsp;\r\n              <a (click)="listarSectores()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="sectores" name="sector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              optionLabel="secNombre" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.RRHH_CATEGORIAS}}</b>\r\n              &nbsp;\r\n              <a (click)="listarCategorias()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="categorias" name="categoria" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              optionLabel="catNombre" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_MOTIVO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarMotivos()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_MOTIVOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="motivos" name="motivo" [required]="true" [(ngModel)]="motivoSeleccionado"\r\n              optionLabel="rhAnticipoMotivoPK.motDetalle" (ngModelChange)="limpiarResultado();" placeholder="{{constantes.TAG_TODOS}}"\r\n              class="mousetrap text-uppercase" [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{motivoSeleccionado?.rhAnticipoMotivoPK.motDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.rhAnticipoMotivoPK.motDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA}}</b>\r\n            </label>\r\n            <p-calendar class="mousetrap calendar" name="fecha" [inputStyleClass]="isFechaValido == false ? \'has-error height-26\' : \'height-26\' "\r\n              [(ngModel)]="fechaActual" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              [required]="true" (ngModelChange)="limpiarResultado();cambioLaFecha()" placeholder="DD/MM/YYYY"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.INVENTARIO_FORMA_PAGO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarFormasDePago()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_FORMAS_PAGO}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="formasDePago" name="formaPago" [showClear]="true" [(ngModel)]="fpSeleccionada"\r\n              optionLabel="fpDetalle" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{fpSeleccionada?.fpDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.fpDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button type="button" id="buscar" class="btn btn-sm btn-primary" (click)="buscar(frmAnticipos) " title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i> {{constantes.LABEL_GENERAR}}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <app-anticipos-formulario [empresaSeleccionada]="empresaSeleccionada" [parametrosFormulario]="parametrosFormulario"\r\n        [formasDePago]="formasDePago" (enviarAccion)="ejecutarAccion($event)"></app-anticipos-formulario>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},FHIV:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmRoles=\'ngForm\' name="frmRoles" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n              &nbsp;\r\n              <a (click)="listarSectores()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="sectores" name="sector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              optionLabel="secNombre" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.RRHH_CATEGORIAS}}</b>\r\n              &nbsp;\r\n              <a (click)="listarCategorias()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="categorias" name="categoria" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              optionLabel="catNombre" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_MOTIVO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarMotivos()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_MOTIVOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="motivos" name="motivo" [required]="true" [(ngModel)]="motivoSeleccionado"\r\n              optionLabel="rhRolMotivoPK.motDetalle" (ngModelChange)="limpiarResultado();" placeholder="{{constantes.TAG_TODOS}}"\r\n              class="mousetrap text-uppercase" [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{motivoSeleccionado?.rhRolMotivoPK.motDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.rhRolMotivoPK.motDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_PERIODO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarPeriodos()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="periodos" name="periodo" [required]="true" [(ngModel)]="periodoSeleccionado"\r\n              optionLabel="perDetalle" (ngModelChange)="limpiarResultado();" placeholder="{{constantes.TAG_TODOS}}"\r\n              class="mousetrap text-uppercase" [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{periodoSeleccionado?.sisPeriodoPK.perCodigo}} | {{periodoSeleccionado?.perDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value?.sisPeriodoPK.perCodigo}} | {{fs.value?.perDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.INVENTARIO_FORMA_PAGO}}</b>\r\n              &nbsp;\r\n              <a (click)="listarFormasDePago()" *ngIf="!vistaFormulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_FORMAS_PAGO}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="formasDePago" name="formaPago" [showClear]="true" [(ngModel)]="fpSeleccionada"\r\n              optionLabel="fpDetalle" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" class="mousetrap text-uppercase"\r\n              [disabled]="vistaFormulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{fpSeleccionada?.fpDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.fpDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button type="button" id="buscar" class="btn btn-sm btn-primary" (click)="buscar(frmRoles) " title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i> {{constantes.LABEL_GENERAR}}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <app-rol-pago-formulario [empresaSeleccionada]="empresaSeleccionada" [parametrosFormulario]="parametrosFormulario"\r\n        [formasDePago]="formasDePago" (enviarAccion)="ejecutarAccion($event)"></app-rol-pago-formulario>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},FNbA:function(e,t){e.exports=""},FYxX:function(e,t){e.exports='<form #frmDatos=\'ngForm\' autocomplete="off" class="card m-0">\r\n  <div class="card-header p-1">\r\n    <button id="btnActivar" class="btn btn-sm btn-primary" *ngIf="isScreamMd" (click)="cambiarActivar()" type="button"\r\n      title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n      <i class="{{activarCategoriaForm?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n    </button>\r\n    <b> {{accion}} {{constantes.RRHH_CATEGORIAS.toLowerCase()}} - {{empresaSeleccionada.empNombre}}\r\n    </b>\r\n    <div class="card-header-actions">\r\n      \x3c!--Sin etiquetas--\x3e\r\n      <div class="btn-group d-lg-none">\r\n        \x3c!--Guardar--\x3e\r\n        <div *ngIf="accion !== constantes.ACCION_CONSULTA" class="btn-group mr-1">\r\n          <button id="btnGuardar" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertar(frmDatos) : modificar(frmDatos)"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n            <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> </span>\r\n          </button>\r\n        </div>\r\n        \x3c!--Cancelar y/o regresar--\x3e\r\n        <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n          id="btnCancelar" ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}"\r\n          (click)="cancelar()">\r\n          <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n            aria-hidden="true"></i>\r\n        </button>\r\n      </div>\r\n      \x3c!-- Con etiquetas--\x3e\r\n      <div class="btn-group d-none d-lg-block">\r\n        \x3c!--Guardar--\x3e\r\n        <div *ngIf="accion !== constantes.ACCION_CONSULTAR" class="btn-group mr-1">\r\n          <button id="btnGuardar" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertar(frmDatos) : modificar(frmDatos)"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n            <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"> </i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}} </span>\r\n          </button>\r\n        </div>\r\n        \x3c!--Cancelar y/o regresar--\x3e\r\n        <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n          id="btnCancelar" (click)="cancelar()" ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}">\r\n          <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n            aria-hidden="true"></i>\r\n          {{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="card-body p-1">\r\n    <fieldset [disabled]="accion === constantes.ACCION_CONSULTAR">\r\n      <div class="card mb-1">\r\n        <div class="card-header">\r\n          <b> {{constantes.TAG_DATOS_GENERALES}}</b>\r\n        </div>\r\n        <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0">\r\n          <div class="row">\r\n            <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n              <label>\r\n                <strong>{{constantes.TAG_NOMBRE}}</strong>\r\n              </label>\r\n              <input type="text" appUppercase class="form-control form-control-sm text-uppercase mousetrap" name="catNombre"\r\n                id="catNombre" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="categoria.catNombre" required\r\n                *ngIf="accion===constantes.ACCION_CREAR" [appFocus]="true">\r\n              <label class="form-control label-input form-control-sm text-uppercase mousetrap" *ngIf="accion!==constantes.ACCION_CREAR">{{categoria.catNombre}}</label>\r\n            </div>\r\n            <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n              <label>\r\n                <strong>{{constantes.TAG_TIPO_CONTABLE}}</strong>\r\n              </label>\r\n              <select class="form-control form-control-sm text-uppercase mousetrap" name="tipCodigo" required\r\n                [(ngModel)]="categoria.tipCodigo">\r\n                <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="tipo.conTipoPK.tipCodigo" *ngFor="let tipo of tiposContables"> {{tipo.tipDetalle}}\r\n                  ({{tipo.conTipoPK.tipCodigo}})\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card mb-1">\r\n        <div class="card-header">\r\n          <b> {{constantes.TAG_CUENTAS_CONTABLES}}</b>\r\n        </div>\r\n        <div class="card-body collapse show m-0 p-0">\r\n          <div class="mb-0">\r\n            <ul class="nav nav-tabs nav-justified nav-empresa" role="tablist" style="box-shadow: inset 0 -1px 0 #ddd;">\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link active p-1" href data-target="#general" aria-controls="general" role="tab"\r\n                  data-toggle="tab">\r\n                  <b>{{constantes.TAG_CUENTAS_DE_SUELDO}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link p-1" href data-target="#administrativo" aria-controls="administrativo" role="tab"\r\n                  data-toggle="tab">\r\n                  <b>{{constantes.TAG_CUENTAS_PROVISIONES_POR_PAGAR}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link p-1" href data-target="#otros" aria-controls="otros" role="tab" data-toggle="tab">\r\n                  <b>{{constantes.TAG_CUENTAS_GASTOS_PROVISIONES}}</b>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <div class="tab-content panel" style="border-top-width: 0px;">\r\n              <div role="tabpanel" class="tab-pane fade show active" id="general">\r\n                <div class="panel-default">\r\n                  <div class="panel-body">\r\n                    \x3c!--1--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_ANTICIPOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaAnticipos" id="ctaAnticipos" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaAnticipos" class="form-control form-control-sm text-uppercase mousetrap"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaAnticipos, \'ctaAnticipos\', \'ctaPrestamos\')"\r\n                          (blur)="validarCuentas( \'ctaAnticipos\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomAnticipos" [(ngModel)]="categoriaNombres.ctaAnticipos" class="form-control form-control-sm text-uppercase mousetrap"\r\n                          disabled appUppercase>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_PRESTAMOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaPrestamos" id="ctaPrestamos" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaPrestamos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPrestamos, \'ctaPrestamos\', \'ctaGastoHorasExtras\')"\r\n                          (blur)="validarCuentas( \'ctaPrestamos\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomPrestamos" [(ngModel)]="categoriaNombres.ctaPrestamos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          disabled appUppercase>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--2--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_HORAS_EXTRAS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoHorasExtras" id="ctaGastoHorasExtras" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoHorasExtras" class="form-control form-control-sm text-uppercase mousetrap"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoHorasExtras, \'ctaGastoHorasExtras\', \'ctaGastoHorasExtras100\')"\r\n                          (blur)="validarCuentas( \'ctaGastoHorasExtras\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoHorasExtras" [(ngModel)]="categoriaNombres.ctaGastoHorasExtras"\r\n                          class="form-control form-control-sm text-uppercase mousetrap" disabled appUppercase>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_HORAS_EXTRAS_100}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoHorasExtras100" id="ctaGastoHorasExtras100" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoHorasExtras100" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoHorasExtras100, \'ctaGastoHorasExtras100\', \'ctaGastoBonos\')"\r\n                          (blur)="validarCuentas( \'ctaGastoHorasExtras100\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoHorasExtras100" [(ngModel)]="categoriaNombres.ctaGastoHorasExtras100"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" disabled appUppercase>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--3--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTOS_BONOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoBonos" id="ctaGastoBonos" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoBonos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoBonos, \'ctaGastoBonos\', \'ctaGastoBonosNd\')"\r\n                          (blur)="validarCuentas( \'ctaGastoBonos\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoBonos" [(ngModel)]="categoriaNombres.ctaGastoBonos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong ngbTooltip="{{constantes.TAG_GASTOS_BONOS_NO_DEDUCIBLES}}">{{constantes.TAG_GASTOS_BONOS_ND}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoBonosNd" id="ctaGastoBonosNd" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoBonosNd" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoBonosNd, \'ctaGastoBonosNd\', \'ctaGastoBonoFijo\')"\r\n                          (blur)="validarCuentas( \'ctaGastoBonosNd\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoBonosNd" [(ngModel)]="categoriaNombres.ctaGastoBonosNd" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--4--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTOS_BONOS_FIJOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoBonoFijo" id="ctaGastoBonoFijo" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoBonoFijo" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoBonoFijo, \'ctaGastoBonoFijo\', \'ctaGastoBonoFijoNd\')"\r\n                          (blur)="validarCuentas( \'ctaGastoBonoFijo\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoBonoFijo" [(ngModel)]="categoriaNombres.ctaGastoBonoFijo"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong ngbTooltip="{{constantes.TAG_GASTOS_BONOS_FIJOS_NO_DEDUCIBLES}}">{{constantes.TAG_GASTOS_BONOS_FIJOS_ND}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoBonoFijoNd" id="ctaGastoBonoFijoNd" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoBonoFijoNd" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoBonoFijoNd, \'ctaGastoBonoFijoNd\', \'ctaGastoOtrosIngresos\')"\r\n                          (blur)="validarCuentas( \'ctaGastoBonoFijoNd\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoBonoFijoNd" [(ngModel)]="categoriaNombres.ctaGastoBonoFijoNd"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--5--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTOS_OTROS_INGRESOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoOtrosIngresos" id="ctaGastoOtrosIngresos" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoOtrosIngresos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoOtrosIngresos, \'ctaGastoOtrosIngresos\', \'ctaGastoOtrosIngresosNd\')"\r\n                          (blur)="validarCuentas( \'ctaGastoOtrosIngresos\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label>\r\n                        </label>\r\n                        <input type="text" name="nomGastoOtrosIngresos" [(ngModel)]="categoriaNombres.ctaGastoOtrosIngresos"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong ngbTooltip="{{constantes.TAG_GASTOS_OTROS_INGRESOS_NO_DEDUCIBLES}}">{{constantes.TAG_GASTOS_OTROS_INGRESOS_ND}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoOtrosIngresosNd" id="ctaGastoOtrosIngresosNd" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoOtrosIngresosNd" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoOtrosIngresosNd, \'ctaGastoOtrosIngresosNd\', \'ctaGastoSueldos\')"\r\n                          (blur)="validarCuentas( \'ctaGastoOtrosIngresosNd\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoOtrosIngresosNd" [(ngModel)]="categoriaNombres.ctaGastoOtrosIngresosNd"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--6--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTOS_SUELDOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoSueldos" id="ctaGastoSueldos" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoSueldos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoSueldos, \'ctaGastoSueldos\', \'ctaPorPagarBonos\')"\r\n                          (blur)="validarCuentas( \'ctaGastoSueldos\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoSueldos" [(ngModel)]="categoriaNombres.ctaGastoSueldos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_POR_PAGAR_BONOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaPorPagarBonos" id="ctaPorPagarBonos" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaPorPagarBonos" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPorPagarBonos, \'ctaPorPagarBonos\', \'ctaPorPagarSueldo\')"\r\n                          (blur)="validarCuentas( \'ctaPorPagarBonos\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomPorPagarBonos" [(ngModel)]="categoriaNombres.ctaPorPagarBonos"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--7--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_POR_PAGAR_SUELDOS}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaPorPagarSueldo" id="ctaPorPagarSueldo" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaPorPagarSueldo" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPorPagarSueldo, \'ctaPorPagarSueldo\', \'ctaPorPagarImpuestoRenta\')"\r\n                          (blur)="validarCuentas( \'ctaPorPagarSueldo\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomPorPagarSueldo" [(ngModel)]="categoriaNombres.ctaPorPagarSueldo"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong ngbTooltip="{{constantes.TAG_POR_PAGAR_IMPUESTO_A_LA_RENTA}}">{{constantes.TAG_POR_PAGAR_IMPUESTO_RENTA}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaPorPagarImpuestoRenta" id="ctaPorPagarImpuestoRenta" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaPorPagarImpuestoRenta" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPorPagarImpuestoRenta, \'ctaPorPagarImpuestoRenta\', \'ctaPorPagarUtilidades\')"\r\n                          (blur)="validarCuentas( \'ctaPorPagarImpuestoRenta\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomPorPagarImpuestoRenta" [(ngModel)]="categoriaNombres.ctaPorPagarImpuestoRenta"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--8--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_POR_PAGAR_UTILIDADES}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaPorPagarUtilidades" id="ctaPorPagarUtilidades" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaPorPagarUtilidades" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPorPagarUtilidades, \'ctaPorPagarUtilidades\', \'ctaPermisoMedico\')"\r\n                          (blur)="validarCuentas( \'ctaPorPagarUtilidades\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomPorPagarUtilidades" [(ngModel)]="categoriaNombres.ctaPorPagarUtilidades"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_CUENTA_PERMISO_MEDICO}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaPermisoMedico" id="ctaPermisoMedico" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaPermisoMedico" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPermisoMedico, \'ctaPermisoMedico\', \'ctaPermisoMedico\')"\r\n                          (blur)="validarCuentas( \'ctaPermisoMedico\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomPermisoMedico" [(ngModel)]="categoriaNombres.ctaPermisoMedico"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="administrativo">\r\n                \x3c!--1--\x3e\r\n                <div class="row form-group form-group-sm">\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_APORTE_PERSONAL}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaAportepersonal" id="ctaAportepersonal" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaAportepersonal" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaAportepersonal, \'ctaAportepersonal\', \'ctaAporteExtension\')"\r\n                      (blur)="validarCuentas( \'ctaAportepersonal\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomAportepersonal" [(ngModel)]="categoriaNombres.ctaAportepersonal" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase disabled>\r\n                  </div>\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_APORTE_EXTENSION_CONYUGE}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaAporteExtension" id="ctaAporteExtension" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaAporteExtension" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaAporteExtension, \'ctaAporteExtension\', \'ctaAportepatronal\')"\r\n                      (blur)="validarCuentas( \'ctaAporteExtension\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label>\r\n                    </label>\r\n                    <input type="text" name="nomAporteExtension" [(ngModel)]="categoriaNombres.ctaAporteExtension"\r\n                      class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                  </div>\r\n                </div>\r\n                \x3c!--2--\x3e\r\n                <div class="row form-group form-group-sm">\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_APORTE_PATRONAL}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaAportepatronal" id="ctaAportepatronal" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaAportepatronal" class="form-control form-control-sm text-uppercase mousetrap"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaAportepatronal, \'ctaAportepatronal\', \'ctaPrestamoHipotecario\')"\r\n                      (blur)="validarCuentas( \'ctaAportepatronal\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomAportepatronal" [(ngModel)]="categoriaNombres.ctaAportepatronal" class="form-control form-control-sm text-uppercase mousetrap"\r\n                      disabled appUppercase>\r\n                  </div>\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_PRESTAMO_HIPOTECARIO}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaPrestamoHipotecario" id="ctaPrestamoHipotecario" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaPrestamoHipotecario" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPrestamoHipotecario, \'ctaPrestamoHipotecario\', \'ctaPrestamoQuirografario\')"\r\n                      (blur)="validarCuentas( \'ctaPrestamoHipotecario\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label>\r\n                    </label>\r\n                    <input type="text" name="nomPrestamoHipotecario" [(ngModel)]="categoriaNombres.ctaPrestamoHipotecario"\r\n                      class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                  </div>\r\n                </div>\r\n                \x3c!--3--\x3e\r\n                <div class="row form-group form-group-sm">\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_PRESTAMO_QUIROGRAFARIO}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaPrestamoQuirografario" id="ctaPrestamoQuirografario" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaPrestamoQuirografario" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaPrestamoQuirografario, \'ctaPrestamoQuirografario\', \'ctaIece\')"\r\n                      (blur)="validarCuentas( \'ctaPrestamoQuirografario\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomPrestamoQuirografario" [(ngModel)]="categoriaNombres.ctaPrestamoQuirografario"\r\n                      class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                  </div>\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_IECE}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaIece" id="ctaIece" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaIece" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaIece, \'ctaIece\', \'ctaSecap\')"\r\n                      (blur)="validarCuentas( \'ctaIece\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomIece" [(ngModel)]="categoriaNombres.ctaIece" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      disabled appUppercase>\r\n                  </div>\r\n                </div>\r\n                \x3c!--4--\x3e\r\n                <div class="row form-group form-group-sm">\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_SECAP}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaSecap" id="ctaSecap" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaSecap" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaSecap, \'ctaSecap\', \'ctaXiii\')"\r\n                      (blur)="validarCuentas( \'ctaSecap\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomSecap" [(ngModel)]="categoriaNombres.ctaSecap" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase disabled>\r\n                  </div>\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong ngbTooltip="{{constantes.TAG_DECIMO_TERCER_SUELDO}}">{{constantes.TAG_XIII_SUELDO}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaXiii" id="ctaXiii" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaXiii" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaXiii, \'ctaXiii\', \'ctaXiv\')"\r\n                      (blur)="validarCuentas( \'ctaXiii\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomXiii" [(ngModel)]="categoriaNombres.ctaXiii" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase disabled>\r\n                  </div>\r\n                </div>\r\n                \x3c!--5--\x3e\r\n                <div class="row form-group form-group-sm">\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong ngbTooltip="{{constantes.TAG_DECIMO_CUARTO_SUELDO}}">{{constantes.TAG_XIV_SUELDO}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaXiv" id="ctaXiv" placeholder="{{constantes.TAG_N_CUENTA}}" [(ngModel)]="categoria.ctaXiv"\r\n                      class="form-control form-control-sm mousetrap text-uppercase" appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaXiv, \'ctaXiv\', \'ctaFondoreserva\')"\r\n                      (blur)="validarCuentas( \'ctaXiv\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomXiv" [(ngModel)]="categoriaNombres.ctaXiv" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase disabled>\r\n                  </div>\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_FONDO_RESERVA}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaFondoreserva" id="ctaFondoreserva" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaFondoreserva" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaFondoreserva, \'ctaFondoreserva\', \'ctaVacaciones\')"\r\n                      (blur)="validarCuentas( \'ctaFondoreserva\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomFondoreserva" [(ngModel)]="categoriaNombres.ctaFondoreserva" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase disabled>\r\n                  </div>\r\n                </div>\r\n                \x3c!--6--\x3e\r\n                <div class="row form-group form-group-sm">\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_VACACIONES}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaVacaciones" id="ctaVacaciones" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaVacaciones" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaVacaciones, \'ctaVacaciones\', \'ctaDesahucio\')"\r\n                      (blur)="validarCuentas( \'ctaVacaciones\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label>\r\n                    </label>\r\n                    <input type="text" name="nomVacaciones" [(ngModel)]="categoriaNombres.ctaVacaciones" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase disabled>\r\n                  </div>\r\n                  <div class="col-lg-2 col-sm-6">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_DESAHUCIO}}</strong>\r\n                    </label>\r\n                    <input type="text" name="ctaDesahucio" id="ctaDesahucio" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                      [(ngModel)]="categoria.ctaDesahucio" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaDesahucio, \'ctaDesahucio\', \'ctaDesahucio\')"\r\n                      (blur)="validarCuentas( \'ctaDesahucio\')">\r\n                  </div>\r\n                  <div class="col-lg-4 col-sm-6">\r\n                    <label></label>\r\n                    <input type="text" name="nomDesahucio" [(ngModel)]="categoriaNombres.ctaDesahucio" class="form-control form-control-sm mousetrap text-uppercase"\r\n                      appUppercase disabled>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="otros">\r\n                <div class="panel-default">\r\n                  <div class="panel-body">\r\n                    \x3c!--1--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_APORTE_INDIVIDUAL}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoAporteindividual" id="ctaGastoAporteindividual" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoAporteindividual" class="form-control form-control-sm text-uppercase mousetrap"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoAporteindividual, \'ctaGastoAporteindividual\', \'ctaGastoAportepatronal\')"\r\n                          (blur)="validarCuentas( \'ctaGastoAporteindividual\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoAporteindividual" [(ngModel)]="categoriaNombres.ctaGastoAporteindividual"\r\n                          class="form-control form-control-sm text-uppercase mousetrap" disabled appUppercase>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_APORTE_PATRONAL}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoAportepatronal" id="ctaGastoAportepatronal" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoAportepatronal" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoAportepatronal, \'ctaGastoAportepatronal\', \'ctaGastoIece\')"\r\n                          (blur)="validarCuentas( \'ctaGastoAportepatronal\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoAportepatronal" [(ngModel)]="categoriaNombres.ctaGastoAportepatronal"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" disabled appUppercase>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--2--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_IECE}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoIece" id="ctaGastoIece" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoIece" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoIece, \'ctaGastoIece\', \'ctaGastoSecap\')"\r\n                          (blur)="validarCuentas( \'ctaGastoIece\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoIece" [(ngModel)]="categoriaNombres.ctaGastoIece" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_SECAP}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoSecap" id="ctaGastoSecap" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoSecap" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoSecap, \'ctaGastoSecap\', \'ctaGastoXiii\')"\r\n                          (blur)="validarCuentas( \'ctaGastoSecap\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoSecap" [(ngModel)]="categoriaNombres.ctaGastoSecap" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--3--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_XIII}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoXiii" id="ctaGastoXiii" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoXiii" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoXiii, \'ctaGastoXiii\', \'ctaGastoXiv\')"\r\n                          (blur)="validarCuentas( \'ctaGastoXiii\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoXiii" [(ngModel)]="categoriaNombres.ctaGastoXiii" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_XIV}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoXiv" id="ctaGastoXiv" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoXiv" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoXiv, \'ctaGastoXiv\', \'ctaGastoFondoreserva\')"\r\n                          (blur)="validarCuentas( \'ctaGastoXiv\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoXiv" [(ngModel)]="categoriaNombres.ctaGastoXiv" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--4--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_FONDO_RESERVA}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoFondoreserva" id="ctaGastoFondoreserva" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoFondoreserva" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoFondoreserva, \'ctaGastoFondoreserva\', \'ctaGastoVacaciones\')"\r\n                          (blur)="validarCuentas( \'ctaGastoFondoreserva\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label>\r\n                        </label>\r\n                        <input type="text" name="nomGastoFondoreserva" [(ngModel)]="categoriaNombres.ctaGastoFondoreserva"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_VACACIONES}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoVacaciones" id="ctaGastoVacaciones" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoVacaciones" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoVacaciones, \'ctaGastoVacaciones\', \'ctaGastoBonoLiquidacion\')"\r\n                          (blur)="validarCuentas( \'ctaGastoVacaciones\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoVacaciones" [(ngModel)]="categoriaNombres.ctaGastoVacaciones"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--5--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_BONO_LIQUIDACION}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoBonoLiquidacion" id="ctaGastoBonoLiquidacion" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoBonoLiquidacion" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoBonoLiquidacion, \'ctaGastoBonoLiquidacion\', \'ctaGastoDesahucio\')"\r\n                          (blur)="validarCuentas( \'ctaGastoBonoLiquidacion\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoBonoLiquidacion" [(ngModel)]="categoriaNombres.ctaGastoBonoLiquidacion"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_DESAHUCIO}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoDesahucio" id="ctaGastoDesahucio" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoDesahucio" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoDesahucio, \'ctaGastoDesahucio\', \'ctaGastoDesahucioIntempestivo\')"\r\n                          (blur)="validarCuentas( \'ctaGastoDesahucio\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoDesahucio" [(ngModel)]="categoriaNombres.ctaGastoDesahucio"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--6--\x3e\r\n                    <div class="row form-group form-group-sm">\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_DESAHUCIO_INTEMPESTIVO}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoDesahucioIntempestivo" id="ctaGastoDesahucioIntempestivo"\r\n                          placeholder="{{constantes.TAG_N_CUENTA}}" [(ngModel)]="categoria.ctaGastoDesahucioIntempestivo"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoDesahucioIntempestivo, \'ctaGastoDesahucioIntempestivo\', \'ctaGastoSalarioDigno\')"\r\n                          (blur)="validarCuentas( \'ctaGastoDesahucioIntempestivo\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomPorPagarBonos" [(ngModel)]="categoriaNombres.ctaGastoDesahucioIntempestivo"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                      <div class="col-lg-2 col-sm-6">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GASTO_SALARIO_DIGNO}}</strong>\r\n                        </label>\r\n                        <input type="text" name="ctaGastoSalarioDigno" id="ctaGastoSalarioDigno" placeholder="{{constantes.TAG_N_CUENTA}}"\r\n                          [(ngModel)]="categoria.ctaGastoSalarioDigno" class="form-control form-control-sm mousetrap text-uppercase"\r\n                          appUppercase (keydown)="abrirModalDeCuentas($event, categoria.ctaGastoSalarioDigno, \'ctaGastoSalarioDigno\', \'ctaGastoSalarioDigno\')"\r\n                          (blur)="validarCuentas( \'ctaGastoSalarioDigno\')">\r\n                      </div>\r\n                      <div class="col-lg-4 col-sm-6">\r\n                        <label></label>\r\n                        <input type="text" name="nomGastoSalarioDigno" [(ngModel)]="categoriaNombres.ctaGastoSalarioDigno"\r\n                          class="form-control form-control-sm mousetrap text-uppercase" appUppercase disabled>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n</form>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Hvr9:function(e,t){e.exports='<div class="modal-primary" *ngIf="parametrosBusqueda" [hidden]="mostrarAccionesContabilidad">\r\n  <div class="card m-0" *ngIf="listaDetalleAnticipos.length>0">\r\n    <div class="modal-header p-2" *ngIf="isModal">\r\n      <h4 class="modal-title">{{constantes.RRHH_DETALLE_ANTICIPO_LISTADO}}</h4>\r\n      <button type="button" class="close" style="color: white;" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class="card-header p-1" *ngIf="!isModal">\r\n      <button id="btnActivarAnticipos" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="cambiarActivar()"\r\n        type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <strong> {{constantes.RRHH_DETALLE_ANTICIPO_LISTADO}}</strong>\r\n      <div class="card-header-actions">\r\n        <div class="btn-group">\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnImprimirAnticipos" (click)="imprimirDetalleAnticipos(constantes.NOMBRE_REPORTE_DETALLE_ANTICIPOS)"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-1" data-toggle="dropdown">\r\n          </button>\r\n          <div class="dropdown-menu">\r\n            <a class="dropdown-item" (click)="imprimirDetalleAnticipos(constantes.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO)">{{constantes.TAG_FIRMA_INDIVIDUAL}}</a>\r\n            <a class="dropdown-item" (click)="imprimirDetalleAnticipos(constantes.NOMBRE_REPORTE_DETALLE_ANTICIPOS_FIRMA_COLECTIVA)">{{constantes.TAG_FIRMA_COLECTIVA}}</a>\r\n            <a class="dropdown-item" (click)="imprimirDetalleAnticipos(constantes.NOMBRE_REPORTE_DETALLE_ANTICIPOS_CONTABLE)">{{constantes.TAG_CONTABLE}}</a>\r\n          </div>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarAnticipos" (click)="exportar()"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-default mr-1" id="btnCancelar" (click)="regresar()" title="{{constantes.ATAJO_CANCELAR}}"\r\n            *ngIf="parametrosBusqueda.accion === constantes.ACCION_CONSULTAR">\r\n            <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0">\r\n      <div class="row">\r\n        <div class="col-sm-5 col-md-6">\r\n          <div class="input-group p-1">\r\n            <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n              size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n              size="100">\r\n            <div class="input-group-append">\r\n              <span class="input-group-text">\r\n                <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-7 col-md-6">\r\n          <div class="float-right pr-1">\r\n            <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n              maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n        [rowData]="listaDetalleAnticipos" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n        [rowSelection]="rowSelection" [suppressRowClickSelection]="true" [enableColResize]="true" [context]="context"\r\n        (gridReady)="onGridReady($event)" [frameworkComponents]="frameworkComponents" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n        [pinnedBottomRowData]="pinnedBottomRowData" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n        (cellDoubleClicked)="isModal ? filaSeleccionar() : consultarAnticipo()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n        (contextmenu)="$event.preventDefault()">\r\n      </ag-grid-angular>\r\n    </div>\r\n    <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n<div *ngIf="mostrarAccionesContabilidad">\r\n  <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n    (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},HzP7:function(e,t){e.exports=""},"IN7/":function(e,t){e.exports=""},Id9B:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frm=\'ngForm\' name="frm" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset [disabled]="mostrarContabilidaAcciones">\r\n        <div class="card-header">\r\n          <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n          <b>{{constantes.TITULO_FILTROS}}</b>\r\n        </div>\r\n        <div class="card-body  pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_PERIODO}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarPeriodos()" *ngIf="!mostrarContabilidaAcciones">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="periodo" [(ngModel)]="periodoSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listadoPeriodos"> {{periodo?.perDetalle}}\r\n                ({{periodo?.sisPeriodoPK?.perCodigo}} )</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_TIPO_COMPROBANTES}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarTipos()" *ngIf="!mostrarContabilidaAcciones">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_TIPOS_COMPROBANTES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoSeleccionado" required\r\n              (ngModelChange)="limpiarResultado()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="tipo" *ngFor="let tipo of listaTipos"> {{tipo?.tipDetalle}} ({{tipo?.tipCodigo}} )</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback pb-0">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_NUMERO}}</b>\r\n            </label>\r\n            <input [appFocus]="true" name="txtBusqueda" (blur)="completarCeros()" [disabled]="mostrarContabilidaAcciones"\r\n              [(ngModel)]="conNumero" placeholder="{{constantes.TAG_OBLIGATORIO}}" class="form-control input-sm"\r\n              maxlength="7" required pattern="{{constantes.PATTERN_NUMEROS}}" pKeyFilter="pint" (keypress)="soloNumeros($event)">\r\n            <span *ngIf="!mostrarContabilidaAcciones" class="fa fa-question-circle form-control-feedback" placement="right"\r\n              ngbPopover="{{constantes.MSJ_INGRESE_SOLO_NUMEROS}}" container="body"></span>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n          <div class="text-right">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscarSoporteContableProvisiones" (click)="buscarSoporteComprobante(frm)"\r\n              title="{{constantes.ATAJO_BUSCAR}}">\r\n              <i class=" {{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="!mostrarContabilidaAcciones">\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultadoSoporteComprobante?.length>0 ">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarSoporteContableProvisiones" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_PROVISIONES_COMPROBANTES_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSoporteContableProvisiones"\r\n              (click)="imprimirSoporteComprobante()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSoporteContableProvisiones"\r\n              (click)="exportarSoporteComprobante()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSoporteContableProvisiones"\r\n              (click)="imprimirSoporteComprobante()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSoporteContableProvisiones"\r\n              (click)="exportarSoporteComprobante()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" class="form-control form-control-sm input-filter" size="100" style="font-family: Arial, FontAwesome;"\r\n                placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100" (input)="gridApi?gridApi.setQuickFilter($event.target.value):null">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text"><i class="{{constantes.ICON_BUSCAR}}"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoSoporteComprobante" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [frameworkComponents]="frameworkComponents" [rowSelection]="rowSelection"\r\n          [enableColResize]="true" [components]="components" [context]="context" (gridReady)="onGridReady($event)"\r\n          (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimensionarColumnas()" (gridSizeChanged)="redimensionarColumnas()"\r\n          (rowSelected)="soporteComprobanteSeleccionado = $event.node.data" (cellFocused)="filaFocused($event)"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Js1r:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar name="fechaHasta" [(ngModel)]="fechaHasta" (ngModelChange)="limpiarResultado();" [showIcon]="true"\r\n              [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}" [required]="true" [maxDate]="fechaActual"\r\n              [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarSaldoConsSueldoPagar" class="btn btn-sm btn-primary" (click)="buscarSaldoConsSueldoPagar()">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO CONTABILIDAD ESTADO RESULTADO INTEGRAL COMPARATIVO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarSaldoConsSueldoPagar" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_SALDO_CONSOLIDADO_SUELDO_PAGAR_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoConsSueldoPagar" (click)="imprimirSaldoConsSueldoPagar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoConsSueldoPagar" (click)="exportarSaldoConsSueldoPagar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoConsSueldoPagar" (click)="imprimirSaldoConsSueldoPagar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoConsSueldoPagar" (click)="exportarSaldoConsSueldoPagar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Kwaq:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n        <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmBusqueda="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control input-sm mousetrap" name="cboEmpresa" [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}} ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" [showClear]="true" [ngClass]="{\'mousetrap\': true}" name="cboSector" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre" optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}} )\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}} )</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" id="fechaDesde" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary mr-1" (click)="listarCuadroProvision(frmBusqueda)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} ">\r\n    <div class="card m-0" *ngIf="listadoResultadoCuadroProvision?.length> 0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarCuadroProvision" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{titulo}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarCuadroProvision" (click)="exportarCuadroProvision()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarCuadroProvision" (click)="exportarCuadroProvision()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName" maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}"\r\n                defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham" [rowData]="listadoResultadoCuadroProvision"\r\n          [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey" [rowSelection]="rowSelection"\r\n          [enableColResize]="true" [components]="components" [context]="context" [frameworkComponents]="frameworkComponents"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" [rowClassRules]="rowClassRules">\r\n        </ag-grid-angular>\r\n\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},LwJt:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <fieldset [disabled]="parametrosFormulario && parametrosBusqueda">\r\n          <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_EMPRESA}}</b>\r\n              </label>\r\n              <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n                (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                  ({{empresa.empCodigo}})\r\n                </option>\r\n              </select>\r\n            </div>\r\n            \x3c!--Centro produccion--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_CENTRO_PRODUCCION}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarSectores()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CENTRO_PRODUCCION}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Motivos--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_MOTIVO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarxivSueldoMotivo()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_MOTIVOS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaMotivos" name="motivo" [showClear]="true" [(ngModel)]="motivoxivSueldoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="rhXivSueldoMotivoPK.motDetalle"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{motivoxivSueldoSeleccionado?.rhXivSueldoMotivoPK.motDetalle}}\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.rhXivSueldoMotivoPK.motDetalle}} </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            \x3c!--Periodo--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_PERIODO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarPeriodos()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <select class="form-control form-control-sm" name="periodo" required [(ngModel)]="periodoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()">\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos"> {{periodo.xivDescripcion}} </option>\r\n              </select>\r\n            </div>\r\n            \x3c!--Concepto--\x3e\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_FORMA_PAGO}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarFormaPago()" *ngIf="!parametrosFormulario && !parametrosBusqueda">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_FORMA_PAGO}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaFormasPagoBeneficio" name="fp" [showClear]="true" [(ngModel)]="formaPagoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="fpDetalle"\r\n                [disabled]="parametrosFormulario && parametrosBusqueda">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{formaPagoSeleccionado?.fpDetalle}} ( {{formaPagoSeleccionado?.ctaCodigo}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.fpDetalle}} ( {{fs.value.ctaCodigo}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n\r\n          </form>\r\n        </fieldset>\r\n      </div>\r\n\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button id="btnBuscarxivSueldo" type="button" class="btn btn-sm btn-primary" (click)="buscarxivSueldo(frm)"\r\n            title="{{constantes.ATAJO_BUSCAR}}" [disabled]="parametrosFormulario && parametrosBusqueda">\r\n            <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i> {{constantes.LABEL_GENERAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <app-xiv-sueldo-formulario [parametrosFormulario]="parametrosFormulario" [parametrosBusqueda]="parametrosBusqueda"\r\n      (enviarAccion)="accionesXivSueldo($event)" *ngIf="parametrosFormulario && parametrosBusqueda"></app-xiv-sueldo-formulario>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"O/oI":function(e,t){e.exports=""},"O/ob":function(e,t){e.exports='<div class="card mb-0" *ngIf="listaOrdenBancario?.length>0" [ngClass]="{\'modal-primary\': isModal}">\r\n  <div class="modal-header p-2" *ngIf="isModal">\r\n    <h4 class="modal-title">{{constantes.TALENTO_HUMANO_ORDENES_BANCARIAS_LISTADO}}</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="card-header p-1" *ngIf="!isModal">\r\n    <button class="btn btn-sm btn-primary" id="btnActivar" *ngIf="isScreamMd" (click)="cambiarActivar(activar)" type="button"\r\n      title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n      <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n    </button>\r\n    <b> {{constantes.TALENTO_HUMANO_ORDENES_BANCARIAS_LISTADO}}</b>\r\n    <div class="card-header-actions">\r\n      <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportarExcel()" placement="top"\r\n        ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n        <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n        <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class="card-body" style="padding: 0 0 0 0">\r\n    <div class="row">\r\n      <div class="col-sm-5 col-md-6">\r\n        <div class="input-group p-1">\r\n          <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n            size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n            size="100">\r\n          <div class="input-group-append">\r\n            <span class="input-group-text">\r\n              <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="col-sm-7 col-md-6">\r\n        <div class="float-right pr-1">\r\n          <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n            maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \x3c!--listado de ordenes bancarias--\x3e\r\n    <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 206px);" class="ag-theme-balham"\r\n      [rowData]="listaOrdenBancario" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n      [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n      [frameworkComponents]="frameworkComponents" (gridSizeChanged)="redimensionarColumnas()" (gridReady)="onGridReady($event)"\r\n      [pinnedBottomRowData]="pinnedBottomRowData" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n      (gridColumnsChanged)="redimensionarColumnas()" (cellFocused)="filaFocused($event)">\r\n    </ag-grid-angular>\r\n    \x3c!--end listado ordenes bancarias--\x3e\r\n  </div>\r\n  <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n\r\n  <div *ngIf="cargando">\r\n    <app-cargando></app-cargando>\r\n  </div>'},O133:function(e,t){e.exports=""},O6GA:function(e,t){e.exports=""},OPF4:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmFormaPago=\'ngForm\' name="frmFormaPago" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnBuscarFormaPago" (click)="!vistaFormulario ? buscarFormaPago(false) : null"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="!vistaFormulario ? buscarFormaPago(true) : null">{{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnNuevoFormaPago" (click)="!vistaFormulario && formaPagoService.verificarPermiso(constantes.ACCION_NUEVO, empresaSeleccionada, true) ? nuevaFormaPago() : null"\r\n              [disabled]="!frmFormaPago.valid" title="{{constantes.ATAJO_NUEVO}}">\r\n              <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <form #frmDatos=\'ngForm\' autocomplete="off" class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivarFormaPago" class="btn btn-sm btn-primary" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b> {{accion}} {{constantes.RRHH_FORMA_PAGO.toLowerCase()}} - {{empresaSeleccionada.empNombre}}\r\n          </b>\r\n          <div class="card-header-actions">\r\n            \x3c!--Sin etiquetas--\x3e\r\n            <div class="btn-group d-lg-none">\r\n              \x3c!--Guardar--\x3e\r\n              <div *ngIf="accion !== constantes.ACCION_CONSULTA" class="btn-group mr-1">\r\n                <button id="btnGuardarFormaPago" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertarFormaPago(frmDatos) : modificarFormaPago(frmDatos)"\r\n                  placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n                  <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n                  <span class="d-none d-md-inline"> </span>\r\n                </button>\r\n              </div>\r\n              \x3c!--Cancelar y/o regresar--\x3e\r\n              <button id="btnCancelarFormaPago" type="button" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n                ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}"\r\n                (click)="cancelar()">\r\n                <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n                  aria-hidden="true"></i>\r\n              </button>\r\n            </div>\r\n            \x3c!-- Con etiquetas--\x3e\r\n            <div class="btn-group d-none d-lg-block">\r\n              \x3c!--Guardar--\x3e\r\n              <div *ngIf="accion !== constantes.ACCION_CONSULTAR" class="btn-group mr-1">\r\n                <button id="btnGuardarFormaPago" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertarFormaPago(frmDatos) : modificarFormaPago(frmDatos)"\r\n                  placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n                  <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"> </i>\r\n                  <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}} </span>\r\n                </button>\r\n              </div>\r\n              \x3c!--Cancelar y/o regresar--\x3e\r\n              <button id="btnCancelarFormaPago" type="button" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n                (click)="cancelar()" ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}">\r\n                <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n                  aria-hidden="true"></i>\r\n                {{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="card-body p-1">\r\n          <fieldset [disabled]="accion === constantes.ACCION_CONSULTAR">\r\n            <div class="card mb-1">\r\n              <div class="card-header">\r\n                <b> {{constantes.TAG_DATOS_GENERALES}}</b>\r\n              </div>\r\n              <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0">\r\n                <div class="row">\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_CODIGO_CUENTA}}</strong>\r\n                    </label>\r\n                    <input type="text" appUppercase class="form-control form-control-sm text-uppercase mousetrap" name="ctaCodigo"\r\n                      id="ctaCodigo" required placeholder="{{constantes.TAG_OBLIGATORIO}}" (keydown)="abrirModalDeCuentas($event, formaPago.ctaCodigo)"\r\n                      [(ngModel)]="formaPago.ctaCodigo" (blur)="validarCuenta()">\r\n                  </div>\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_DETALLE}}</strong>\r\n                    </label>\r\n                    <label class="form-control form-control-sm text-uppercase label-input">{{formaPago &&\r\n                      formaPago.fpDetalle?formaPago.fpDetalle:constantes.TAG_OBLIGATORIO}}</label>\r\n                  </div>\r\n                </div>\r\n                <div class="row">\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_SECTOR}}</strong>\r\n                    </label>\r\n                    <select class="form-control form-control-sm  text-uppercase mousetrap" name="secCodigo" id="secCodigo"\r\n                      [(ngModel)]="formaPago.secCodigo" required>\r\n                      <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                      <option [ngValue]="sector.secCodigo" *ngFor="let sector of listaSectores"> {{sector.secNombre}}\r\n                        ({{sector.secCodigo}})\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class="card mb-0" [hidden]="vistaFormulario" *ngIf="listadoFormaPago?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarFormaPago" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <b> {{constantes.INVENTARIO_FORMA_PAGO_LISTADO}}</b>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirFormaPago" (click)="imprimirFormaPago()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarFormaPago" (click)="exportarFormaPago()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirFormaPago" (click)="imprimirFormaPago()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarFormaPago" (click)="exportarFormaPago()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listadoFormaPago" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="objetoSeleccionado = $event.node.data" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="objetoSeleccionado = $event.node.data;consultarFormaPago()">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},OtRb:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmBono=\'ngForm\' name="frmBono" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              [disabled]="estadoformulario" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n              &nbsp;\r\n              <a (click)="!estadoformulario ? listarCategorias() : null" *ngIf="!estadoformulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaCategorias" name="categorias" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="catNombre"\r\n              [disabled]="estadoformulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DEDUCIBLE}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="deducible" required [(ngModel)]="deducibleSeleccionado"\r\n              [disabled]="estadoformulario" (ngModelChange)="limpiarResultado()">\r\n              <option [ngValue]="deducible" *ngFor="let deducible of listaDeducible">{{deducible}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_TRABAJADOR}}</strong>\r\n            </label>\r\n            <input [appFocus]="true" type="text" name="trabajador" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n              [(ngModel)]="trabajador.rhEmpleadoPK.empId" class="form-control form-control-sm text-uppercase mousetrap"\r\n              (keydown)="abrirModalTrabajadores($event)" (blur)="validarEmpleado()" [ngbTooltip]="trabajador.empNombres ? trabajador.empNombres : null"\r\n              appUppercase [disabled]="estadoformulario">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}"\r\n              triggers="mouseenter:mouseleave" container="body"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaDesde" class="mousetrap" name="fechaDesde" [(ngModel)]="fechaDesde" [appMaxDate]="fechaHasta"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [maxDate]="fechaHasta" [disabled]="estadoformulario"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta" [disabled]="estadoformulario"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarDetallePrestamos(constantes.TAG_TODOS_MAYUSCULA, frmBono)"\r\n                title="{{constantes.ATAJO_BUSCAR}}" [disabled]="estadoformulario">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n                [disabled]="estadoformulario">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="listarDetallePrestamos(constantes.ETIQUETA_PENDIENTES, frmBono)">{{constantes.TAG_PENDIENTES}}</a>\r\n                <a class="dropdown-item" (click)="listarDetallePrestamos(constantes.ETIQUETA_ANULADOS, frmBono)">{{constantes.TAG_ANULADOS}}</a>\r\n                <a class="dropdown-item" (click)="listarDetallePrestamos(constantes.ETIQUETA_REVERSADOS, frmBono)">{{constantes.TAG_REVERSADOS}}</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--Listado de detalle bonos--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-detalle-bonos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)" (estadoformulario)="estadoformulario=$event"></app-detalle-bonos-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},PMxB:function(e,t){e.exports=""},PU5r:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" id="btnBuscarXivSueldoMotivo" class="btn btn-sm btn-primary" (click)="buscarXivSueldoMotivo(true)"\r\n              title="{{constantes.ATAJO_BUSCAR}}" [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              [disabled]="vistaFormulario">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="buscarXivSueldoMotivo(false)"> {{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" id="btnNuevoXivSueldoMotivo" class="btn btn-sm btn-primary mr-1" (click)="frm?.form.valid ? operacionesXivSueldoMotivo(constantes.ACCION_CREAR) : null"\r\n            title="{{constantes.ATAJO_NUEVO}}" [disabled]="vistaFormulario">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    \x3c!--Formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivarXivSueldoMotivo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardarXivSueldoMotivo" type="button" (click)="guardarXivSueldoMotivo(frmXivSueldoMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardarXivSueldoMotivo" type="button" (click)="actualizarXivSueldoMotivo(frmXivSueldoMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button (click)="cancelarAccion()" id="btnCancelarXivSueldoMotivo" type="button" class="btn btn-sm btn-default mr-1"\r\n              [disabled]="cargando" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmXivSueldoMotivo="ngForm" name="frmXivSueldoMotivo" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_DETALLE}}</b>\r\n                </label>\r\n                <input [appFocus]="accion === constantes.ACCION_CREAR" class="form-control form-control-sm mousetrap text-uppercase"\r\n                  name="detalle" maxlength="150" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="rhXivSueldoMotivo.rhXivSueldoMotivoPK.motDetalle"\r\n                  appUppercase id="detalle" [disabled]="accion === constantes.ACCION_EDITAR" required>\r\n              </div>\r\n              <div class="form-group form-group-sm has-feedback col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_TIPO_COMPROBANTES}}</strong>\r\n                  &nbsp;\r\n                  <a (click)="listarTipos()">\r\n                    <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_TIPOS_COMPROBANTES}}"\r\n                      container="body"></span>\r\n                  </a>\r\n                </label>\r\n                <select [appFocus]="accion === constantes.ACCION_EDITAR" class="form-control input-sm mousetrap" name="tipo"\r\n                  [(ngModel)]="tipoSeleccionado" required>\r\n                  <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                  <option [ngValue]="tipo" *ngFor="let tipo of listaTipos"> {{tipo?.tipDetalle}} ({{tipo?.tipCodigo}} )</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultadoXivSueldoMotivo?.length>0" [hidden]="vistaFormulario">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarXivSueldoMotivo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_ARCHIVO_MOTIVO_XIV_SUELDO_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXivSueldoMotivo" (click)="imprimirRhXivSueldoMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXivSueldoMotivo" (click)="exportarRhXivSueldoMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXivSueldoMotivo" (click)="imprimirRhXivSueldoMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXivSueldoMotivo" (click)="exportarRhXivSueldoMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body p-0">\r\n\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" class="form-control form-control-sm input-filter" size="100" style="font-family: Arial, FontAwesome;"\r\n                placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100" (input)="gridApi?gridApi.setQuickFilter($event.target.value):null">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text"><i class="{{constantes.ICON_BUSCAR}}"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoXivSueldoMotivo" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (contextmenu)="$event.preventDefault()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (rowSelected)="xivSueldoMotivoSeleccionado = $event.node.data" (cellFocused)="filaFocused($event)"\r\n          (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Pe4f:function(e,t){e.exports=""},RM1P:function(e,t){e.exports=""},RO9G:function(e,t){e.exports=""},RxlQ:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmContable=\'ngForm\' name="frmContable" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarAccionesContabilidad">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.CONTABILIDAD_TIPO_CONTABLE}}</strong>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoContableSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" required [disabled]="mostrarAccionesContabilidad">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="tipo" *ngFor="let tipo of listaTipoContable"> {{tipo?.tipDetalle}}\r\n                ({{tipo?.tipCodigo}} )</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_PERIODO}}</strong>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="periodo" [(ngModel)]="periodoSeleccionado" [disabled]="mostrarAccionesContabilidad"\r\n              (ngModelChange)="limpiarResultado()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodo">{{periodo.sisPeriodoPK.perCodigo}} |\r\n                {{periodo.perDetalle}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_NUMERO_CONTABLE}}</strong>\r\n            </label>\r\n            <input [appFocus]="true" name="txtBusqueda" (blur)="completarCeros()" [(ngModel)]="numeroContable"\r\n              placeholder="{{constantes.TAG_OBLIGATORIO}}" class="form-control input-sm" maxlength="7" required pattern="{{constantes.PATTERN_NUMEROS}}"\r\n              pKeyFilter="pint" (keypress)="soloNumeros($event)" [disabled]="mostrarAccionesContabilidad">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_INGRESE_SOLO_NUMEROS}}"\r\n              triggers="mouseenter:mouseleave" container="body"></span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarSoporteContableAnticipo(frmContable)"\r\n            [disabled]="mostrarAccionesContabilidad">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="mostrarAccionesContabilidad">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="!screamXS" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_SOPORTE_CONTABLE_BONOS_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnVerContable" (click)="verContable()"\r\n              placement="top" ngbTooltip="{{constantes.ACCION_VER_CONTABLE}}" container="body">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.ACCION_VER_CONTABLE}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnImprimir" (click)="imprimir(constantes.NOMBRE_REPORTE_COMPROBANTE_BONOS_LOTE)"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-1" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="imprimir(constantes.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO)">{{constantes.TAG_FIRMA_INDIVIDUAL}}</a>\r\n              <a class="dropdown-item" (click)="imprimir(constantes.NOMBRE_REPORTE_DETALLE_ANTICIPOS_FIRMA_COLECTIVA)">{{constantes.TAG_FIRMA_COLECTIVA}}</a>\r\n              <a class="dropdown-item" (click)="imprimir(constantes.NOMBRE_REPORTE_COMPROBANTE_CONTABLE)">{{constantes.TAG_CONTABLE}}</a>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n          [frameworkComponents]="frameworkComponents" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          [suppressRowClickSelection]="true" [pinnedBottomRowData]="pinnedBottomRowData" (filterChanged)="actualizarFilas()"\r\n          (cellFocused)="filaFocused($event)" (cellDoubleClicked)="isModal ? filaSeleccionar() : consultarAnticipo()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar && mostrarAccionesContabilidad">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},SdbC:function(e,t){e.exports=""},"U/oK":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarPeriodosUtilidad" class="btn btn-sm btn-primary  mr-1" (click)="buscarPeriodosUtilidad()"\r\n            title="{{constantes.ATAJO_BUSCAR}}" [disabled]="vistaFormulario">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n          </button>\r\n          <button type="button" id="btnNuevoPeriodosUtilidad" class="btn btn-sm btn-primary mr-1" (click)="frm?.form.valid ? operaciones(constantes.ACCION_CREAR) : null"\r\n            title="{{constantes.ATAJO_NUEVO}}" [disabled]="vistaFormulario">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    \x3c!--Formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivarPeriodosUtilidad" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardarPeriodosUtilidad" type="button" (click)="insertarPeriodosUtilidad(frmPeriodosUtilidad)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardarPeriodosUtilidad" type="button" (click)="actualizarPeriodosUtilidad(frmPeriodosUtilidad)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button (click)="cancelarAccion()" id="btnCancelarPeriodosUtilidad" type="button" class="btn btn-sm btn-default mr-1"\r\n              [disabled]="cargando" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmPeriodosUtilidad="ngForm" name="frmPeriodosUtilidad" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_DESCRIPCION}}</b>\r\n                </label>\r\n                <input [appFocus]="accion === constantes.ACCION_CREAR" class="form-control form-control-sm mousetrap text-uppercase"\r\n                  name="detalle" maxlength="150" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="rhUtilidadesPeriodoTO.utiDescripcion"\r\n                  appUppercase id="detalle" [disabled]="accion === constantes.ACCION_EDITAR" required>\r\n              </div>\r\n              <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n                </label>\r\n                <p-calendar [appFocus]="accion === constantes.ACCION_EDITAR" inputId="iniFecha" name="iniFecha" id="fechaDesde"\r\n                  [(ngModel)]="fechaDesde" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta" dateFormat="dd/mm/yy"\r\n                  [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n              </div>\r\n              <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n                </label>\r\n                <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaHasta" [minDate]="fechaDesde"\r\n                  [appMinDate]="fechaDesde" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n              </div>\r\n              <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_FECHA_MAXIMO_PAGO}}</b>\r\n                </label>\r\n                <p-calendar inputId="fechaMaximaPago" name="fechaMaximaPago" [(ngModel)]="fechaMaximaPago" [minDate]="fechaDesde"\r\n                  [appMinDate]="fechaDesde" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n              </div>\r\n              <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_TOTAL_DIAS}}</b>\r\n                </label>\r\n                <input name="utiTotalDias" [(ngModel)]="rhUtilidadesPeriodoTO.utiTotalDias" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                  class="form-control input-sm text-right" maxlength="7" required pattern="{{constantes.PATTERN_NUMEROS}}"\r\n                  (keypress)="soloNumeros($event)">\r\n              </div>\r\n              <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_TOTAL_CARGAS}}</b>\r\n                </label>\r\n                <input name="utiTotalCargas" [(ngModel)]="rhUtilidadesPeriodoTO.utiTotalCargas" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                  class="form-control input-sm text-right" maxlength="7" required pattern="{{constantes.PATTERN_NUMEROS}}"\r\n                  (keypress)="soloNumeros($event)">\r\n              </div>\r\n              <div class="form-group form-group-sm col-lg-3 col-md-3 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_TOTAL_PAGAR}}</b>\r\n                </label>\r\n                <input name="utiTotalPagar" [(ngModel)]="rhUtilidadesPeriodoTO.utiTotalPagar" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                  [appMinNumber]="0" [appAutonumeric2]="rhUtilidadesPeriodoTO.utiTotalPagar" value="{{rhUtilidadesPeriodoTO.utiTotalPagar}}"\r\n                  (updateValue)="rhUtilidadesPeriodoTO.utiTotalPagar = $event" class="form-control input-sm text-right"\r\n                  maxlength="12" required pattern="{{constantes.PATTERN_NUMEROS}}" (keypress)="soloNumeros($event)">\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0" [hidden]="vistaFormulario">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarPeriodosUtilidad" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_ARCHIVO_PERIODO_UTILIDAD_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirPeriodosUtilidad" (click)="imprimirPeriodosUtilidad()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarPeriodosUtilidad" (click)="exportarPeriodosUtilidad()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirPeriodosUtilidad" (click)="imprimirPeriodosUtilidad()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarPeriodosUtilidad" (click)="exportarPeriodosUtilidad()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" class="form-control form-control-sm input-filter" size="100" style="font-family: Arial, FontAwesome;"\r\n                placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100" (input)="gridApi?gridApi.setQuickFilter($event.target.value):null">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text"><i class="{{constantes.ICON_BUSCAR}}"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (contextmenu)="$event.preventDefault()"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          (cellFocused)="filaFocused($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div *ngIf="cargando">\r\n    <app-cargando></app-cargando>\r\n  </div>'},"UgV/":function(e,t){e.exports=""},VSMe:function(e,t){e.exports=""},WBfR:function(e,t){e.exports=""},WELC:function(e,t,o){"use strict";o.r(t);var a=o("CcnG"),i=o("z5Y/"),r=o("SZbH"),n=o("nR5P"),s=o("mwBN"),c=o("Ungd"),l=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruCrear&&t.empresaSeleccionada.listaSisPermisoTO.gruCrearClientes;break;case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_EDITAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruModificar&&t.empresaSeleccionada.listaSisPermisoTO.gruModificarClientes;break;case s.a.ACCION_ELIMINAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruEliminar;break;case s.a.ACCION_IMPRIMIR:a=t.empresaSeleccionada.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.ERROR_403_TITULO),a},e.prototype.listarMotivoBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhBonoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarPrdListaRhBonoMotivoTO(e.extraInfo):(t.despuesDeListarPrdListaRhBonoMotivoTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.insertarMotivoBono=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhBonoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeInsertarMotivoBono(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarMotivoBono=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhBonoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesModificarMotivoBono(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarEstadoMotivoBono=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarEstadoRhBonoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesModificarEstadoMotivoBono(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.eliminarMotivoBono=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhBonoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO),t.despuesDeEliminarMotivoBono(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirMotivoBonos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/imprimirReporteMotivoBonos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoMotivoBonos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.exportarMotivoBonos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteMotivoBonos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoMotivoBonos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t=[{headerName:s.a.TAG_DETALLE,field:"rhBonoMotivoPK.motDetalle",width:250,minWidth:250},{headerName:s.a.TAG_TIPO_CONTABLE,field:"conTipo.conTipoPK.tipCodigo",width:110,minWidth:110}],e&&t.push(this.utilService.getSpanSelect()),e||t.push({headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"motInactivo",width:110,minWidth:110,cellRenderer:"inputEstado",cellClass:"text-md-center"},this.utilService.getColumnaOpciones()),t},e=l([Object(a.Injectable)({providedIn:"root"}),d("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),m=function(){function e(e){this.motEmpresa="",this.motDetalle="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.motEmpresa=e.motEmpresa?e.motEmpresa:this.motEmpresa,this.motDetalle=e.motDetalle?e.motDetalle:this.motDetalle},e}(),u=o("0dX5"),h=function(){function e(e){this.rhBonoMotivoPK=new m,this.motInactivo=!1,this.conTipo=new u.a,this.usrEmpresa="",this.usrCodigo="",this.usrFechaInserta=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.rhBonoMotivoPK=e.rhBonoMotivoPK?e.rhBonoMotivoPK:this.rhBonoMotivoPK,this.conTipo=e.conTipo?e.conTipo:this.conTipo,this.motInactivo=e.motInactivo?e.motInactivo:this.motInactivo,this.usrCodigo=e.usrCodigo?e.usrCodigo:this.usrCodigo,this.usrEmpresa=e.usrEmpresa?e.usrEmpresa:this.usrEmpresa,this.usrFechaInserta=e.usrFechaInserta?e.usrFechaInserta:this.usrFechaInserta},e}(),v=o("LlOB"),f=o("M+vq"),A=o("yccp"),g=o("ZYCi"),b=function(){function e(e,t){this.empCodigo="",this.catNombre="",this.ctaAnticipos="",this.ctaPrestamos="",this.ctaPorPagarBonos="",this.ctaPorPagarSueldo="",this.ctaPorPagarImpuestoRenta="",this.ctaPorPagarUtilidades="",this.ctaGastoHorasExtras="",this.ctaGastoHorasExtras100="",this.ctaGastoBonos="",this.ctaGastoBonosNd="",this.ctaGastoBonoFijo="",this.ctaGastoBonoFijoNd="",this.ctaGastoOtrosIngresos="",this.ctaGastoOtrosIngresosNd="",this.ctaPermisoMedico="",this.ctaGastoSueldos="",this.ctaPrestamoQuirografario="",this.ctaPrestamoHipotecario="",this.ctaAportepersonal="",this.ctaAporteExtension="",this.ctaAportepatronal="",this.ctaIece="",this.ctaSecap="",this.ctaXiii="",this.ctaXiv="",this.ctaFondoreserva="",this.ctaVacaciones="",this.ctaDesahucio="",this.ctaGastoAporteindividual="",this.ctaGastoAportepatronal="",this.ctaGastoIece="",this.ctaGastoSecap="",this.ctaGastoXiii="",this.ctaGastoXiv="",this.ctaGastoFondoreserva="",this.ctaGastoVacaciones="",this.ctaGastoSalarioDigno="",this.ctaGastoDesahucio="",this.ctaGastoDesahucioIntempestivo="",this.ctaGastoBonoLiquidacion="",this.tipCodigo="",this.usrInsertaCategoria="",this.usrFechaInsertaCategoria="",t&&this.hydrate(t),"cuenta"==e&&this.formatearCuentas(t),"nombre"==e&&this.formatearNombres(t)}return e.prototype.hydrate=function(e){this.empCodigo=e.empCodigo?e.empCodigo:this.empCodigo,this.catNombre=e.catNombre?e.catNombre:this.catNombre,this.ctaAnticipos=e.ctaAnticipos?e.ctaAnticipos:this.ctaAnticipos,this.ctaPrestamos=e.ctaPrestamos?e.ctaPrestamos:this.ctaPrestamos,this.ctaPorPagarBonos=e.ctaPorPagarBonos?e.ctaPorPagarBonos:this.ctaPorPagarBonos,this.ctaPorPagarSueldo=e.ctaPorPagarSueldo?e.ctaPorPagarSueldo:this.ctaPorPagarSueldo,this.ctaPorPagarImpuestoRenta=e.ctaPorPagarImpuestoRenta?e.ctaPorPagarImpuestoRenta:this.ctaPorPagarImpuestoRenta,this.ctaPorPagarUtilidades=e.ctaPorPagarUtilidades?e.ctaPorPagarUtilidades:this.ctaPorPagarUtilidades,this.ctaGastoHorasExtras=e.ctaGastoHorasExtras?e.ctaGastoHorasExtras:this.ctaGastoHorasExtras,this.ctaGastoHorasExtras100=e.ctaGastoHorasExtras100?e.ctaGastoHorasExtras100:this.ctaGastoHorasExtras100,this.ctaGastoBonos=e.ctaGastoBonos?e.ctaGastoBonos:this.ctaGastoBonos,this.ctaGastoBonosNd=e.ctaGastoBonosNd?e.ctaGastoBonosNd:this.ctaGastoBonosNd,this.ctaGastoBonoFijo=e.ctaGastoBonoFijo?e.ctaGastoBonoFijo:this.ctaGastoBonoFijo,this.ctaGastoBonoFijoNd=e.ctaGastoBonoFijoNd?e.ctaGastoBonoFijoNd:this.ctaGastoBonoFijoNd,this.ctaGastoOtrosIngresos=e.ctaGastoOtrosIngresos?e.ctaGastoOtrosIngresos:this.ctaGastoOtrosIngresos,this.ctaGastoOtrosIngresosNd=e.ctaGastoOtrosIngresosNd?e.ctaGastoOtrosIngresosNd:this.ctaGastoOtrosIngresosNd,this.ctaPermisoMedico=e.ctaPermisoMedico?e.ctaPermisoMedico:this.ctaPermisoMedico,this.ctaGastoSueldos=e.ctaGastoSueldos?e.ctaGastoSueldos:this.ctaGastoSueldos,this.ctaPrestamoQuirografario=e.ctaPrestamoQuirografario?e.ctaPrestamoQuirografario:this.ctaPrestamoQuirografario,this.ctaPrestamoHipotecario=e.ctaPrestamoHipotecario?e.ctaPrestamoHipotecario:this.ctaPrestamoHipotecario,this.ctaAportepersonal=e.ctaAportepersonal?e.ctaAportepersonal:this.ctaAportepersonal,this.ctaAporteExtension=e.ctaAporteExtension?e.ctaAporteExtension:this.ctaAporteExtension,this.ctaAportepatronal=e.ctaAportepatronal?e.ctaAportepatronal:this.ctaAportepatronal,this.ctaIece=e.ctaIece?e.ctaIece:this.ctaIece,this.ctaSecap=e.ctaSecap?e.ctaSecap:this.ctaSecap,this.ctaXiii=e.ctaXiii?e.ctaXiii:this.ctaXiii,this.ctaXiv=e.ctaXiv?e.ctaXiv:this.ctaXiv,this.ctaFondoreserva=e.ctaFondoreserva?e.ctaFondoreserva:this.ctaFondoreserva,this.ctaVacaciones=e.ctaVacaciones?e.ctaVacaciones:this.ctaVacaciones,this.ctaDesahucio=e.ctaDesahucio?e.ctaDesahucio:this.ctaDesahucio,this.ctaGastoAporteindividual=e.ctaGastoAporteindividual?e.ctaGastoAporteindividual:this.ctaGastoAporteindividual,this.ctaGastoAportepatronal=e.ctaGastoAportepatronal?e.ctaGastoAportepatronal:this.ctaGastoAportepatronal,this.ctaGastoIece=e.ctaGastoIece?e.ctaGastoIece:this.ctaGastoIece,this.ctaGastoSecap=e.ctaGastoSecap?e.ctaGastoSecap:this.ctaGastoSecap,this.ctaGastoXiii=e.ctaGastoXiii?e.ctaGastoXiii:this.ctaGastoXiii,this.ctaGastoXiv=e.ctaGastoXiv?e.ctaGastoXiv:this.ctaGastoXiv,this.ctaGastoFondoreserva=e.ctaGastoFondoreserva?e.ctaGastoFondoreserva:this.ctaGastoFondoreserva,this.ctaGastoVacaciones=e.ctaGastoVacaciones?e.ctaGastoVacaciones:this.ctaGastoVacaciones,this.ctaGastoSalarioDigno=e.ctaGastoSalarioDigno?e.ctaGastoSalarioDigno:this.ctaGastoSalarioDigno,this.ctaGastoDesahucio=e.ctaGastoDesahucio?e.ctaGastoDesahucio:this.ctaGastoDesahucio,this.ctaGastoDesahucioIntempestivo=e.ctaGastoDesahucioIntempestivo?e.ctaGastoDesahucioIntempestivo:this.ctaGastoDesahucioIntempestivo,this.ctaGastoBonoLiquidacion=e.ctaGastoBonoLiquidacion?e.ctaGastoBonoLiquidacion:this.ctaGastoBonoLiquidacion,this.tipCodigo=e.tipCodigo?e.tipCodigo:this.tipCodigo,this.usrInsertaCategoria=e.usrInsertaCategoria?e.usrInsertaCategoria:this.usrInsertaCategoria,this.usrFechaInsertaCategoria=e.usrFechaInsertaCategoria?e.usrFechaInsertaCategoria:this.usrFechaInsertaCategoria},e.prototype.formatearCuentas=function(e){this.empCodigo=e.empCodigo?e.empCodigo:this.empCodigo,this.catNombre=e.catNombre?e.catNombre:this.catNombre,this.ctaAnticipos=e.ctaAnticipos?this.extraerCuenta(e.ctaAnticipos):this.ctaAnticipos,this.ctaPrestamos=e.ctaPrestamos?this.extraerCuenta(e.ctaPrestamos):this.ctaPrestamos,this.ctaPorPagarBonos=e.ctaPorPagarBonos?this.extraerCuenta(e.ctaPorPagarBonos):this.ctaPorPagarBonos,this.ctaPorPagarSueldo=e.ctaPorPagarSueldo?this.extraerCuenta(e.ctaPorPagarSueldo):this.ctaPorPagarSueldo,this.ctaPorPagarImpuestoRenta=e.ctaPorPagarImpuestoRenta?this.extraerCuenta(e.ctaPorPagarImpuestoRenta):this.ctaPorPagarImpuestoRenta,this.ctaPorPagarUtilidades=e.ctaPorPagarUtilidades?this.extraerCuenta(e.ctaPorPagarUtilidades):this.ctaPorPagarUtilidades,this.ctaGastoHorasExtras=e.ctaGastoHorasExtras?this.extraerCuenta(e.ctaGastoHorasExtras):this.ctaGastoHorasExtras,this.ctaGastoHorasExtras100=e.ctaGastoHorasExtras100?this.extraerCuenta(e.ctaGastoHorasExtras100):this.ctaGastoHorasExtras100,this.ctaGastoBonos=e.ctaGastoBonos?this.extraerCuenta(e.ctaGastoBonos):this.ctaGastoBonos,this.ctaGastoBonosNd=e.ctaGastoBonosNd?this.extraerCuenta(e.ctaGastoBonosNd):this.ctaGastoBonosNd,this.ctaGastoBonoFijo=e.ctaGastoBonoFijo?this.extraerCuenta(e.ctaGastoBonoFijo):this.ctaGastoBonoFijo,this.ctaGastoBonoFijoNd=e.ctaGastoBonoFijoNd?this.extraerCuenta(e.ctaGastoBonoFijoNd):this.ctaGastoBonoFijoNd,this.ctaGastoOtrosIngresos=e.ctaGastoOtrosIngresos?this.extraerCuenta(e.ctaGastoOtrosIngresos):this.ctaGastoOtrosIngresos,this.ctaGastoOtrosIngresosNd=e.ctaGastoOtrosIngresosNd?this.extraerCuenta(e.ctaGastoOtrosIngresosNd):this.ctaGastoOtrosIngresosNd,this.ctaPermisoMedico=e.ctaPermisoMedico?this.extraerCuenta(e.ctaPermisoMedico):this.ctaPermisoMedico,this.ctaGastoSueldos=e.ctaGastoSueldos?this.extraerCuenta(e.ctaGastoSueldos):this.ctaGastoSueldos,this.ctaPrestamoQuirografario=e.ctaPrestamoQuirografario?this.extraerCuenta(e.ctaPrestamoQuirografario):this.ctaPrestamoQuirografario,this.ctaPrestamoHipotecario=e.ctaPrestamoHipotecario?this.extraerCuenta(e.ctaPrestamoHipotecario):this.ctaPrestamoHipotecario,this.ctaAportepersonal=e.ctaAportepersonal?this.extraerCuenta(e.ctaAportepersonal):this.ctaAportepersonal,this.ctaAporteExtension=e.ctaAporteExtension?this.extraerCuenta(e.ctaAporteExtension):this.ctaAporteExtension,this.ctaAportepatronal=e.ctaAportepatronal?this.extraerCuenta(e.ctaAportepatronal):this.ctaAportepatronal,this.ctaIece=e.ctaIece?this.extraerCuenta(e.ctaIece):this.ctaIece,this.ctaSecap=e.ctaSecap?this.extraerCuenta(e.ctaSecap):this.ctaSecap,this.ctaXiii=e.ctaXiii?this.extraerCuenta(e.ctaXiii):this.ctaXiii,this.ctaXiv=e.ctaXiv?this.extraerCuenta(e.ctaXiv):this.ctaXiv,this.ctaFondoreserva=e.ctaFondoreserva?this.extraerCuenta(e.ctaFondoreserva):this.ctaFondoreserva,this.ctaVacaciones=e.ctaVacaciones?this.extraerCuenta(e.ctaVacaciones):this.ctaVacaciones,this.ctaDesahucio=e.ctaDesahucio?this.extraerCuenta(e.ctaDesahucio):this.ctaDesahucio,this.ctaGastoAporteindividual=e.ctaGastoAporteindividual?this.extraerCuenta(e.ctaGastoAporteindividual):this.ctaGastoAporteindividual,this.ctaGastoAportepatronal=e.ctaGastoAportepatronal?this.extraerCuenta(e.ctaGastoAportepatronal):this.ctaGastoAportepatronal,this.ctaGastoIece=e.ctaGastoIece?this.extraerCuenta(e.ctaGastoIece):this.ctaGastoIece,this.ctaGastoSecap=e.ctaGastoSecap?this.extraerCuenta(e.ctaGastoSecap):this.ctaGastoSecap,this.ctaGastoXiii=e.ctaGastoXiii?this.extraerCuenta(e.ctaGastoXiii):this.ctaGastoXiii,this.ctaGastoXiv=e.ctaGastoXiv?this.extraerCuenta(e.ctaGastoXiv):this.ctaGastoXiv,this.ctaGastoFondoreserva=e.ctaGastoFondoreserva?this.extraerCuenta(e.ctaGastoFondoreserva):this.ctaGastoFondoreserva,this.ctaGastoVacaciones=e.ctaGastoVacaciones?this.extraerCuenta(e.ctaGastoVacaciones):this.ctaGastoVacaciones,this.ctaGastoSalarioDigno=e.ctaGastoSalarioDigno?this.extraerCuenta(e.ctaGastoSalarioDigno):this.ctaGastoSalarioDigno,this.ctaGastoDesahucio=e.ctaGastoDesahucio?this.extraerCuenta(e.ctaGastoDesahucio):this.ctaGastoDesahucio,this.ctaGastoDesahucioIntempestivo=e.ctaGastoDesahucioIntempestivo?this.extraerCuenta(e.ctaGastoDesahucioIntempestivo):this.ctaGastoDesahucioIntempestivo,this.ctaGastoBonoLiquidacion=e.ctaGastoBonoLiquidacion?this.extraerCuenta(e.ctaGastoBonoLiquidacion):this.ctaGastoBonoLiquidacion,this.tipCodigo=e.tipCodigo?e.tipCodigo:this.tipCodigo,this.usrInsertaCategoria=e.usrInsertaCategoria?e.usrInsertaCategoria:this.usrInsertaCategoria,this.usrFechaInsertaCategoria=e.usrFechaInsertaCategoria?e.usrFechaInsertaCategoria:this.usrFechaInsertaCategoria},e.prototype.extraerCuenta=function(e){if(e){var t=e.split("-");return t[0]?t[0].trim():""}return""},e.prototype.extraerNombre=function(e){if(e){var t=e.split("-"),o=t[1]?t[1].trim():"";return o=t[2]?o+" "+t[2].trim():o}return""},e.prototype.formatearNombres=function(e){this.empCodigo=e.empCodigo?e.empCodigo:this.empCodigo,this.catNombre=e.catNombre?e.catNombre:this.catNombre,this.ctaAnticipos=e.ctaAnticipos?this.extraerNombre(e.ctaAnticipos):this.ctaAnticipos,this.ctaPrestamos=e.ctaPrestamos?this.extraerNombre(e.ctaPrestamos):this.ctaPrestamos,this.ctaPorPagarBonos=e.ctaPorPagarBonos?this.extraerNombre(e.ctaPorPagarBonos):this.ctaPorPagarBonos,this.ctaPorPagarSueldo=e.ctaPorPagarSueldo?this.extraerNombre(e.ctaPorPagarSueldo):this.ctaPorPagarSueldo,this.ctaPorPagarImpuestoRenta=e.ctaPorPagarImpuestoRenta?this.extraerNombre(e.ctaPorPagarImpuestoRenta):this.ctaPorPagarImpuestoRenta,this.ctaPorPagarUtilidades=e.ctaPorPagarUtilidades?this.extraerNombre(e.ctaPorPagarUtilidades):this.ctaPorPagarUtilidades,this.ctaGastoHorasExtras=e.ctaGastoHorasExtras?this.extraerNombre(e.ctaGastoHorasExtras):this.ctaGastoHorasExtras,this.ctaGastoHorasExtras100=e.ctaGastoHorasExtras100?this.extraerNombre(e.ctaGastoHorasExtras100):this.ctaGastoHorasExtras100,this.ctaGastoBonos=e.ctaGastoBonos?this.extraerNombre(e.ctaGastoBonos):this.ctaGastoBonos,this.ctaGastoBonosNd=e.ctaGastoBonosNd?this.extraerNombre(e.ctaGastoBonosNd):this.ctaGastoBonosNd,this.ctaGastoBonoFijo=e.ctaGastoBonoFijo?this.extraerNombre(e.ctaGastoBonoFijo):this.ctaGastoBonoFijo,this.ctaGastoBonoFijoNd=e.ctaGastoBonoFijoNd?this.extraerNombre(e.ctaGastoBonoFijoNd):this.ctaGastoBonoFijoNd,this.ctaGastoOtrosIngresos=e.ctaGastoOtrosIngresos?this.extraerNombre(e.ctaGastoOtrosIngresos):this.ctaGastoOtrosIngresos,this.ctaGastoOtrosIngresosNd=e.ctaGastoOtrosIngresosNd?this.extraerNombre(e.ctaGastoOtrosIngresosNd):this.ctaGastoOtrosIngresosNd,this.ctaPermisoMedico=e.ctaPermisoMedico?this.extraerNombre(e.ctaPermisoMedico):this.ctaPermisoMedico,this.ctaGastoSueldos=e.ctaGastoSueldos?this.extraerNombre(e.ctaGastoSueldos):this.ctaGastoSueldos,this.ctaPrestamoQuirografario=e.ctaPrestamoQuirografario?this.extraerNombre(e.ctaPrestamoQuirografario):this.ctaPrestamoQuirografario,this.ctaPrestamoHipotecario=e.ctaPrestamoHipotecario?this.extraerNombre(e.ctaPrestamoHipotecario):this.ctaPrestamoHipotecario,this.ctaAportepersonal=e.ctaAportepersonal?this.extraerNombre(e.ctaAportepersonal):this.ctaAportepersonal,this.ctaAporteExtension=e.ctaAporteExtension?this.extraerNombre(e.ctaAporteExtension):this.ctaAporteExtension,this.ctaAportepatronal=e.ctaAportepatronal?this.extraerNombre(e.ctaAportepatronal):this.ctaAportepatronal,this.ctaIece=e.ctaIece?this.extraerNombre(e.ctaIece):this.ctaIece,this.ctaSecap=e.ctaSecap?this.extraerNombre(e.ctaSecap):this.ctaSecap,this.ctaXiii=e.ctaXiii?this.extraerNombre(e.ctaXiii):this.ctaXiii,this.ctaXiv=e.ctaXiv?this.extraerNombre(e.ctaXiv):this.ctaXiv,this.ctaFondoreserva=e.ctaFondoreserva?this.extraerNombre(e.ctaFondoreserva):this.ctaFondoreserva,this.ctaVacaciones=e.ctaVacaciones?this.extraerNombre(e.ctaVacaciones):this.ctaVacaciones,this.ctaDesahucio=e.ctaDesahucio?this.extraerNombre(e.ctaDesahucio):this.ctaDesahucio,this.ctaGastoAporteindividual=e.ctaGastoAporteindividual?this.extraerNombre(e.ctaGastoAporteindividual):this.ctaGastoAporteindividual,this.ctaGastoAportepatronal=e.ctaGastoAportepatronal?this.extraerNombre(e.ctaGastoAportepatronal):this.ctaGastoAportepatronal,this.ctaGastoIece=e.ctaGastoIece?this.extraerNombre(e.ctaGastoIece):this.ctaGastoIece,this.ctaGastoSecap=e.ctaGastoSecap?this.extraerNombre(e.ctaGastoSecap):this.ctaGastoSecap,this.ctaGastoXiii=e.ctaGastoXiii?this.extraerNombre(e.ctaGastoXiii):this.ctaGastoXiii,this.ctaGastoXiv=e.ctaGastoXiv?this.extraerNombre(e.ctaGastoXiv):this.ctaGastoXiv,this.ctaGastoFondoreserva=e.ctaGastoFondoreserva?this.extraerNombre(e.ctaGastoFondoreserva):this.ctaGastoFondoreserva,this.ctaGastoVacaciones=e.ctaGastoVacaciones?this.extraerNombre(e.ctaGastoVacaciones):this.ctaGastoVacaciones,this.ctaGastoSalarioDigno=e.ctaGastoSalarioDigno?this.extraerNombre(e.ctaGastoSalarioDigno):this.ctaGastoSalarioDigno,this.ctaGastoDesahucio=e.ctaGastoDesahucio?this.extraerNombre(e.ctaGastoDesahucio):this.ctaGastoDesahucio,this.ctaGastoDesahucioIntempestivo=e.ctaGastoDesahucioIntempestivo?this.extraerNombre(e.ctaGastoDesahucioIntempestivo):this.ctaGastoDesahucioIntempestivo,this.ctaGastoBonoLiquidacion=e.ctaGastoBonoLiquidacion?this.extraerNombre(e.ctaGastoBonoLiquidacion):this.ctaGastoBonoLiquidacion,this.tipCodigo=e.tipCodigo?e.tipCodigo:this.tipCodigo,this.usrInsertaCategoria=e.usrInsertaCategoria?e.usrInsertaCategoria:this.usrInsertaCategoria,this.usrFechaInsertaCategoria=e.usrFechaInsertaCategoria?e.usrFechaInsertaCategoria:this.usrFechaInsertaCategoria},e}(),S=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},C=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},I=function(){function e(e,t,o){this.api=e,this.utilService=t,this.toastr=o}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:a=t.listaSisPermisoTO.gruCrear;break;case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_EDITAR:a=t.listaSisPermisoTO.gruModificar;break;case s.a.ACCION_ELIMINAR:a=t.listaSisPermisoTO.gruEliminar;break;case s.a.ACCION_IMPRIMIR:a=t.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.TAG_AVISO),a},e.prototype.listarCategorias=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhCategoriaCuentasTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarCategorias(e.extraInfo):(a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.listarComboRhCategoriaTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getComboRhCategoriaTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarComboRhCategoriaTO(e.extraInfo):(t.despuesDeListarComboRhCategoriaTO([]),a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.accionCategorias=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/accionRhCategoria",e,o).then(function(e){e&&e.extraInfo?t.despuesDeAccionCategorias(e):(a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){var e=[];return e.push({headerName:s.a.TAG_DETALLE,field:"catNombre",width:500,minWidth:500},this.utilService.getColumnaOpciones()),e},e.prototype.volverAOriginal=function(e,t){var o=new b(null);return o.empCodigo=e.empCodigo,o.catNombre=e.catNombre,o.ctaAnticipos=e.ctaAnticipos+"-"+t.ctaAnticipos,o.ctaPrestamos=e.ctaPrestamos+"-"+t.ctaPrestamos,o.ctaPorPagarBonos=e.ctaPorPagarBonos+"-"+t.ctaPorPagarBonos,o.ctaPorPagarSueldo=e.ctaPorPagarSueldo+"-"+t.ctaPorPagarSueldo,o.ctaPorPagarImpuestoRenta=e.ctaPorPagarImpuestoRenta+"-"+t.ctaPorPagarImpuestoRenta,o.ctaPorPagarUtilidades=e.ctaPorPagarUtilidades+"-"+t.ctaPorPagarUtilidades,o.ctaGastoHorasExtras=e.ctaGastoHorasExtras+"-"+t.ctaGastoHorasExtras,o.ctaGastoHorasExtras100=e.ctaGastoHorasExtras100+"-"+t.ctaGastoHorasExtras100,o.ctaGastoBonos=e.ctaGastoBonos+"-"+t.ctaGastoBonos,o.ctaGastoBonosNd=e.ctaGastoBonosNd+"-"+t.ctaGastoBonosNd,o.ctaGastoBonoFijo=e.ctaGastoBonoFijo+"-"+t.ctaGastoBonoFijo,o.ctaGastoBonoFijoNd=e.ctaGastoBonoFijoNd+"-"+t.ctaGastoBonoFijoNd,o.ctaGastoOtrosIngresos=e.ctaGastoOtrosIngresos+"-"+t.ctaGastoOtrosIngresos,o.ctaGastoOtrosIngresosNd=e.ctaGastoOtrosIngresosNd+"-"+t.ctaGastoOtrosIngresosNd,o.ctaPermisoMedico=e.ctaPermisoMedico+"-"+t.ctaPermisoMedico,o.ctaGastoSueldos=e.ctaGastoSueldos+"-"+t.ctaGastoSueldos,o.ctaPrestamoQuirografario=e.ctaPrestamoQuirografario+"-"+t.ctaPrestamoQuirografario,o.ctaAportepersonal=e.ctaAportepersonal+"-"+t.ctaAportepersonal,o.ctaAporteExtension=e.ctaAporteExtension+"-"+t.ctaAporteExtension,o.ctaPrestamoHipotecario=e.ctaPrestamoHipotecario+"-"+t.ctaPrestamoHipotecario,o.ctaAportepatronal=e.ctaAportepatronal+"-"+t.ctaAportepatronal,o.ctaIece=e.ctaIece+"-"+t.ctaIece,o.ctaSecap=e.ctaSecap+"-"+t.ctaSecap,o.ctaXiii=e.ctaXiii+"-"+t.ctaXiii,o.ctaXiv=e.ctaXiv+"-"+t.ctaXiv,o.ctaFondoreserva=e.ctaFondoreserva+"-"+t.ctaFondoreserva,o.ctaVacaciones=e.ctaVacaciones+"-"+t.ctaVacaciones,o.ctaDesahucio=e.ctaDesahucio+"-"+t.ctaDesahucio,o.ctaGastoAporteindividual=e.ctaGastoAporteindividual+"-"+t.ctaGastoAporteindividual,o.ctaGastoAportepatronal=e.ctaGastoAportepatronal+"-"+t.ctaGastoAportepatronal,o.ctaGastoIece=e.ctaGastoIece+"-"+t.ctaGastoIece,o.ctaGastoSecap=e.ctaGastoSecap+"-"+t.ctaGastoSecap,o.ctaGastoXiii=e.ctaGastoXiii+"-"+t.ctaGastoXiii,o.ctaGastoXiv=e.ctaGastoXiv+"-"+t.ctaGastoXiv,o.ctaGastoFondoreserva=e.ctaGastoFondoreserva+"-"+t.ctaGastoFondoreserva,o.ctaGastoVacaciones=e.ctaGastoVacaciones+"-"+t.ctaGastoVacaciones,o.ctaGastoSalarioDigno=e.ctaGastoSalarioDigno+"-"+t.ctaGastoSalarioDigno,o.ctaGastoDesahucio=e.ctaGastoDesahucio+"-"+t.ctaGastoDesahucio,o.ctaGastoDesahucioIntempestivo=e.ctaGastoDesahucioIntempestivo+"-"+t.ctaGastoDesahucioIntempestivo,o.ctaGastoBonoLiquidacion=e.ctaGastoBonoLiquidacion+"-"+t.ctaGastoBonoLiquidacion,o.tipCodigo=e.tipCodigo,o.usrInsertaCategoria=e.usrInsertaCategoria,o.usrFechaInsertaCategoria=e.usrFechaInsertaCategoria,o},e=S([Object(a.Injectable)({providedIn:"root"}),C("design:paramtypes",[i.a,n.a,r.b])],e)}(),R=o("WtL1"),O=o("hyxj"),E=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},T=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruCrear&&t.empresaSeleccionada.listaSisPermisoTO.gruCrearClientes;break;case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_EDITAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruModificar&&t.empresaSeleccionada.listaSisPermisoTO.gruModificarClientes;break;case s.a.ACCION_ELIMINAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruEliminar;break;case s.a.ACCION_IMPRIMIR:a=t.empresaSeleccionada.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.ERROR_403_TITULO),a},e.prototype.listarConceptoBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhBonoConceptoTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeGetListaRhBonoConceptoTO(e.extraInfo):(t.despuesDeGetListaRhBonoConceptoTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.insertarConceptoBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhBonoConcepto",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeInsertarConceptoBonos(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarConceptoBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhBonoConcepto",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarConceptoBonos(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarEstadoConceptoBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarEstadoRhBonoConcepto",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarEstadoConceptoBonos(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.eliminarConceptoBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhBonoConcepto",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO),t.despuesDeEliminarConceptoBonos(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirConceptoBonos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/imprimirReporteConceptoBonos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoConceptoBonos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.exportarConceptoBonos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteConceptoBonos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoConceptoBonos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t=[{headerName:s.a.TAG_NOMBRE,field:"bcDetalle",width:250,minWidth:250}],e&&t.push(this.utilService.getSpanSelect()),e||t.push({headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"bcInactivo",width:110,minWidth:110,cellRenderer:"inputEstado",cellClass:"text-md-center"},this.utilService.getColumnaOpciones()),t},e=E([Object(a.Injectable)({providedIn:"root"}),T("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),y=o("8G1n"),P=o("nxr/"),M=o("8fiX"),N=function(){function e(e){this.catNombre=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.catNombre=e.catNombre?e.catNombre:this.catNombre},e}(),D=o("EnEm"),L=o("wd/R"),F=o("GGLN"),x=o("CEfs"),w=o("AP3O"),G=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},B=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=function(){function e(e,t,o,a,i,r,n,c,l,d,p,m){this.piscinaService=e,this.conceptoBonoService=t,this.sectorService=o,this.categoriaService=a,this.route=i,this.toastr=r,this.atajoService=n,this.utilService=c,this.appSistemaService=l,this.motivoBonoService=d,this.filasService=p,this.sistemaService=m,this.listaEmpresas=[],this.listaSectores=[],this.listaCategorias=[],this.listaConceptos=[],this.listaPiscinas=[],this.listaMotivos=[],this.empresaSeleccionada=new M.a,this.sectorSeleccionado=new P.a,this.categoriaSeleccionada=new N,this.conceptoSeleccionado=new y.a,this.piscinaSeleccionada=new w.a,this.motivoSeleccionado=new h,this.periodoAbierto=!1,this.es={},this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate()}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.bonoListadoTrans,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.obtenerFechaActual()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new f.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarBonos");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarBonos");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.categoriaSeleccionada=null,this.conceptoSeleccionado=null,this.piscinaSeleccionada=null,this.limpiarResultado(),this.listarSectores(),this.listarCategoria(),this.listarConceptoBonos(),this.listarMotivosBono(),this.validarPeriodoAbierto()},e.prototype.obtenerFechaActual=function(){var e=this;this.appSistemaService.getFechaActual(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaFin=t,e.validarPeriodoAbierto()}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.activar=!1,this.parametrosFormulario=null,this.parametrosBusqueda=null,this.filasService.actualizarFilas(0,0)},e.prototype.validarPeriodoAbierto=function(){if(this.periodoAbierto=!1,this.fechaFin){var e={empresa:this.empresaSeleccionada.empCodigo,fecha:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.sistemaService.getIsPeriodoAbierto(e,this,s.a.KEY_EMPRESA_SELECT)}},e.prototype.despuesDeObtenerIsPeriodoAbierto=function(e){this.periodoAbierto=e},e.prototype.listarConceptoBonos=function(){this.limpiarResultado(),this.cargando=!0,this.listaConceptos=[];var e={empresa:this.empresaSeleccionada.empCodigo,inactivo:!1};this.conceptoBonoService.listarConceptoBonos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeGetListaRhBonoConceptoTO=function(e){var t=this;this.listaConceptos=e,this.listaConceptos.length>0?this.conceptoSeleccionado=this.conceptoSeleccionado&&this.conceptoSeleccionado.bcSecuencia?this.listaConceptos.find(function(e){return e.bcSecuencia===t.conceptoSeleccionado.bcSecuencia}):this.listaConceptos[0]:this.conceptoSeleccionado=null,this.cargando=!1},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.listarPiscinas(),this.cargando=!1},e.prototype.listarPiscinas=function(){if(this.limpiarResultado(),this.cargando=!0,this.listaPiscinas=[],this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo){var e={empresa:s.a.KEY_EMPRESA_SELECT,sector:this.sectorSeleccionado.secCodigo,mostrarInactivo:!1};this.piscinaService.listarPrdListaPiscinaTO(e,this,s.a.KEY_EMPRESA_SELECT)}else this.cargando=!1,this.piscinaSeleccionada=null},e.prototype.despuesDeListarPiscina=function(e){var t=this;this.listaPiscinas=e,this.listaPiscinas.length>0?this.piscinaSeleccionada=this.piscinaSeleccionada&&this.piscinaSeleccionada.pisNumero?this.listaPiscinas.find(function(e){return e.pisNumero===t.piscinaSeleccionada.pisNumero}):this.listaPiscinas[0]:this.piscinaSeleccionada=null,this.cargando=!1},e.prototype.listarCategoria=function(){this.limpiarResultado(),this.listaCategorias=[],this.cargando=!0,this.categoriaService.listarComboRhCategoriaTO({empresa:s.a.KEY_EMPRESA_SELECT},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboRhCategoriaTO=function(e){var t=this;this.listaCategorias=e,this.listaCategorias.length>0?this.categoriaSeleccionada=this.categoriaSeleccionada&&this.categoriaSeleccionada.catNombre?this.listaCategorias.find(function(e){return e.catNombre===t.categoriaSeleccionada.catNombre}):this.listaCategorias[0]:this.categoriaSeleccionada=null,this.cargando=!1},e.prototype.listarMotivosBono=function(){this.limpiarResultado(),this.cargando=!0,this.listaMotivos=[];var e={empresa:this.empresaSeleccionada.empCodigo,inactivo:!1};this.motivoBonoService.listarMotivoBonos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPrdListaRhBonoMotivoTO=function(e){var t=this;this.listaMotivos=e,this.listaMotivos.length>0?this.motivoSeleccionado=this.motivoSeleccionado&&this.motivoSeleccionado.rhBonoMotivoPK.motDetalle?this.listaMotivos.find(function(e){return e.rhBonoMotivoPK.motDetalle===t.motivoSeleccionado.rhBonoMotivoPK.motDetalle}):this.listaMotivos[0]:this.motivoSeleccionado=null,this.cargando=!1},e.prototype.buscarBonos=function(e){this.limpiarResultado(),this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t&&this.periodoAbierto?this.listaConceptos.length>0?(this.filasTiempo.iniciarContador(),this.parametrosBusqueda={empresa:this.empresaSeleccionada.empCodigo,categoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,motivo:this.motivoSeleccionado?this.motivoSeleccionado.rhBonoMotivoPK.motDetalle:null,fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),rol:!1,listadoPiscinas:this.listaPiscinas.length>0?this.listaPiscinas:null},this.parametrosFormulario={empresaSeleccionada:this.empresaSeleccionada,listadoConceptos:this.listaConceptos,listadoPiscinas:this.listaPiscinas,conceptoSeleccionado:this.conceptoSeleccionado,piscinaSeleccionada:this.piscinaSeleccionada,fechaFin:this.fechaFin,activarBonos:this.activar}):(this.toastr.warning(s.a.MSJ_POR_LO_MENOS_1_CONCEPTO,s.a.TAG_AVISO),this.cargando=!1):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.accionesBonos=function(e){var t=e;switch(t.accion){case s.a.ACCION_ACTIVAR:this.activar=t.estado;break;case s.a.ACCION_CARGANDO:this.cargando=t.estado;break;case s.a.ACCION_LIMPIAR_RESULTADO:this.limpiarResultado()}},e=G([Object(a.Component)({selector:"app-bonos",template:o("DLEV"),styles:[o("1CvT")]}),B("design:paramtypes",[R.a,_,O.a,I,g.ActivatedRoute,r.b,A.HotkeysService,n.a,v.a,p,x.a,F.a])],e)}(),U=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},k=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},V=function(){function e(e,t){var o=this;this.router=e,this.appSistemaService=t,this.showIndex=!1,this.router.events.subscribe(function(e){o.showIndex="/modulos/talentoHumano"===o.router.url})}return e.prototype.ngOnInit=function(){this.listaAccesoRapido=[{item:"Contable de RRHH",url:"contableListadoRRHHTrans",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","contableListadoRRHHTrans")},{item:"Anticipos",url:"anticipoListadoTrans",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","anticipoListadoTrans")},{item:"Pr\xe9stamos",url:"prestamoListadoTrans",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","prestamoListadoTrans")},{item:"Rol de pagos (por lote)",url:"rolListadoTrans",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","rolListadoTrans")},{item:"Bonos u horas extra",url:"bonoListadoTrans",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","bonoListadoTrans")},{item:"Registro de provisiones",url:"provisionesListadoTrans",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","provisionesListadoTrans")}]},e=U([Object(a.Component)({selector:"app-rrhh",template:o("p3qK")}),k("design:paramtypes",[g.Router,v.a])],e)}(),X=o("zkCp"),J=o("bodW"),H=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},W=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Y=function(){function e(e,t,o,a,i,r,n,c){this.route=e,this.atajoService=t,this.filasService=o,this.utilService=a,this.categoriaService=i,this.archivoService=r,this.toastr=n,this.tipoContableService=c,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.parametrosFormulario={},this.constantes=s.a,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.cargando=!1,this.vistaFormulario=!1,this.activar=!1,this.accion=null,this.objetoSeleccionado=new b(null),this.listadoCategorias=new Array,this.tiposContables=new Array,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.categoria,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.definirAtajosDeTeclado(),this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.buscarCategorias(),this.listarConTipo(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.filasTiempo.iniciarContador(),this.vistaFormulario=!1,this.listadoCategorias=new Array},e.prototype.listarConTipo=function(){this.tiposContables=[],this.cargando=!0,this.tipoContableService.listarConTipo({empresa:s.a.KEY_EMPRESA_SELECT,activo:!0},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarConTipo=function(e){this.cargando=!1,this.tiposContables=e},e.prototype.verificarPermiso=function(e,t){return this.utilService.verificarPermiso(e,this,t)},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarCategoria");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevaCategoria");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnimprimirCategorias");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnexportarCategor\xedas");return t&&t.click(),!1}))},e.prototype.generarOpciones=function(){var e=this,t=this.empresaSeleccionada.listaSisPermisoTO.gruModificar,o=this.empresaSeleccionada.listaSisPermisoTO.gruEliminar;this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!1,command:function(){return e.consultarCategoria()}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!t,command:function(){return t?e.modificarCategoria():null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!o,command:function(){return o?e.eliminarCategoria():null}}]},e.prototype.consultarCategoria=function(){this.vistaFormulario=!0,this.accion=s.a.ACCION_CONSULTAR},e.prototype.ejecutarAccion=function(e){switch(this.definirAtajosDeTeclado(),e.accion){case s.a.ACCION_CREADO:this.actualizarTabla(e);break;case s.a.ACCION_ACTIVAR:this.activar=e.estado;break;default:this.vistaFormulario=!1,this.cargando=!1,0===this.listadoCategorias.length&&(this.activar=!1)}},e.prototype.actualizarTabla=function(e){var t=e.objetoSeleccionado,o=this.listadoCategorias.findIndex(function(e){return e.catNombre==t.catNombre});o>=0?(this.listadoCategorias[o]=t,this.gridApi&&this.gridApi.getRowNode(""+o).setData(t)):(this.listadoCategorias.unshift(t),this.gridApi&&this.gridApi.updateRowData({add:[t]}));this.vistaFormulario=!1,this.cargando=!1,0===this.listadoCategorias.length&&(this.activar=!1),this.definirAtajosDeTeclado()},e.prototype.buscarCategorias=function(){this.listadoCategorias=[],this.limpiarResultado(),this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listadoCategorias=e},e.prototype.modificarCategoria=function(){this.vistaFormulario=!0,this.accion=s.a.ACCION_EDITAR},e.prototype.eliminarCategoria=function(){var e=this;this.cargando=!0,this.accion=s.a.ACCION_ELIMINAR;var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){var o={rhCategoriaTO:e.objetoSeleccionado,accion:"E"};e.categoriaService.accionCategorias(o,e,s.a.KEY_EMPRESA_SELECT)}else e.cargando=!1})},e.prototype.despuesDeAccionCategorias=function(e){var t=this;this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO);var o=this.listadoCategorias.findIndex(function(e){return e.catNombre===t.objetoSeleccionado.catNombre});this.listadoCategorias.splice(o,1),this.gridApi.updateRowData({remove:[this.objetoSeleccionado]}),this.cargando=!1},e.prototype.nuevaCategoria=function(){this.objetoSeleccionado=new b(null),this.vistaFormulario=!0,this.accion=s.a.ACCION_CREAR},e.prototype.imprimirCategorias=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={lista:this.listadoCategorias};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteRhCategoriaTO",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoCategor\xedas_"+e.utilService.obtenerHorayFechaActual()+".pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarCategorias=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={lista:this.listadoCategorias};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarRhCategoriaTO",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoExcel(t._body,"ListadoCategor\xedas_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.categoriaService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},H([Object(a.ViewChild)("menuOpciones"),W("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),e=H([Object(a.Component)({selector:"app-categoria",template:o("nh+M")}),W("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,x.a,n.a,I,c.a,r.b,J.a])],e)}(),K=o("DixL"),z=o("kyKW"),q=o("M9xU"),$=o("UBxT"),Q=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Z=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ee=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},te=function(){function e(e,t,o,a,i){this.route=e,this.atajoService=t,this.filasService=o,this.utilService=a,this.empleadosService=i,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.parametrosFormulario={},this.data={},this.parametrosListado={},this.constantes=s.a,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.busqueda="",this.cargando=!1,this.vistaFormulario=!1,this.activar=!1,this.accion=null}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.empleadoListado,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.definirAtajosDeTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cargando=!0,this.activar=!1,this.obtenerDatosParaCrudEmpleados(),this.limpiarResultado()},e.prototype.obtenerDatosParaCrudEmpleados=function(){this.cargando=!1;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.empleadosService.obtenerDatosParaCrudEmpleados(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeObtenerDatosParaCrudEmpleados=function(e){this.data=e,this.cargando=!1},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.parametrosListado={},this.parametrosListado.listar=!1,this.vistaFormulario=!1},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(e){var t=document.getElementById("btnNuevo");return t&&t.click(),!1}))},e.prototype.listarEmpleado=function(e){this.parametrosListado={},this.parametrosListado.empresa=s.a.KEY_EMPRESA_SELECT,this.parametrosListado.listar=!0,this.parametrosListado.buscar=this.busqueda,this.parametrosListado.estado=e,this.vistaFormulario=!1},e.prototype.nuevaEmpleado=function(){this.empleadosService.verificarPermiso(s.a.ACCION_CREAR,this.empresaSeleccionada,!0)&&(this.vistaFormulario=!0,this.parametrosFormulario=this.generarParametrosFormulario())},e.prototype.cancelar=function(){this.vistaFormulario=!1,this.activar=!1},e.prototype.ejecutarAccion=function(e){switch(this.definirAtajosDeTeclado(),e.accion){case s.a.ACCION_CREAR:this.nuevaEmpleado();break;case s.a.ACCION_LISTAR:this.listarEmpleado(!1);break;case s.a.ACCION_ACTIVAR:this.activar=e.estado;break;case s.a.ACCION_CANCELAR:this.cancelar();break;case s.a.ACCION_CREADO:this.actualizarTabla(e);break;case s.a.ACCION_CONSULTAR:case s.a.ACCION_EDITAR:this.irAlHijo(e)}},e.prototype.actualizarTabla=function(e){this.vistaFormulario=!1,this.empresaSeleccionada=e.empresa;var t=Q({},this.parametrosListado);t.objetoSeleccionado=e.objetoSeleccionado,t.listar=!1,this.parametrosListado=t,this.activar=!1},e.prototype.irAlHijo=function(e){this.parametrosFormulario.accion=e.accion,this.parametrosFormulario.objetoSeleccionado=e.objetoSeleccionado,this.vistaFormulario=!0,this.activar=!0},e.prototype.generarParametrosFormulario=function(){return{accion:s.a.ACCION_CREAR,objetoSeleccionado:new $.a}},e=Z([Object(a.Component)({selector:"app-empleados",template:o("csDO")}),ee("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,x.a,n.a,q.a])],e)}(),oe=o("8VRP"),ae=function(){function e(e){this.ctaCodigo=null,this.fpDetalle=null,this.secCodigo=null,this.fpSecuencial=0,this.fpInactivo=!1,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.ctaCodigo=e.ctaCodigo?e.ctaCodigo:this.ctaCodigo,this.fpDetalle=e.fpDetalle?e.fpDetalle:this.fpDetalle,this.secCodigo=e.secCodigo?e.secCodigo:this.secCodigo,this.fpSecuencial=e.fpSecuencial?e.fpSecuencial:this.fpSecuencial,this.fpInactivo=e.fpInactivo?e.fpInactivo:this.fpInactivo},e}(),ie=o("gIcY"),re=o("eUd/"),ne=o("6E6y"),se=o("tmev"),ce=function(){function e(e){this.ctaCodigo="",this.fpDetalle=null,this.secCodigo=null,this.fpSecuencial=0,this.fpInactivo=!1,this.usrEmpresa=null,this.usrCodigo=null,this.usrFechaInserta=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.ctaCodigo=e.ctaCodigo?e.ctaCodigo:this.ctaCodigo,this.fpDetalle=e.fpDetalle?e.fpDetalle:this.fpDetalle,this.secCodigo=e.secCodigo?e.secCodigo:this.secCodigo,this.fpSecuencial=e.fpSecuencial?e.fpSecuencial:this.fpSecuencial,this.fpInactivo=e.fpInactivo?e.fpInactivo:this.fpInactivo,this.usrEmpresa=e.usrEmpresa?e.usrEmpresa:this.usrEmpresa,this.usrCodigo=e.usrCodigo?e.usrCodigo:this.usrCodigo,this.usrFechaInserta=e.usrFechaInserta?e.usrFechaInserta:this.usrFechaInserta},e}(),le=o("LG3P"),de=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},pe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},me=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.filasService=t,this.toastr=o,this.utilService=a,this.formaPagoService=i,this.sectorService=r,this.modalService=n,this.archivoService=c,this.planContableService=l,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.parametrosFormulario={},this.constantes=s.a,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.cargando=!1,this.vistaFormulario=!1,this.activar=!1,this.accion="",this.accionRpta="",this.objetoSeleccionado=new ae,this.listadoFormaPago=new Array,this.formaPago=new ce,this.listaSectores=new Array,this.tamanioEstructura=0,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.formaPago,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.formaPagoService.definirAtajosDeTeclado(),this.iniciarAgGrid()},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmDatos))this.resetearFormulario();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetearFormulario()})}break;default:this.resetearFormulario()}},e.prototype.resetearFormulario=function(){this.vistaFormulario=!1,this.accion=null,0===this.listadoFormaPago.length&&(this.activar=!1)},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmDatos?e.frmDatos.value:null))},50)},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.limpiarResultado(),this.obtenerEstructura(),this.listarSectores(),this.buscarFormaPago(!1)},e.prototype.limpiarResultado=function(){this.filasTiempo.resetearContador(),this.filasService.actualizarFilas(0,0),this.vistaFormulario=!1,this.listadoFormaPago=[]},e.prototype.listarSectores=function(){this.cargando=!0,this.sectorService.listarPrdListaSectorTO({empresa:s.a.KEY_EMPRESA_SELECT,mostrarInactivo:!1},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){this.cargando=!1,this.listaSectores=e},e.prototype.verificarPermiso=function(e){return this.formaPagoService.verificarPermiso(this.accion,this.empresaSeleccionada,e)},e.prototype.nuevaFormaPago=function(){this.formaPago=new ce,this.vistaFormulario=!0,this.accion=s.a.ACCION_CREAR,this.focusDetalle("ctaCodigo"),this.extraerValoresIniciales()},e.prototype.consultarFormaPago=function(){this.accion=s.a.ACCION_CONSULTAR,this.formaPago=new ce(this.objetoSeleccionado),this.vistaFormulario=!0},e.prototype.buscarFormaPago=function(e){this.limpiarResultado(),this.cargando=!0;var t={empresa:s.a.KEY_EMPRESA_SELECT,estado:e};this.filasTiempo.iniciarContador(),this.formaPagoService.listarFormasPago(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarFormasPago=function(e){this.listadoFormaPago=e,this.filasTiempo.finalizarContador(),this.cargando=!1},e.prototype.insertarFormaPago=function(e){if(this.cargando=!0,this.validarAntesDeEnviar(e)){this.formaPago.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var t={rhFormaPagoTO:this.formaPago};this.formaPagoService.guardarFormasPago(t,this,s.a.KEY_EMPRESA_SELECT)}},e.prototype.despuesDeGuardarFormasPago=function(e){this.formaPago=e.extraInfo?e.extraInfo:this.formaPago,this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO),this.listadoFormaPago.unshift(new ae(this.formaPago)),this.gridApi&&this.gridApi.updateRowData({add:[new ae(this.formaPago)],addIndex:0}),this.vistaFormulario=!1,this.cargando=!1},e.prototype.despuesDeAccionFormasPago=function(e){var t=this;if(e)switch(this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO),this.accion){case s.a.ACCION_ACTIVAR:case s.a.ACCION_INACTIVAR:var o=this.listadoFormaPago.findIndex(function(e){return e.fpSecuencial===t.objetoSeleccionado.fpSecuencial});this.listadoFormaPago[o]=this.objetoSeleccionado,this.gridApi.updateRowData({update:[this.objetoSeleccionado]});break;case s.a.ACCION_EDITAR:o=this.listadoFormaPago.findIndex(function(e){return e.fpSecuencial===t.objetoSeleccionado.fpSecuencial});var a=this.listadoFormaPago.slice();a[o]=new ae(this.formaPago),this.listadoFormaPago=a,this.refreshGrid();break;case s.a.ACCION_ELIMINAR:o=this.listadoFormaPago.findIndex(function(e){return e.fpSecuencial===t.objetoSeleccionado.fpSecuencial});this.listadoFormaPago.splice(o,1),this.gridApi.updateRowData({remove:[this.objetoSeleccionado]})}else switch(this.accion){case s.a.ACCION_ACTIVAR:this.objetoSeleccionado.fpInactivo=!1;break;case s.a.ACCION_INACTIVAR:this.objetoSeleccionado.fpInactivo=!0}this.vistaFormulario=!1,this.cargando=!1,this.accion=null,0===this.listadoFormaPago.length&&(this.activar=!1),this.formaPagoService.definirAtajosDeTeclado()},e.prototype.modificarFormaPago=function(e){if(this.cargando=!0,this.validarAntesDeEnviar(e))if(this.utilService.puedoCancelar(this.valoresIniciales,e))this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION),this.cargando=!1,this.vistaFormulario=!1;else{this.formaPago.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var t={rhFormaPagoTO:this.formaPago,accion:"M"};this.formaPagoService.accionFormasPago(t,this,s.a.KEY_EMPRESA_SELECT)}},e.prototype.eliminarFormaPago=function(){var e=this;this.accion=s.a.ACCION_ELIMINAR;var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o=new ce(e.objetoSeleccionado);o.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var a={rhFormaPagoTO:o,accion:"E"};e.formaPagoService.accionFormasPago(a,e,s.a.KEY_EMPRESA_SELECT)}else e.cargando=!1})},e.prototype.imprimirFormaPago=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={lista:this.listadoFormaPago};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteRhFormaPagoTO",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoFormaPago_"+e.utilService.obtenerHorayFechaActual()+".pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarFormaPago=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={lista:this.listadoFormaPago};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarRhFormaPagoTO",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoExcel(t._body,"ListadoFormaPago_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.generarOpciones=function(){var e=this,t=this.empresaSeleccionada.listaSisPermisoTO.gruModificar,o=this.empresaSeleccionada.listaSisPermisoTO.gruEliminar,a=this.empresaSeleccionada.listaSisPermisoTO.gruModificarEmpleados&&!this.objetoSeleccionado.fpInactivo,i=this.empresaSeleccionada.listaSisPermisoTO.gruModificarEmpleados&&this.objetoSeleccionado.fpInactivo;this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!1,command:function(){return e.consultarFormaPago()}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!t,command:function(){return t?e.paraModificarFormaPago():null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.inactivar(!1):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return t?e.inactivar(!0):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!o,command:function(){return o?e.eliminarFormaPago():null}}]},e.prototype.focusDetalle=function(e){setTimeout(function(){var t=document.getElementById(e);t&&t.focus()},50)},e.prototype.paraModificarFormaPago=function(){this.accion=s.a.ACCION_EDITAR,this.formaPago=new ce(this.objetoSeleccionado),this.cuenta=this.construirCuenta(this.objetoSeleccionado),this.vistaFormulario=!0,this.extraerValoresIniciales(),this.focusDetalle("ctaCodigo")},e.prototype.validarAntesDeEnviar=function(e){var t=!0;return this.verificarPermiso(!0)?(this.utilService.establecerFormularioTocado(e)&&e&&e.valid||(this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.cargando=t,t):(this.cargando=!1,!1)},e.prototype.inactivar=function(e){var t,o=this;e?(this.accion=s.a.ACCION_INACTIVAR,this.accionRpta="I",t={title:s.a.ACCION_INACTIVAR,texto:s.a.MSJ_PREGUNTA_INACTIVAR+"<br> "+s.a.TAG_FORMA_PAGO+": "+this.objetoSeleccionado.fpDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.LABEL_ACEPTAR,cancelButtonText:s.a.LABEL_CANCELAR}):(this.accion=s.a.ACCION_ACTIVAR,this.accionRpta="A",t={title:s.a.ACCION_ACTIVAR,texto:s.a.MSJ_PREGUNTA_ACTIVAR+"<br> "+s.a.TAG_FORMA_PAGO+": "+this.objetoSeleccionado.fpDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.LABEL_ACEPTAR,cancelButtonText:s.a.LABEL_CANCELAR}),this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){o.cargando=!0,o.objetoSeleccionado.fpInactivo=e;var a=new ce(o.objetoSeleccionado);a.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var i={rhFormaPagoTO:a,accion:"M",accionRpta:o.accionRpta};o.formaPagoService.accionFormasPago(i,o,s.a.KEY_EMPRESA_SELECT)}else o.cargando=!1})},e.prototype.abrirModalDeCuentas=function(e){var t=this;if(this.utilService.validarKeyBuscar(e.keyCode)&&this.formaPago.ctaCodigo){var o={empresa:s.a.KEY_EMPRESA_SELECT,buscar:this.formaPago.ctaCodigo};e.srcElement.blur(),e.preventDefault(),this.formaPago.fpDetalle=null;var a=this.modalService.open(se.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.filtrosBusquedaPlanCuenta=o,a.componentInstance.tamanioEstructura=this.tamanioEstructura,a.result.then(function(e){e?(t.formaPago.ctaCodigo=e.cuentaCodigo?e.cuentaCodigo.trim():null,t.formaPago.fpDetalle=e.cuentaDetalle?e.cuentaDetalle.trim():null,t.cuenta=new le.a,t.cuenta.cuentaCodigo=t.formaPago.ctaCodigo,t.cuenta.cuentaDetalle=t.formaPago.fpDetalle,t.focusSector()):t.focusCta()},function(){t.focusCta()})}},e.prototype.focusCta=function(){var e=document.getElementById("ctaCodigo");e&&e.focus()},e.prototype.focusSector=function(){var e=document.getElementById("secCodigo");e&&e.focus()},e.prototype.obtenerEstructura=function(){var e=this;this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},s.a.KEY_EMPRESA_SELECT).then(function(t){e.tamanioEstructura=t[0].estGrupo1+t[0].estGrupo2+t[0].estGrupo3+t[0].estGrupo4+t[0].estGrupo5+t[0].estGrupo6}).catch(function(t){e.utilService.handleError(t,e)})},e.prototype.validarCuenta=function(){this.cuenta?this.cuenta.cuentaCodigo!=this.formaPago.ctaCodigo?this.buscarPlanCuentas():this.formaPago.fpDetalle=this.cuenta.cuentaDetalle:this.buscarPlanCuentas()},e.prototype.buscarPlanCuentas=function(){var e=this;if(this.formaPago.ctaCodigo&&this.formaPago.ctaCodigo.length===this.tamanioEstructura){var t={empresa:s.a.KEY_EMPRESA_SELECT,buscar:this.formaPago.ctaCodigo};this.planContableService.getListaBuscarConCuentas(t,s.a.KEY_EMPRESA_SELECT).then(function(t){0!=t.length?(e.cuenta=t[0],e.formaPago.ctaCodigo=e.cuenta.cuentaCodigo,e.formaPago.fpDetalle=e.cuenta.cuentaDetalle.trim()):(e.formaPago.ctaCodigo="",e.formaPago.fpDetalle=null)})}else this.formaPago.ctaCodigo="",this.formaPago.fpDetalle=null},e.prototype.construirCuenta=function(e){var t=new le.a;return t.cuentaCodigo=e.ctaCodigo,t.cuentaDetalle=e.fpDetalle,t},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.formaPagoService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},de([Object(a.ViewChild)("menuOpciones"),pe("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),de([Object(a.ViewChild)("frmDatos"),pe("design:type",ie.NgForm)],e.prototype,"frmDatos",void 0),de([Object(a.HostListener)("window:beforeunload",["$event"]),pe("design:type",Function),pe("design:paramtypes",[Event]),pe("design:returntype",void 0)],e.prototype,"unloadHandler",null),de([Object(a.HostListener)("window:resize",["$event"]),pe("design:type",Function),pe("design:paramtypes",[]),pe("design:returntype",void 0)],e.prototype,"onResize",null),e=de([Object(a.Component)({selector:"app-forma-pago",template:o("OPF4")}),pe("design:paramtypes",[g.ActivatedRoute,x.a,r.b,n.a,oe.a,O.a,re.b,c.a,ne.a])],e)}(),ue=o("eRWn"),he=function(){function e(e){this.ctaCodigo="",this.fpDetalle=null,this.secCodigo=null,this.fpCodigoMinisterial=null,this.fpSecuencial=0,this.fpInactivo=!1,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.ctaCodigo=e.ctaCodigo?e.ctaCodigo:this.ctaCodigo,this.fpDetalle=e.fpDetalle?e.fpDetalle:this.fpDetalle,this.secCodigo=e.secCodigo?e.secCodigo:this.secCodigo,this.fpCodigoMinisterial=e.fpCodigoMinisterial?e.fpCodigoMinisterial:this.fpCodigoMinisterial,this.fpSecuencial=e.fpSecuencial?e.fpSecuencial:this.fpSecuencial,this.fpInactivo=e.fpInactivo?e.fpInactivo:this.fpInactivo},e}(),ve=function(){function e(e){this.ctaCodigo="",this.fpDetalle="",this.secCodigo="",this.fpCodigoMinisterial="",this.fpSecuencial=0,this.fpInactivo=!1,this.usrEmpresa="",this.usrCodigo="",this.usrFechaInserta="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.ctaCodigo=e.ctaCodigo?e.ctaCodigo:this.ctaCodigo,this.fpDetalle=e.fpDetalle?e.fpDetalle:this.fpDetalle,this.secCodigo=e.secCodigo?e.secCodigo:this.secCodigo,this.fpCodigoMinisterial=e.fpCodigoMinisterial?e.fpCodigoMinisterial:this.fpCodigoMinisterial,this.fpSecuencial=e.fpSecuencial?e.fpSecuencial:this.fpSecuencial,this.fpInactivo=e.fpInactivo?e.fpInactivo:this.fpInactivo,this.usrEmpresa=e.usrEmpresa?e.usrEmpresa:this.usrEmpresa,this.usrCodigo=e.usrCodigo?e.usrCodigo:this.usrCodigo,this.usrFechaInserta=e.usrFechaInserta?e.usrFechaInserta:this.usrFechaInserta},e}(),fe=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ae=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ge=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.filasService=t,this.toastr=o,this.utilService=a,this.formaPagoBeneficiosService=i,this.sectorService=r,this.modalService=n,this.archivoService=c,this.planContableService=l,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.parametrosFormulario={},this.constantes=s.a,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.cargando=!1,this.vistaFormulario=!1,this.activar=!1,this.accion="",this.objetoSeleccionado=new he,this.listadoFormasPagoBeneficio=new Array,this.formaPago=new ve,this.listaSectores=new Array,this.tamanioEstructura=0,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.formaPagoBeneficioSocial,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.formaPagoBeneficiosService.definirAtajosDeTeclado(),this.iniciarAgGrid()},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmDatos))this.resetearFormulario();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetearFormulario()})}break;default:this.resetearFormulario()}},e.prototype.resetearFormulario=function(){this.vistaFormulario=!1,this.accion=null,0===this.listadoFormasPagoBeneficio.length&&(this.activar=!1),this.actualizarFilas()},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmDatos?e.frmDatos.value:null))},50)},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.obtenerEstructura(),this.listarSectores(),this.limpiarResultado(),this.buscarFormasPagoBeneficios(!1)},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.filasTiempo.resetearContador(),this.vistaFormulario=!1,this.listadoFormasPagoBeneficio=new Array},e.prototype.listarSectores=function(){this.cargando=!0,this.sectorService.listarPrdListaSectorTO({empresa:s.a.KEY_EMPRESA_SELECT,mostrarInactivo:!1},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){this.cargando=!1,this.listaSectores=e},e.prototype.verificarPermiso=function(e){return this.formaPagoBeneficiosService.verificarPermiso(this.accion,this.empresaSeleccionada,e)},e.prototype.nuevaFormasPagoBeneficios=function(){this.formaPago=new ve,this.vistaFormulario=!0,this.accion=s.a.ACCION_CREAR,this.focusDetalle("ctaCodigo"),this.extraerValoresIniciales()},e.prototype.imprimirFormasPagoBeneficios=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={lista:this.listadoFormasPagoBeneficio};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteRhFormaPagoBeneficiosTO",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoFormaPagoBeneficiosSociales_"+e.utilService.obtenerHorayFechaActual()+".pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarFormasPagoBeneficios=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={lista:this.listadoFormasPagoBeneficio};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarRhFormaPagoBeneficioSocial",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoExcel(t._body,"ListadoFormaPagoBeneficiosSociales_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.generarOpciones=function(){var e=this,t=this.empresaSeleccionada.listaSisPermisoTO.gruModificar,o=this.empresaSeleccionada.listaSisPermisoTO.gruEliminar,a=this.empresaSeleccionada.listaSisPermisoTO.gruModificarEmpleados&&!this.objetoSeleccionado.fpInactivo,i=this.empresaSeleccionada.listaSisPermisoTO.gruModificarEmpleados&&this.objetoSeleccionado.fpInactivo;this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!1,command:function(){return e.consultarFormaPago()}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!t,command:function(){return t?e.paraModificarFormaPago():null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.inactivar(!1):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return t?e.inactivar(!0):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!o,command:function(){return o?e.eliminarFormaPago():null}}]},e.prototype.consultarFormaPago=function(){this.accion=s.a.ACCION_CONSULTAR,this.formaPago=new ve(this.objetoSeleccionado),this.vistaFormulario=!0},e.prototype.focusDetalle=function(e){setTimeout(function(){var t=document.getElementById(e);t&&t.focus()},50)},e.prototype.paraModificarFormaPago=function(){this.accion=s.a.ACCION_EDITAR,this.formaPago=new ve(this.objetoSeleccionado),this.cuenta=this.construirCuenta(this.objetoSeleccionado),this.vistaFormulario=!0,this.extraerValoresIniciales(),this.focusDetalle("ctaCodigo")},e.prototype.construirCuenta=function(e){var t=new le.a;return t.cuentaCodigo=e.ctaCodigo,t.cuentaDetalle=e.fpDetalle,t},e.prototype.validarCuenta=function(){this.cuenta?this.cuenta.cuentaCodigo!=this.formaPago.ctaCodigo?this.buscarPlanCuentas():this.formaPago.fpDetalle=this.cuenta.cuentaDetalle:this.buscarPlanCuentas()},e.prototype.buscarPlanCuentas=function(){var e=this;if(this.formaPago.ctaCodigo&&this.formaPago.ctaCodigo.length===this.tamanioEstructura){var t={empresa:s.a.KEY_EMPRESA_SELECT,buscar:this.formaPago.ctaCodigo};this.planContableService.getListaBuscarConCuentas(t,s.a.KEY_EMPRESA_SELECT).then(function(t){0!=t.length?(e.cuenta=t[0],e.formaPago.ctaCodigo=e.cuenta.cuentaCodigo,e.formaPago.fpDetalle=e.cuenta.cuentaDetalle.trim()):(e.formaPago.ctaCodigo="",e.formaPago.fpDetalle=null)})}else this.formaPago.ctaCodigo="",this.formaPago.fpDetalle=null},e.prototype.validarAntesDeEnviar=function(e){var t=!0;return this.verificarPermiso(!0)?(this.utilService.establecerFormularioTocado(e)&&e&&e.valid||(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.cargando=t,t):(this.cargando=!1,!1)},e.prototype.inactivar=function(e){var t,o,a=this;e?(this.accion=s.a.ACCION_INACTIVAR,o="I",t={title:s.a.ACCION_INACTIVAR,texto:s.a.MSJ_PREGUNTA_INACTIVAR+"<br> "+s.a.RRHH_FORMA_PAGO_BENEFICIOS+": "+this.objetoSeleccionado.fpDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.LABEL_ACEPTAR,cancelButtonText:s.a.LABEL_CANCELAR}):(this.accion=s.a.ACCION_ACTIVAR,o="A",t={title:s.a.ACCION_ACTIVAR,texto:s.a.MSJ_PREGUNTA_ACTIVAR+"<br> "+s.a.RRHH_FORMA_PAGO_BENEFICIOS+": "+this.objetoSeleccionado.fpDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.LABEL_ACEPTAR,cancelButtonText:s.a.LABEL_CANCELAR}),this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){a.cargando=!0,a.objetoSeleccionado.fpInactivo=e;var i=new ve(a.objetoSeleccionado);i.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var r={rhFormaPagoBeneficioSocialTO:i,accion:"M",accionRpta:o};a.formaPagoBeneficiosService.accionFormasPagoBeneficios(r,a,s.a.KEY_EMPRESA_SELECT)}else a.cargando=!1})},e.prototype.buscarFormasPagoBeneficios=function(e){this.limpiarResultado(),this.cargando=!0;var t={empresa:s.a.KEY_EMPRESA_SELECT,estado:e};this.filasTiempo.iniciarContador(),this.formaPagoBeneficiosService.listarFormasPagoBeneficios(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarFormasPagoBeneficios=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listadoFormasPagoBeneficio=e},e.prototype.insertarFormaPago=function(e){if(this.cargando=!0,this.validarAntesDeEnviar(e)){this.formaPago.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var t={rhFormaPagoBeneficioSocialTO:this.formaPago};this.formaPagoBeneficiosService.guardarFormasPagoBeneficios(t,this,s.a.KEY_EMPRESA_SELECT)}},e.prototype.despuesDeGuardarFormasPagoBeneficios=function(e){this.formaPago=e.extraInfo?e.extraInfo:this.formaPago,this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO),this.listadoFormasPagoBeneficio.unshift(new he(this.formaPago)),this.gridApi&&this.gridApi.updateRowData({add:[new he(this.formaPago)],addIndex:0}),this.vistaFormulario=!1,this.cargando=!1},e.prototype.despuesDeAccionFormasPagoBeneficios=function(e){var t=this;if(e)switch(this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO),this.accion){case s.a.ACCION_ACTIVAR:case s.a.ACCION_INACTIVAR:var o=this.listadoFormasPagoBeneficio.findIndex(function(e){return e.fpSecuencial===t.objetoSeleccionado.fpSecuencial});this.listadoFormasPagoBeneficio[o]=this.objetoSeleccionado,this.gridApi.updateRowData({update:[this.objetoSeleccionado]});break;case s.a.ACCION_EDITAR:o=this.listadoFormasPagoBeneficio.findIndex(function(e){return e.fpSecuencial===t.objetoSeleccionado.fpSecuencial});var a=this.listadoFormasPagoBeneficio.slice();a[o]=new he(this.formaPago),this.listadoFormasPagoBeneficio=a,this.refreshGrid();break;case s.a.ACCION_ELIMINAR:o=this.listadoFormasPagoBeneficio.findIndex(function(e){return e.fpSecuencial===t.objetoSeleccionado.fpSecuencial});this.listadoFormasPagoBeneficio.splice(o,1),this.gridApi.updateRowData({remove:[this.objetoSeleccionado]})}else switch(this.accion){case s.a.ACCION_ACTIVAR:this.objetoSeleccionado.fpInactivo=!1;break;case s.a.ACCION_INACTIVAR:this.objetoSeleccionado.fpInactivo=!0}this.vistaFormulario=!1,this.cargando=!1},e.prototype.modificarFormaPago=function(e){if(this.cargando=!0,this.validarAntesDeEnviar(e))if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmDatos))this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION),this.cargando=!1,this.vistaFormulario=!1;else{this.formaPago.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var t={rhFormaPagoBeneficioSocialTO:this.formaPago,accion:"M"};this.formaPagoBeneficiosService.accionFormasPagoBeneficios(t,this,s.a.KEY_EMPRESA_SELECT)}},e.prototype.eliminarFormaPago=function(){var e=this;this.accion=s.a.ACCION_ELIMINAR;var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o=new ve(e.objetoSeleccionado);o.usrEmpresa=s.a.KEY_EMPRESA_SELECT;var a={rhFormaPagoBeneficioSocialTO:o,accion:"E"};e.formaPagoBeneficiosService.accionFormasPagoBeneficios(a,e,s.a.KEY_EMPRESA_SELECT)}else e.cargando=!1})},e.prototype.abrirModalDeCuentas=function(e){var t=this;if(this.utilService.validarKeyBuscar(e.keyCode)&&this.formaPago.ctaCodigo){var o={empresa:s.a.KEY_EMPRESA_SELECT,buscar:this.formaPago.ctaCodigo};e.srcElement.blur(),e.preventDefault(),this.formaPago.fpDetalle=null;var a=this.modalService.open(se.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.filtrosBusquedaPlanCuenta=o,a.componentInstance.tamanioEstructura=this.tamanioEstructura,a.result.then(function(e){e?(t.formaPago.ctaCodigo=e.cuentaCodigo?e.cuentaCodigo.trim():null,t.formaPago.fpDetalle=e.cuentaDetalle?e.cuentaDetalle.trim():null,t.formaPago.fpDetalle=t.formaPago.fpDetalle?t.formaPago.fpDetalle.toUpperCase():t.formaPago.fpDetalle,t.cuenta=new le.a,t.cuenta.cuentaCodigo=t.formaPago.ctaCodigo,t.cuenta.cuentaDetalle=t.formaPago.fpDetalle,t.focusCodigo()):t.focusCta()},function(){t.focusCta()})}},e.prototype.focusCodigo=function(){var e=document.getElementById("fpCodigoMinisterial");e&&e.focus()},e.prototype.focusCta=function(){var e=document.getElementById("ctaCodigo");e&&e.focus()},e.prototype.obtenerEstructura=function(){var e=this;this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},s.a.KEY_EMPRESA_SELECT).then(function(t){e.tamanioEstructura=t[0].estGrupo1+t[0].estGrupo2+t[0].estGrupo3+t[0].estGrupo4+t[0].estGrupo5+t[0].estGrupo6}).catch(function(t){e.utilService.handleError(t,e)})},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.formaPagoBeneficiosService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},fe([Object(a.ViewChild)("menuOpciones"),Ae("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),fe([Object(a.ViewChild)("frmDatos"),Ae("design:type",ie.NgForm)],e.prototype,"frmDatos",void 0),fe([Object(a.HostListener)("window:beforeunload",["$event"]),Ae("design:type",Function),Ae("design:paramtypes",[Event]),Ae("design:returntype",void 0)],e.prototype,"unloadHandler",null),fe([Object(a.HostListener)("window:resize",["$event"]),Ae("design:type",Function),Ae("design:paramtypes",[]),Ae("design:returntype",void 0)],e.prototype,"onResize",null),e=fe([Object(a.Component)({selector:"app-forma-pago-beneficios",template:o("Z9Kf")}),Ae("design:paramtypes",[g.ActivatedRoute,x.a,r.b,n.a,ue.a,O.a,re.b,c.a,ne.a])],e)}(),be=o("+JJ7"),Se=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ce=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ie=function(){function e(e,t,o,a){this.api=e,this.utilService=t,this.toastr=o,this.atajoService=a}return e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarListado");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevoMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnimprimirMotivoAnticipos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnexportarMotivoAnticipos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardarMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelarMotivo");return e&&e.click(),!1}))},e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:a=t.listaSisPermisoTO.gruCrear;break;case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_EDITAR:a=t.listaSisPermisoTO.gruModificar;break;case s.a.ACCION_ELIMINAR:a=t.listaSisPermisoTO.gruEliminar;break;case s.a.ACCION_IMPRIMIR:a=t.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.TAG_AVISO),a},e.prototype.listarMotivoAnticipos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhAnticipoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarMotivoAnticipos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.guardarMotivoAnticipos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhAnticipoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeGuardarMotivoAnticipos(e):(a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarMotivoAnticipos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhAnticipoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeModificarMotivoAnticipos(e):(t.despuesDeModificarMotivoAnticipos([]),a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.eliminarMotivoAnticipos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhAnticipoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeEliminarMotivoAnticipos(e):(a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){var e=[];return e.push({headerName:s.a.TAG_DETALLE,width:300,minWidth:300,valueGetter:function(e){return e.data.rhAnticipoMotivoPK?e.data.rhAnticipoMotivoPK.motDetalle:""}},{headerName:s.a.TAG_TIPO_CONTABLE,width:200,minWidth:200,valueGetter:function(e){return e.data.conTipo&&e.data.conTipo.conTipoPK?e.data.conTipo.conTipoPK.tipCodigo:""}},{headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"motInactivo",width:115,minWidth:115,cellRendererFramework:be.a,cellClass:"text-md-center"},this.utilService.getColumnaOpciones()),e},e=Se([Object(a.Injectable)({providedIn:"root"}),Ce("design:paramtypes",[i.a,n.a,r.b,A.HotkeysService])],e)}(),Re=function(){function e(e){this.motEmpresa="",this.motDetalle="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.motEmpresa=e.motEmpresa?e.motEmpresa:this.motEmpresa,this.motDetalle=e.motDetalle?e.motDetalle:this.motDetalle},e}(),Oe=function(){function e(e){this.rhAnticipoMotivoPK=new Re,this.motInactivo=!1,this.conTipo=new u.a,this.usrEmpresa="",this.usrCodigo="",this.usrFechaInserta=new Date,this.rhEmpleadoDescuentosFijosList=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.rhAnticipoMotivoPK=e.rhAnticipoMotivoPK?e.rhAnticipoMotivoPK:this.rhAnticipoMotivoPK,this.motInactivo=e.motInactivo?e.motInactivo:this.motInactivo,this.conTipo=e.conTipo?e.conTipo:this.conTipo,this.usrEmpresa=e.usrEmpresa?e.usrEmpresa:this.usrEmpresa,this.usrCodigo=e.usrCodigo?e.usrCodigo:this.usrCodigo,this.usrFechaInserta=e.usrFechaInserta?e.usrFechaInserta:this.usrFechaInserta,this.rhEmpleadoDescuentosFijosList=e.rhEmpleadoDescuentosFijosList?e.rhEmpleadoDescuentosFijosList:this.rhEmpleadoDescuentosFijosList},e}(),Ee=o("EF/R"),Te=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},_e=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ye=function(){function e(e,t,o,a,i,r,n,c){this.route=e,this.filasService=t,this.toastr=o,this.utilService=a,this.motivoAnticipoService=i,this.tipoContableService=r,this.auth=n,this.archivoService=c,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.parametrosFormulario={},this.constantes=s.a,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.cargando=!1,this.vistaFormulario=!1,this.activar=!1,this.accion=null,this.objetoSeleccionado=new Oe,this.motivoAnticipo=new Oe,this.listadoMotivoAnticipos=new Array,this.tiposContables=new Array,this.tipoSeleccionado=new u.a,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.anticipoMotivo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.motivoAnticipoService.definirAtajosDeTeclado(),this.iniciarAgGrid()},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmDatos))this.resetearFormulario();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetearFormulario()})}break;default:this.resetearFormulario()}},e.prototype.resetearFormulario=function(){this.accion=null,this.vistaFormulario=!1,0===this.listadoMotivoAnticipos.length&&(this.activar=!1)},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.listarConTipo(),this.limpiarResultado(),this.buscarMotivoAnticipo(!1)},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmDatos?e.frmDatos.value:null))},50)},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.filasTiempo.resetearContador(),this.resetearFormulario(),this.listadoMotivoAnticipos=[]},e.prototype.listarConTipo=function(){this.cargando=!0,this.tipoContableService.listarConTipo({empresa:s.a.KEY_EMPRESA_SELECT,activo:!0},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarConTipo=function(e){this.cargando=!1,this.tiposContables=e,this.tipoSeleccionado=this.tiposContables[0]?this.tiposContables[0]:null},e.prototype.verificarPermiso=function(e){return this.motivoAnticipoService.verificarPermiso(this.accion,this.empresaSeleccionada,e)},e.prototype.buscarMotivoAnticipo=function(e){this.limpiarResultado(),this.filasTiempo.iniciarContador(),this.cargando=!0;var t={empresa:s.a.KEY_EMPRESA_SELECT,estado:e};this.motivoAnticipoService.listarMotivoAnticipos(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarMotivoAnticipos=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listadoMotivoAnticipos=e},e.prototype.nuevaMotivoAnticipo=function(){this.motivoAnticipo=new Oe,this.vistaFormulario=!0,this.accion=s.a.ACCION_CREAR,this.focusDetalle(),this.extraerValoresIniciales()},e.prototype.consultarMotivoAnticipo=function(){this.accion=s.a.ACCION_CONSULTAR,this.motivoAnticipo=this.objetoSeleccionado,this.tipoSeleccionado=this.seleccionarConTipo(),this.vistaFormulario=!0},e.prototype.insertarMotivo=function(e){this.cargando=!0,this.validarAntesDeEnviar(e)&&(this.motivoAnticipo.rhAnticipoMotivoPK.motEmpresa=s.a.KEY_EMPRESA_SELECT,this.motivoAnticipo.usrCodigo=this.auth.getCodigoUser(),this.motivoAnticipo.usrEmpresa=s.a.KEY_EMPRESA_SELECT,this.motivoAnticipo.conTipo=this.tipoSeleccionado,this.motivoAnticipoService.guardarMotivoAnticipos({rhAnticipoMotivo:this.motivoAnticipo},this,s.a.KEY_EMPRESA_SELECT))},e.prototype.despuesDeGuardarMotivoAnticipos=function(e){this.motivoAnticipo=e.extraInfo?e.extraInfo.motivo:this.motivoAnticipo,this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO),this.listadoMotivoAnticipos.unshift(this.motivoAnticipo),this.gridApi&&this.gridApi.updateRowData({add:[this.motivoAnticipo],addIndex:0}),this.cargando=!1,this.resetearFormulario()},e.prototype.modificarMotivo=function(e){this.cargando=!0,this.validarAntesDeEnviar(e)&&(this.utilService.puedoCancelar(this.valoresIniciales,e)?(this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION),this.cargando=!1,this.resetearFormulario()):(this.motivoAnticipo.conTipo=this.tipoSeleccionado,this.motivoAnticipoService.modificarMotivoAnticipos({rhAnticipoMotivo:this.motivoAnticipo},this,s.a.KEY_EMPRESA_SELECT)))},e.prototype.despuesDeModificarMotivoAnticipos=function(e){var t=this;this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO);var o=this.listadoMotivoAnticipos.findIndex(function(e){return e.rhAnticipoMotivoPK.motDetalle===t.motivoAnticipo.rhAnticipoMotivoPK.motDetalle});this.listadoMotivoAnticipos[o]=this.motivoAnticipo,this.gridApi.updateRowData({update:[this.objetoSeleccionado]}),this.cargando=!1,this.resetearFormulario()},e.prototype.eliminarMotivoAnticipo=function(){var e=this,t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhAnticipoMotivo:e.objetoSeleccionado};e.motivoAnticipoService.eliminarMotivoAnticipos(o,e,s.a.KEY_EMPRESA_SELECT)}else e.cargando=!1})},e.prototype.despuesDeEliminarMotivoAnticipos=function(e){var t=this;this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO);var o=this.listadoMotivoAnticipos.findIndex(function(e){return e.rhAnticipoMotivoPK.motDetalle===t.motivoAnticipo.rhAnticipoMotivoPK.motDetalle});this.listadoMotivoAnticipos.splice(o,1),this.gridApi.updateRowData({remove:[this.objetoSeleccionado]}),this.cargando=!1,this.resetearFormulario()},e.prototype.imprimirMotivoAnticipo=function(){var e=this;if(this.motivoAnticipoService.verificarPermiso(s.a.ACCION_EXPORTAR,this.empresaSeleccionada,!0)){this.cargando=!0;var t={lista:this.listadoMotivoAnticipos};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteRhAnticipoMotivo",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoPDF("MotivoAnticipo_"+e.utilService.obtenerHorayFechaActual()+".pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarMotivoAnticipo=function(){var e=this;if(this.motivoAnticipoService.verificarPermiso(s.a.ACCION_EXPORTAR,this.empresaSeleccionada,!0)){this.cargando=!0;var t={lista:this.listadoMotivoAnticipos};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarRhAnticipoMotivo",t,this.empresaSeleccionada).then(function(t){t&&t._body&&t._body.byteLength>0?e.utilService.descargarArchivoExcel(t._body,"MotivoAnticipo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.generarOpciones=function(){var e=this,t=this.empresaSeleccionada.listaSisPermisoTO.gruModificar,o=this.empresaSeleccionada.listaSisPermisoTO.gruEliminar,a=this.empresaSeleccionada.listaSisPermisoTO.gruModificarEmpleados&&!this.objetoSeleccionado.motInactivo,i=this.empresaSeleccionada.listaSisPermisoTO.gruModificarEmpleados&&this.objetoSeleccionado.motInactivo;this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!1,command:function(){return e.consultarMotivoAnticipo()}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!t,command:function(){return t?e.paraModificarMotivoAnticipo():null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.inactivar(!1):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return t?e.inactivar(!0):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!o,command:function(){return o?e.eliminarMotivoAnticipo():null}}]},e.prototype.focusDetalle=function(){setTimeout(function(){var e=document.getElementById("motDetalle");e&&e.focus()},50)},e.prototype.paraModificarMotivoAnticipo=function(){this.accion=s.a.ACCION_EDITAR,this.motivoAnticipo=this.objetoSeleccionado,this.tipoSeleccionado=this.seleccionarConTipo(),this.vistaFormulario=!0,this.extraerValoresIniciales()},e.prototype.seleccionarConTipo=function(){var e=this,t=this.tiposContables.find(function(t){return t.conTipoPK.tipCodigo==e.objetoSeleccionado.conTipo.conTipoPK.tipCodigo});return t||null},e.prototype.validarAntesDeEnviar=function(e){var t=!0;return this.verificarPermiso(!0)?(this.utilService.establecerFormularioTocado(e)&&e&&e.valid||(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.cargando=t,t):(this.cargando=!1,!1)},e.prototype.inactivar=function(e){var t,o,a=this;e?(o="I",t={title:s.a.ACCION_INACTIVAR,texto:s.a.MSJ_PREGUNTA_INACTIVAR+"<br> "+s.a.RRHH_MOTIVO_ANTICIPO+": "+this.objetoSeleccionado.rhAnticipoMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.LABEL_ACEPTAR,cancelButtonText:s.a.LABEL_CANCELAR}):(o="A",t={title:s.a.ACCION_ACTIVAR,texto:s.a.MSJ_PREGUNTA_ACTIVAR+"<br> "+s.a.RRHH_MOTIVO_ANTICIPO+": "+this.objetoSeleccionado.rhAnticipoMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.LABEL_ACEPTAR,cancelButtonText:s.a.LABEL_CANCELAR}),this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){a.cargando=!0,a.objetoSeleccionado.motInactivo=e;var i={rhAnticipoMotivo:a.objetoSeleccionado,accion:o};a.motivoAnticipoService.modificarMotivoAnticipos(i,a,s.a.KEY_EMPRESA_SELECT)}else a.cargando=!1})},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.motivoAnticipoService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},Te([Object(a.ViewChild)("menuOpciones"),_e("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Te([Object(a.ViewChild)("frmDatos"),_e("design:type",ie.NgForm)],e.prototype,"frmDatos",void 0),Te([Object(a.HostListener)("window:beforeunload",["$event"]),_e("design:type",Function),_e("design:paramtypes",[Event]),_e("design:returntype",void 0)],e.prototype,"unloadHandler",null),Te([Object(a.HostListener)("window:resize",["$event"]),_e("design:type",Function),_e("design:paramtypes",[]),_e("design:returntype",void 0)],e.prototype,"onResize",null),e=Te([Object(a.Component)({selector:"app-motivo-anticipos",template:o("dNml")}),_e("design:paramtypes",[g.ActivatedRoute,x.a,r.b,n.a,Ie,J.a,Ee.a,c.a])],e)}(),Pe=o("madF"),Me=o("gLZI"),Ne=o("BPXi"),De=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Le=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fe=function(){function e(e,t,o,a,i,r,n,c,l){this.auth=e,this.activeModal=t,this.route=o,this.toastr=a,this.filasService=i,this.motivoBonoService=r,this.atajoService=n,this.tipoContableService=c,this.utilService=l,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.listaResultado=[],this.motivoBonoSeleccinado=new h,this.listaTipoContable=[],this.tipoContableSeleccionado=new Ne.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.bonoMotivo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.buscarMotivosBono(!1),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.filasService.actualizarFilas("0","0"),this.limpiarResultados(),this.listarTipoContable()},e.prototype.limpiarResultados=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0"),this.filasTiempo.resetearContador(),this.filtroGlobal=""},e.prototype.buscarMotivosBono=function(e){this.limpiarResultados(),this.cargando=!0,this.filasTiempo.iniciarContador();var t={empresa:this.empresaSeleccionada.empCodigo,inactivo:e};this.motivoBonoService.listarMotivoBonos(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPrdListaRhBonoMotivoTO=function(e){this.filasTiempo.finalizarContador(),this.listaResultado=e,this.cargando=!1,this.isModal&&1==e.length&&this.activeModal.close(e[0]),this.extraerValoresIniciales()},e.prototype.listarTipoContable=function(){this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){e&&(this.listaTipoContable=e,this.tipoContableSeleccionado=this.listaTipoContable.length>0?this.listaTipoContable[0]:null),this.cargando=!1},e.prototype.resetear=function(){this.accion=null,this.vistaFormulario=!1,this.actualizarFilas(),0===this.listaResultado.length&&(this.activar=!1)},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}break;default:this.resetear()}},e.prototype.setearValoresRhBonoMotivo=function(){this.motivoBonoSeleccinado.rhBonoMotivoPK.motEmpresa=this.empresaSeleccionada.empCodigo,this.motivoBonoSeleccinado.usrEmpresa=this.empresaSeleccionada.empCodigo,this.motivoBonoSeleccinado.usrCodigo=this.auth.getCodigoUser(),this.motivoBonoSeleccinado.conTipo.conTipoPK.tipEmpresa=this.empresaSeleccionada.empCodigo,this.motivoBonoSeleccinado.conTipo.conTipoPK.tipCodigo=this.tipoContableSeleccionado.tipCodigo,this.motivoBonoSeleccinado.conTipo.tipDetalle=this.tipoContableSeleccionado.tipDetalle},e.prototype.insertarMotivoBono=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhBonoMotivo:this.motivoBonoSeleccinado};this.motivoBonoService.insertarMotivoBono(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeInsertarMotivoBono=function(e){this.cargando=!1,e&&(this.refrescarTabla(this.motivoBonoSeleccinado,"I"),this.resetear())},e.prototype.modificarMotivoBono=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.sePuedeCancelar())this.resetear(),this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION);else if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhBonoMotivo:this.motivoBonoSeleccinado};this.motivoBonoService.modificarMotivoBono(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesModificarMotivoBono=function(e){this.cargando=!1,e&&this.refrescarTabla(this.motivoBonoSeleccinado,"U"),this.resetear()},e.prototype.modificarEstadoMotivoBono=function(){var e=this;if(this.utilService.verificarPermiso(this.accion,this,!0)){var t={title:this.motivoBonoSeleccinado.motInactivo?s.a.MSJ_TITULO_ACTIVAR:s.a.MSJ_TITULO_INACTIVAR,texto:(this.motivoBonoSeleccinado.motInactivo?s.a.MSJ_PREGUNTA_ACTIVAR:s.a.MSJ_PREGUNTA_INACTIVAR)+"<br>"+s.a.TAG_MOTIVO_BONOS+": "+this.motivoBonoSeleccinado.rhBonoMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0,e.motivoBonoSeleccinado=e.motivoBonoSeleccinado;var o={rhBonoMotivo:e.motivoBonoSeleccinado,estado:!e.motivoBonoSeleccinado.motInactivo};e.motivoBonoService.modificarEstadoMotivoBono(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}this.resetear()},e.prototype.despuesModificarEstadoMotivoBono=function(e){this.motivoBonoSeleccinado.motInactivo=!this.motivoBonoSeleccinado.motInactivo,this.cargando=!1,this.refrescarTabla(this.motivoBonoSeleccinado,"U")},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmMotivo?e.frmMotivo.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmMotivo)},e.prototype.eliminarUtilidadMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR+"<br>"+s.a.TAG_MOTIVO_BONOS+": "+this.motivoBonoSeleccinado.rhBonoMotivoPK.motDetalle,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_NO_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhBonoMotivo:e.motivoBonoSeleccinado};e.motivoBonoService.eliminarMotivoBono(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}else this.resetear()},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={ListadoMotivoBonos:this.listaResultado};this.motivoBonoService.imprimirMotivoBonos(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ListadoMotivoBonos:this.listaResultado};this.motivoBonoService.exportarMotivoBonos(e,this,this.empresaSeleccionada)}},e.prototype.despuesDeEliminarMotivoBono=function(e){e&&this.refrescarTabla(this.motivoBonoSeleccinado,"D"),this.cargando=!1,this.resetear()},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.rhBonoMotivoPK.motDetalle===e.rhBonoMotivoPK.motDetalle});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.rhBonoMotivoPK.motDetalle===e.rhBonoMotivoPK.motDetalle});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.generarOpciones=function(){var e=this,t=this.motivoBonoSeleccinado,o=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),a=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&!this.motivoBonoSeleccinado.motInactivo,i=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&this.motivoBonoSeleccinado.motInactivo,r=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionesMotivoBonos(s.a.ACCION_CONSULTAR):null}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!o,command:function(){return o?e.operacionesMotivoBonos(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!r,command:function(){return r?e.operacionesMotivoBonos(s.a.ACCION_ELIMINAR):null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.operacionesMotivoBonos(s.a.ACCION_EDITAR_ESTADO):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return a?e.operacionesMotivoBonos(s.a.ACCION_EDITAR_ESTADO):null}}]},e.prototype.operacionesMotivoBonos=function(e){switch(e){case s.a.ACCION_CONSULTAR:this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)&&(this.accion=s.a.ACCION_CONSULTAR,this.tituloForm=s.a.TITULO_FORM_CONSULTAR_MOTIVO_BONOS,this.vistaFormulario=!0,this.inicializarValores(this.motivoBonoSeleccinado),this.extraerValoresIniciales());break;case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_MOTIVO_BONOS,this.motivoBonoSeleccinado=new h,this.tipoContableSeleccionado=this.listaTipoContable?this.listaTipoContable[0]:null,this.extraerValoresIniciales(),this.vistaFormulario=!0);break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_MOTIVO_BONOS,this.vistaFormulario=!0,this.inicializarValores(this.motivoBonoSeleccinado),this.extraerValoresIniciales());break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarUtilidadMotivo());break;case s.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(s.a.ACCION_EDITAR_ESTADO,this,!0)&&(this.accion=s.a.ACCION_EDITAR_ESTADO,this.tituloForm=s.a.TITULO_FILTROS,this.modificarEstadoMotivoBono())}},e.prototype.inicializarValores=function(e){this.motivoBonoSeleccinado.rhBonoMotivoPK.motDetalle=e.rhBonoMotivoPK.motDetalle,e&&(this.tipoContableSeleccionado=this.listaTipoContable.find(function(t){return t.tipCodigo===e.conTipo.conTipoPK.tipCodigo}))},e.prototype.generarAtajosTeclado=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimir");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoBonos(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoBonos(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelar");return e&&e.click(),!1}))},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.motivoBonoService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.motivoBonoSeleccinado=t?t.data:null},e.prototype.filaSeleccionar=function(){this.enviarItem(this.motivoBonoSeleccinado)},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.motivoBonoSeleccinado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},De([Object(a.Input)(),Le("design:type",Boolean)],e.prototype,"isModal",void 0),De([Object(a.Input)(),Le("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),De([Object(a.Input)(),Le("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),De([Object(a.ViewChild)("frmMotivo"),Le("design:type",ie.NgForm)],e.prototype,"frmMotivo",void 0),De([Object(a.ViewChild)("menuOpciones"),Le("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),De([Object(a.HostListener)("window:beforeunload",["$event"]),Le("design:type",Function),Le("design:paramtypes",[Event]),Le("design:returntype",void 0)],e.prototype,"unloadHandler",null),De([Object(a.HostListener)("window:resize",["$event"]),Le("design:type",Function),Le("design:paramtypes",[]),Le("design:returntype",void 0)],e.prototype,"onResize",null),e=De([Object(a.Component)({selector:"app-motivo-bonos",template:o("WolB"),styles:[o("Xzv0")]}),Le("design:paramtypes",[Ee.a,re.a,g.ActivatedRoute,r.b,x.a,p,A.HotkeysService,J.a,n.a])],e)}(),xe=function(){function e(e){this.empCodigo="",this.bcSecuencia=0,this.bcDetalle="",this.bcValor=0,this.bcValorFijo=!1,this.bcInactivo=!1,this.usrInsertaBonoConcepto="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.empCodigo=e?e.empCodigo:this.empCodigo,this.bcSecuencia=e?e.bcSecuencia:this.bcSecuencia,this.bcDetalle=e?e.bcDetalle:this.bcDetalle,this.bcValor=e?e.bcValor:this.bcValor,this.bcValorFijo=e?e.bcValorFijo:this.bcValorFijo,this.bcInactivo=e?e.bcInactivo:this.bcInactivo,this.usrInsertaBonoConcepto=e?e.usrInsertaBonoConcepto:this.usrInsertaBonoConcepto,this.usrFechaInsertaBonoConcepto=e?e.usrFechaInsertaBonoConcepto:this.usrFechaInsertaBonoConcepto},e}(),we=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ge=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Be=function(){function e(e,t,o,a,i,r,n){this.activeModal=e,this.route=t,this.toastr=o,this.filasService=a,this.conceptoBonoService=i,this.atajoService=r,this.utilService=n,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.classIcon=s.a.ICON_FILTRAR,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.listaResultado=[],this.objetoSeleccionado=new y.a,this.conceptoBonoSeleccionado=new xe,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.conceptoBono,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.buscarConceptoBonos(!1),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.filasService.actualizarFilas("0","0"),this.limpiarResultados()},e.prototype.limpiarResultados=function(){this.listaResultado=[]},e.prototype.buscarConceptoBonos=function(e){this.cargando=!0,this.filtroGlobal="",this.filasTiempo.iniciarContador();var t={empresa:this.empresaSeleccionada.empCodigo,inactivo:e};this.conceptoBonoService.listarConceptoBonos(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeGetListaRhBonoConceptoTO=function(e){e&&(this.filasTiempo.finalizarContador(),this.listaResultado=e,this.cargando=!1,this.isModal&&1==e.length&&this.activeModal.close(e[0]),this.extraerValoresIniciales())},e.prototype.resetear=function(){this.accion=null,this.classIcon=null,this.vistaFormulario=!1,this.actualizarFilas(),0===this.listaResultado.length&&(this.activar=!1)},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}break;default:this.resetear()}},e.prototype.insertarConseptoBonos=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){var t={rhBonoConceptoTO:this.conceptoBonoSeleccionado};this.conceptoBonoService.insertarConceptoBonos(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeInsertarConceptoBonos=function(e){this.cargando=!1,e&&(this.buscarConceptoBonos(!1),this.resetear())},e.prototype.modificarMotivoBono=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.sePuedeCancelar())this.resetear(),this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION);else if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){var t={rhBonoConceptoTO:this.conceptoBonoSeleccionado};this.conceptoBonoService.modificarConceptoBonos(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeModificarConceptoBonos=function(e){this.cargando=!1,e&&(this.convertirALista(),this.refrescarTabla(this.objetoSeleccionado,"U")),this.resetear()},e.prototype.modificarEstadoConceptoBono=function(){var e=this;if(this.utilService.verificarPermiso(this.accion,this,!0)){var t={title:this.objetoSeleccionado.bcInactivo?s.a.MSJ_TITULO_ACTIVAR:s.a.MSJ_TITULO_INACTIVAR,texto:(this.objetoSeleccionado.bcInactivo?s.a.MSJ_PREGUNTA_ACTIVAR:s.a.MSJ_PREGUNTA_INACTIVAR)+"<br>"+s.a.TAG_CONCEPTO_BONOS+": "+this.objetoSeleccionado.bcDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhBonoConceptoTO:e.conceptoBonoSeleccionado,estado:!e.conceptoBonoSeleccionado.bcInactivo};e.conceptoBonoService.modificarEstadoConceptoBonos(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}this.resetear()},e.prototype.despuesDeModificarEstadoConceptoBonos=function(e){this.conceptoBonoSeleccionado.bcInactivo=!this.conceptoBonoSeleccionado.bcInactivo,this.cargando=!1,this.convertirALista(),this.refrescarTabla(this.objetoSeleccionado,"U")},e.prototype.convertirALista=function(){this.objetoSeleccionado=new y.a(this.conceptoBonoSeleccionado)},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmConcepto?e.frmConcepto.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmConcepto)},e.prototype.eliminarUtilidadMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR+"<br>"+s.a.TAG_CONCEPTO_BONOS+": "+this.objetoSeleccionado.bcDetalle,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_NO_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhBonoConceptoTO:e.conceptoBonoSeleccionado};e.conceptoBonoService.eliminarConceptoBonos(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}else this.resetear()},e.prototype.despuesDeEliminarConceptoBonos=function(e){e&&(this.convertirALista(),this.refrescarTabla(this.objetoSeleccionado,"D")),this.cargando=!1,this.resetear()},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={ListadoConceptoBonos:this.listaResultado};this.conceptoBonoService.imprimirConceptoBonos(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ListadoConceptoBonos:this.listaResultado};this.conceptoBonoService.exportarConceptoBonos(e,this,this.empresaSeleccionada)}},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.bcSecuencia===e.bcSecuencia});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.bcSecuencia===e.bcSecuencia});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.generarOpciones=function(){var e=this,t=this.objetoSeleccionado,o=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),a=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&!this.objetoSeleccionado.bcInactivo,i=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&this.objetoSeleccionado.bcInactivo,r=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionesConceptoBonos(s.a.ACCION_CONSULTAR):null}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!o,command:function(){return o?e.operacionesConceptoBonos(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!r,command:function(){return r?e.operacionesConceptoBonos(s.a.ACCION_ELIMINAR):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return a?e.operacionesConceptoBonos(s.a.ACCION_EDITAR_ESTADO):null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.operacionesConceptoBonos(s.a.ACCION_EDITAR_ESTADO):null}}]},e.prototype.operacionesConceptoBonos=function(e){switch(e){case s.a.ACCION_CONSULTAR:this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)&&(this.accion=s.a.ACCION_CONSULTAR,this.classIcon=s.a.ICON_CONSULTAR,this.tituloForm=s.a.TITULO_FORM_CONSULTAR_CONCEPTO_BONOS,this.vistaFormulario=!0,this.inicializarValores(this.objetoSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.accion=s.a.ACCION_CREAR,this.classIcon=s.a.ICON_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_CONCEPTO_BONOS,this.conceptoBonoSeleccionado=new xe,this.conceptoBonoSeleccionado.empCodigo=this.empresaSeleccionada.empCodigo,this.extraerValoresIniciales(),this.vistaFormulario=!0);break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.accion=s.a.ACCION_EDITAR,this.classIcon=s.a.ICON_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_CONCEPTO_BONOS,this.vistaFormulario=!0,this.inicializarValores(this.objetoSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.inicializarValores(this.objetoSeleccionado),this.eliminarUtilidadMotivo());break;case s.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(s.a.ACCION_EDITAR_ESTADO,this,!0)&&(this.accion=s.a.ACCION_EDITAR_ESTADO,this.tituloForm=s.a.TITULO_FILTROS,this.inicializarValores(this.objetoSeleccionado),this.modificarEstadoConceptoBono())}},e.prototype.inicializarValores=function(e){this.conceptoBonoSeleccionado=new xe(e),this.conceptoBonoSeleccionado.empCodigo=this.empresaSeleccionada.empCodigo},e.prototype.generarAtajosTeclado=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimir");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesConceptoBonos(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesConceptoBonos(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelar");return e&&e.click(),!1}))},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.conceptoBonoService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},we([Object(a.Input)(),Ge("design:type",Boolean)],e.prototype,"isModal",void 0),we([Object(a.Input)(),Ge("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),we([Object(a.Input)(),Ge("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),we([Object(a.ViewChild)("frmConcepto"),Ge("design:type",ie.NgForm)],e.prototype,"frmConcepto",void 0),we([Object(a.ViewChild)("menuOpciones"),Ge("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),we([Object(a.HostListener)("window:beforeunload",["$event"]),Ge("design:type",Function),Ge("design:paramtypes",[Event]),Ge("design:returntype",void 0)],e.prototype,"unloadHandler",null),we([Object(a.HostListener)("window:resize",["$event"]),Ge("design:type",Function),Ge("design:paramtypes",[]),Ge("design:returntype",void 0)],e.prototype,"onResize",null),e=we([Object(a.Component)({selector:"app-concepto-bonos",template:o("Chw2"),styles:[o("WBfR")]}),Ge("design:paramtypes",[re.a,g.ActivatedRoute,r.b,x.a,_,A.HotkeysService,n.a])],e)}(),je=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ue=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ke=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruCrear&&t.empresaSeleccionada.listaSisPermisoTO.gruCrearClientes;break;case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_EDITAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruModificar&&t.empresaSeleccionada.listaSisPermisoTO.gruModificarClientes;break;case s.a.ACCION_ELIMINAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruEliminar;break;case s.a.ACCION_IMPRIMIR:a=t.empresaSeleccionada.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.ERROR_403_TITULO),a},e.prototype.listarMotivoPrestamo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhPrestamoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarMotivoPrestamo(e.extraInfo):(t.despuesDeListarMotivoPrestamo([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.insertarMotivoPrestamo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhPrestamoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeInsertarMotivoPrestamo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarMotivoPrestamo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhPrestamoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarMotivoPrestamo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarEstadoMotivoPrestamo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarEstadoRhPrestamoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarEstadoMotivoPrestamo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.eliminarMotivoPrestamo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhPrestamoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO),t.despuesDeEliminarMotivoPrestamo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirMotivoPrestamo=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/imprimirReporteMotivoPrestamo",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoMotivoPrestamo_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.exportarMotivoPrestamo=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteMotivoPrestamo",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoMotivoPrestamo_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t=[{headerName:s.a.TAG_DETALLE,field:"rhPrestamoMotivoPK.motDetalle",width:250,minWidth:250},{headerName:s.a.TAG_TIPO_CONTABLE,field:"conTipo.conTipoPK.tipCodigo",width:110,minWidth:110}],e&&t.push(this.utilService.getSpanSelect()),e||t.push({headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"motInactivo",width:110,minWidth:110,cellRenderer:"inputEstado",cellClass:"text-md-center"},this.utilService.getColumnaOpciones()),t},e=je([Object(a.Injectable)({providedIn:"root"}),Ue("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),Ve=o("6IoA"),Xe=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Je=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},He=function(){function e(e,t,o,a,i,r,n,c,l){this.auth=e,this.activeModal=t,this.route=o,this.toastr=a,this.filasService=i,this.motivoPrestamoService=r,this.tipoContableService=n,this.atajoService=c,this.utilService=l,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.listaResultado=[],this.motivoPrestamoSeleccionado=new Ve.a,this.listaTipoContable=[],this.tipoContableSeleccionado=new Ne.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.prestamoMotivo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.listarMotivPrestamo(!1),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.filasService.actualizarFilas("0","0"),this.limpiarResultado(),this.listarTipoContable()},e.prototype.limpiarResultado=function(){this.listaResultado=[]},e.prototype.listarMotivPrestamo=function(e){this.cargando=!0,this.filtroGlobal="",this.filasTiempo.iniciarContador();var t={empresa:this.empresaSeleccionada.empCodigo,inactivo:e};this.motivoPrestamoService.listarMotivoPrestamo(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarMotivoPrestamo=function(e){this.filasTiempo.finalizarContador(),this.listaResultado=e,this.cargando=!1,this.isModal&&1==e.length&&this.activeModal.close(e[0]),this.extraerValoresIniciales()},e.prototype.listarTipoContable=function(){this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){e&&(this.listaTipoContable=e,this.tipoContableSeleccionado=this.listaTipoContable?this.listaTipoContable[0]:null),this.cargando=!1},e.prototype.resetear=function(){this.accion=null,this.vistaFormulario=!1,0===this.listaResultado.length&&(this.activar=!1)},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}break;default:this.resetear()}},e.prototype.setearValoresRhBonoMotivo=function(){this.motivoPrestamoSeleccionado.rhPrestamoMotivoPK.motEmpresa=this.empresaSeleccionada.empCodigo,this.motivoPrestamoSeleccionado.usrEmpresa=this.empresaSeleccionada.empCodigo,this.motivoPrestamoSeleccionado.usrCodigo=this.auth.getCodigoUser(),this.motivoPrestamoSeleccionado.conTipo.conTipoPK.tipEmpresa=this.empresaSeleccionada.empCodigo,this.motivoPrestamoSeleccionado.conTipo.conTipoPK.tipCodigo=this.tipoContableSeleccionado.tipCodigo,this.motivoPrestamoSeleccionado.conTipo.tipDetalle=this.tipoContableSeleccionado.tipDetalle},e.prototype.insertarMotivoPrestamo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhPrestamoMotivo:this.motivoPrestamoSeleccionado};this.motivoPrestamoService.insertarMotivoPrestamo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeInsertarMotivoPrestamo=function(e){this.cargando=!1,this.refrescarTabla(this.motivoPrestamoSeleccionado,"I"),this.resetear()},e.prototype.modificarMotivoPrestamo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.sePuedeCancelar())this.resetear(),this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION);else if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhPrestamoMotivo:this.motivoPrestamoSeleccionado};this.motivoPrestamoService.modificarMotivoPrestamo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeModificarMotivoPrestamo=function(e){this.cargando=!1,e&&this.refrescarTabla(this.motivoPrestamoSeleccionado,"U"),this.resetear()},e.prototype.modificarEstadoMotivoBono=function(){var e=this;if(this.utilService.verificarPermiso(this.accion,this,!0)){var t={title:this.motivoPrestamoSeleccionado.motInactivo?s.a.MSJ_TITULO_ACTIVAR:s.a.MSJ_TITULO_INACTIVAR,texto:(this.motivoPrestamoSeleccionado.motInactivo?s.a.MSJ_PREGUNTA_ACTIVAR:s.a.MSJ_PREGUNTA_INACTIVAR)+"<br>"+s.a.TAG_MOTIVO_PRESTAMO+": "+this.motivoPrestamoSeleccionado.rhPrestamoMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhPrestamoMotivo:e.motivoPrestamoSeleccionado,estado:!e.motivoPrestamoSeleccionado.motInactivo};e.motivoPrestamoService.modificarEstadoMotivoPrestamo(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}this.resetear()},e.prototype.despuesDeModificarEstadoMotivoPrestamo=function(e){this.motivoPrestamoSeleccionado.motInactivo=!this.motivoPrestamoSeleccionado.motInactivo,this.cargando=!1,this.refrescarTabla(this.motivoPrestamoSeleccionado,"U")},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmMotivo?e.frmMotivo.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmMotivo)},e.prototype.eliminarMotivoPrestamo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR+"<br>"+s.a.TAG_MOTIVO_PRESTAMO+": "+this.motivoPrestamoSeleccionado.rhPrestamoMotivoPK.motDetalle,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_NO_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0,e.motivoPrestamoSeleccionado=e.motivoPrestamoSeleccionado;var o={rhPrestamoMotivo:e.motivoPrestamoSeleccionado};e.motivoPrestamoService.eliminarMotivoPrestamo(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}else this.resetear()},e.prototype.despuesDeEliminarMotivoPrestamo=function(e){e&&this.refrescarTabla(this.motivoPrestamoSeleccionado,"D"),this.cargando=!1,this.resetear()},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={ListadoMotivoPrestamo:this.listaResultado};this.motivoPrestamoService.imprimirMotivoPrestamo(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ListadoMotivoPrestamo:this.listaResultado};this.motivoPrestamoService.exportarMotivoPrestamo(e,this,this.empresaSeleccionada)}},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.rhPrestamoMotivoPK.motDetalle===e.rhPrestamoMotivoPK.motDetalle});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.motivoPrestamoSeleccionado=this.listaResultado[o],this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.rhPrestamoMotivoPK.motDetalle===e.rhPrestamoMotivoPK.motDetalle});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.generarOpciones=function(){var e=this,t=this.motivoPrestamoSeleccionado,o=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),a=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&!this.motivoPrestamoSeleccionado.motInactivo,i=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&this.motivoPrestamoSeleccionado.motInactivo,r=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionesMotivoPrestamo(s.a.ACCION_CONSULTAR):null}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!o,command:function(){return o?e.operacionesMotivoPrestamo(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!r,command:function(){return r?e.operacionesMotivoPrestamo(s.a.ACCION_ELIMINAR):null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.operacionesMotivoPrestamo(s.a.ACCION_EDITAR_ESTADO):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return a?e.operacionesMotivoPrestamo(s.a.ACCION_EDITAR_ESTADO):null}}]},e.prototype.operacionesMotivoPrestamo=function(e){switch(e){case s.a.ACCION_CONSULTAR:this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)&&(this.accion=s.a.ACCION_CONSULTAR,this.tituloForm=s.a.TITULO_FORM_CONSULTAR_MOTIVO_PRESTAMO,this.vistaFormulario=!0,this.inicializarValores(this.motivoPrestamoSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_MOTIVO_PRESTAMO,this.motivoPrestamoSeleccionado=new Ve.a,this.tipoContableSeleccionado=this.listaTipoContable?this.listaTipoContable[0]:null,this.extraerValoresIniciales(),this.vistaFormulario=!0);break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_MOTIVO_PRESTAMO,this.vistaFormulario=!0,this.inicializarValores(this.motivoPrestamoSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarMotivoPrestamo());break;case s.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(s.a.ACCION_EDITAR_ESTADO,this,!0)&&(this.accion=s.a.ACCION_EDITAR_ESTADO,this.tituloForm=s.a.TITULO_FILTROS,this.modificarEstadoMotivoBono())}},e.prototype.inicializarValores=function(e){this.motivoPrestamoSeleccionado.rhPrestamoMotivoPK.motDetalle=e.rhPrestamoMotivoPK.motDetalle,e&&(this.tipoContableSeleccionado=this.listaTipoContable.find(function(t){return t.tipCodigo===e.conTipo.conTipoPK.tipCodigo}))},e.prototype.generarAtajosTeclado=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimir");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoPrestamo(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoPrestamo(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelar");return e&&e.click(),!1}))},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.motivoPrestamoService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.motivoPrestamoSeleccionado=t?t.data:null},e.prototype.filaSeleccionar=function(){this.enviarItem(this.motivoPrestamoSeleccionado)},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.motivoPrestamoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},Xe([Object(a.Input)(),Je("design:type",Boolean)],e.prototype,"isModal",void 0),Xe([Object(a.Input)(),Je("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),Xe([Object(a.Input)(),Je("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Xe([Object(a.ViewChild)("frmMotivo"),Je("design:type",ie.NgForm)],e.prototype,"frmMotivo",void 0),Xe([Object(a.ViewChild)("menuOpciones"),Je("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Xe([Object(a.HostListener)("window:beforeunload",["$event"]),Je("design:type",Function),Je("design:paramtypes",[Event]),Je("design:returntype",void 0)],e.prototype,"unloadHandler",null),Xe([Object(a.HostListener)("window:resize",["$event"]),Je("design:type",Function),Je("design:paramtypes",[]),Je("design:returntype",void 0)],e.prototype,"onResize",null),e=Xe([Object(a.Component)({selector:"app-motivo-prestamo",template:o("ZhtC"),styles:[o("jFMP")]}),Je("design:paramtypes",[Ee.a,re.a,g.ActivatedRoute,r.b,x.a,ke,J.a,A.HotkeysService,n.a])],e)}(),We=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ye=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ke=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruCrear&&t.empresaSeleccionada.listaSisPermisoTO.gruCrearClientes;break;case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_EDITAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruModificar&&t.empresaSeleccionada.listaSisPermisoTO.gruModificarClientes;break;case s.a.ACCION_ELIMINAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruEliminar;break;case s.a.ACCION_IMPRIMIR:a=t.empresaSeleccionada.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.ERROR_403_TITULO),a},e.prototype.listarMotivoRolPago=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhRolMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarMotivoRolPago(e.extraInfo):(t.despuesDeListarMotivoRolPago([]),a.toastr.warning(e.operacionMensaje,"Aviso"))}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.insertarMotivoRolPago=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhRolMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeInsertarMotivoRolPago(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarMotivoRolPago=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhRolMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarMotivoRolPago(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarEstadoMotivoRolPago=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarEstadoRhRolMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarEstadoMotivoRolPago(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.eliminarMotivoRolPago=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhRolMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO),t.despuesDeEliminarMotivoRolPago(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirMotivoRolPago=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/imprimirReporteMotivoRolPago",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoMotivoRolPago_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.exportarMotivoRolPago=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteMotivoRolPago",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoMotivoRolPago_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t=[{headerName:s.a.TAG_DETALLE,field:"rhRolMotivoPK.motDetalle",width:250,minWidth:250},{headerName:s.a.TAG_TIPO_CONTABLE,field:"conTipo.conTipoPK.tipCodigo",width:110,minWidth:110}],e&&t.push(this.utilService.getSpanSelect()),e||t.push({headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"motInactivo",width:110,minWidth:110,cellRenderer:"inputEstado",cellClass:"text-md-center"},this.utilService.getColumnaOpciones()),t},e=We([Object(a.Injectable)({providedIn:"root"}),Ye("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),ze=function(){function e(e){this.motEmpresa="",this.motDetalle="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.motEmpresa=e?e.motEmpresa:this.motEmpresa,this.motDetalle=e?e.motDetalle:this.motDetalle},e}(),qe=function(){function e(e){this.rhRolMotivoPK=new ze,this.motInactivo=!1,this.conTipo=new u.a,this.usrEmpresa="",this.usrCodigo="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.rhRolMotivoPK=e?e.rhRolMotivoPK:this.rhRolMotivoPK,this.motInactivo=e?e.motInactivo:this.motInactivo,this.conTipo=e?e.conTipo:this.conTipo,this.usrEmpresa=e?e.usrEmpresa:this.usrEmpresa,this.usrCodigo=e?e.usrCodigo:this.usrCodigo,this.usrFechaInserta=e?e.usrFechaInserta:this.usrFechaInserta},e}(),$e=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Qe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ze=function(){function e(e,t,o,a,i,r,n,c,l){this.auth=e,this.activeModal=t,this.route=o,this.toastr=a,this.filasService=i,this.motivoRolPagoService=r,this.tipoContableService=n,this.atajoService=c,this.utilService=l,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.listaResultado=[],this.motivoRolPagoSeleccionado=new qe,this.listaTipoContable=[],this.tipoContableSeleccionado=new Ne.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.rolMotivo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.buscarMotivoRolPago(!1),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.filasService.actualizarFilas("0","0"),this.limpiarResultado(),this.listarTipoContable()},e.prototype.limpiarResultado=function(){this.listaResultado=[]},e.prototype.buscarMotivoRolPago=function(e){this.cargando=!0,this.filtroGlobal="",this.filasTiempo.iniciarContador();var t={empresa:this.empresaSeleccionada.empCodigo,inactivo:e};this.motivoRolPagoService.listarMotivoRolPago(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarMotivoRolPago=function(e){this.filasTiempo.finalizarContador(),this.listaResultado=e,this.cargando=!1,this.isModal&&1==e.length&&this.activeModal.close(e[0]),this.extraerValoresIniciales()},e.prototype.listarTipoContable=function(){this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){e&&(this.listaTipoContable=e,this.tipoContableSeleccionado=this.listaTipoContable?this.listaTipoContable[0]:null),this.cargando=!1},e.prototype.resetear=function(){this.accion=null,this.vistaFormulario=!1,this.actualizarFilas(),0===this.listaResultado.length&&(this.activar=!1)},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}break;default:this.resetear()}},e.prototype.setearValoresRhBonoMotivo=function(){this.motivoRolPagoSeleccionado.rhRolMotivoPK.motEmpresa=this.empresaSeleccionada.empCodigo,this.motivoRolPagoSeleccionado.usrEmpresa=this.empresaSeleccionada.empCodigo,this.motivoRolPagoSeleccionado.usrCodigo=this.auth.getCodigoUser(),this.motivoRolPagoSeleccionado.conTipo.conTipoPK.tipEmpresa=this.empresaSeleccionada.empCodigo,this.motivoRolPagoSeleccionado.conTipo.conTipoPK.tipCodigo=this.tipoContableSeleccionado.tipCodigo,this.motivoRolPagoSeleccionado.conTipo.tipDetalle=this.tipoContableSeleccionado.tipDetalle},e.prototype.insertarMotivoRolPago=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhRolMotivo:this.motivoRolPagoSeleccionado};this.motivoRolPagoService.insertarMotivoRolPago(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeInsertarMotivoRolPago=function(e){this.cargando=!1,this.refrescarTabla(this.motivoRolPagoSeleccionado,"I"),this.resetear()},e.prototype.modificarMotivoBono=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.sePuedeCancelar())this.resetear(),this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION);else if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhRolMotivo:this.motivoRolPagoSeleccionado};this.motivoRolPagoService.modificarMotivoRolPago(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeModificarMotivoRolPago=function(e){this.cargando=!1,e&&this.refrescarTabla(this.motivoRolPagoSeleccionado,"U"),this.resetear()},e.prototype.modificarEstadoMotivoBono=function(){var e=this;if(this.utilService.verificarPermiso(this.accion,this,!0)){var t={title:this.motivoRolPagoSeleccionado.motInactivo?s.a.MSJ_TITULO_ACTIVAR:s.a.MSJ_TITULO_INACTIVAR,texto:(this.motivoRolPagoSeleccionado.motInactivo?s.a.MSJ_PREGUNTA_ACTIVAR:s.a.MSJ_PREGUNTA_INACTIVAR)+"<br>"+s.a.TAG_MOTIVO_ROL_PAGO+": "+this.motivoRolPagoSeleccionado.rhRolMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhRolMotivo:e.motivoRolPagoSeleccionado,estado:!e.motivoRolPagoSeleccionado.motInactivo};e.motivoRolPagoService.modificarEstadoMotivoRolPago(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}this.resetear()},e.prototype.despuesDeModificarEstadoMotivoRolPago=function(e){this.motivoRolPagoSeleccionado.motInactivo=!this.motivoRolPagoSeleccionado.motInactivo,this.cargando=!1,this.refrescarTabla(this.motivoRolPagoSeleccionado,"U")},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmMotivo?e.frmMotivo.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmMotivo)},e.prototype.eliminarMotivoRolPago=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR+"<br>"+s.a.TAG_MOTIVO_ROL_PAGO+": "+this.motivoRolPagoSeleccionado.rhRolMotivoPK.motDetalle,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_NO_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0,e.motivoRolPagoSeleccionado=e.motivoRolPagoSeleccionado;var o={rhRolMotivo:e.motivoRolPagoSeleccionado};e.motivoRolPagoService.eliminarMotivoRolPago(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}else this.resetear()},e.prototype.despuesDeEliminarMotivoRolPago=function(e){e&&this.refrescarTabla(this.motivoRolPagoSeleccionado,"D"),this.cargando=!1,this.resetear()},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={ListadoRolPago:this.listaResultado};this.motivoRolPagoService.imprimirMotivoRolPago(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ListadoRolPago:this.listaResultado};this.motivoRolPagoService.exportarMotivoRolPago(e,this,this.empresaSeleccionada)}},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.rhRolMotivoPK.motDetalle===e.rhRolMotivoPK.motDetalle});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.rhRolMotivoPK.motDetalle===e.rhRolMotivoPK.motDetalle});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.generarOpciones=function(){var e=this,t=this.motivoRolPagoSeleccionado,o=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),a=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&!this.motivoRolPagoSeleccionado.motInactivo,i=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&this.motivoRolPagoSeleccionado.motInactivo,r=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionesMotivoRolPago(s.a.ACCION_CONSULTAR):null}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!o,command:function(){return o?e.operacionesMotivoRolPago(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!r,command:function(){return r?e.operacionesMotivoRolPago(s.a.ACCION_ELIMINAR):null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.operacionesMotivoRolPago(s.a.ACCION_EDITAR_ESTADO):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return a?e.operacionesMotivoRolPago(s.a.ACCION_EDITAR_ESTADO):null}}]},e.prototype.operacionesMotivoRolPago=function(e){switch(e){case s.a.ACCION_CONSULTAR:this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)&&(this.accion=s.a.ACCION_CONSULTAR,this.tituloForm=s.a.TITULO_FORM_CONSULTAR_MOTIVO_ROL_PAGO,this.vistaFormulario=!0,this.inicializarValores(this.motivoRolPagoSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_MOTIVO_ROL_PAGO,this.motivoRolPagoSeleccionado=new qe,this.tipoContableSeleccionado=this.listaTipoContable?this.listaTipoContable[0]:null,this.extraerValoresIniciales(),this.vistaFormulario=!0);break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_MOTIVO_ROL_PAGO,this.vistaFormulario=!0,this.inicializarValores(this.motivoRolPagoSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarMotivoRolPago());break;case s.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(s.a.ACCION_EDITAR_ESTADO,this,!0)&&(this.accion=s.a.ACCION_EDITAR_ESTADO,this.tituloForm=s.a.TITULO_FILTROS,this.modificarEstadoMotivoBono())}},e.prototype.generarAtajosTeclado=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimir");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoRolPago(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoRolPago(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelar");return e&&e.click(),!1}))},e.prototype.inicializarValores=function(e){this.motivoRolPagoSeleccionado.rhRolMotivoPK.motDetalle=e.rhRolMotivoPK.motDetalle,e&&(this.tipoContableSeleccionado=this.listaTipoContable.find(function(t){return t.tipCodigo===e.conTipo.conTipoPK.tipCodigo}))},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.motivoRolPagoService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.motivoRolPagoSeleccionado=t?t.data:null},e.prototype.filaSeleccionar=function(){this.enviarItem(this.motivoRolPagoSeleccionado)},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.motivoRolPagoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},$e([Object(a.Input)(),Qe("design:type",Boolean)],e.prototype,"isModal",void 0),$e([Object(a.Input)(),Qe("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),$e([Object(a.Input)(),Qe("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),$e([Object(a.ViewChild)("frmMotivo"),Qe("design:type",ie.NgForm)],e.prototype,"frmMotivo",void 0),$e([Object(a.ViewChild)("menuOpciones"),Qe("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),$e([Object(a.HostListener)("window:beforeunload",["$event"]),Qe("design:type",Function),Qe("design:paramtypes",[Event]),Qe("design:returntype",void 0)],e.prototype,"unloadHandler",null),$e([Object(a.HostListener)("window:resize",["$event"]),Qe("design:type",Function),Qe("design:paramtypes",[]),Qe("design:returntype",void 0)],e.prototype,"onResize",null),e=$e([Object(a.Component)({selector:"app-motivo-rol-pago",template:o("4WyP"),styles:[o("RM1P")]}),Qe("design:paramtypes",[Ee.a,re.a,g.ActivatedRoute,r.b,x.a,Ke,J.a,A.HotkeysService,n.a])],e)}(),et=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},tt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ot=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruCrear&&t.empresaSeleccionada.listaSisPermisoTO.gruCrearClientes;break;case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_EDITAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruModificar&&t.empresaSeleccionada.listaSisPermisoTO.gruModificarClientes;break;case s.a.ACCION_ELIMINAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruEliminar;break;case s.a.ACCION_IMPRIMIR:a=t.empresaSeleccionada.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.empresaSeleccionada.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.ERROR_403_TITULO),a},e.prototype.listarMotivoXiiiSueldo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhXiiiSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarMotivoXiiiSueldo(e.extraInfo):(t.despuesDeListarMotivoXiiiSueldo([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.insertarMotivoXiiiSueldo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhXiiiSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeInsertarMotivoXiiiSueldo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarMotivoXiiiSueldo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhXiiiSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarMotivoXiiiSueldo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.modificarEstadoMotivoXiiiSueldo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarEstadoRhXiiiSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO,{enableHtml:!0}),t.despuesDeModificarEstadoMotivoXiiiSueldo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.eliminarMotivoXiiiSueldo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhXiiiSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?(a.toastr.success(e.operacionMensaje,s.a.TOAST_CORRECTO),t.despuesDeEliminarMotivoXiiiSueldo(e.extraInfo)):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirMotivoXiiiSueldo=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/imprimirReporteMotivoXiiiSueldo",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoMotivoXiiiSueldo_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.exportarMotivoXiiiSueldo=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteMotivoXiiiSueldo",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoMotivoXiiiSueldo_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t=[{headerName:s.a.TAG_DETALLE,field:"rhXiiiSueldoMotivoPK.motDetalle",width:250,minWidth:250},{headerName:s.a.TAG_TIPO_CONTABLE,field:"conTipo.conTipoPK.tipCodigo",width:110,minWidth:110}],e&&t.push(this.utilService.getSpanSelect()),e||t.push({headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"motInactivo",width:110,minWidth:110,cellRenderer:"inputEstado",cellClass:"text-md-center"},this.utilService.getColumnaOpciones()),t},e=et([Object(a.Injectable)({providedIn:"root"}),tt("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),at=function(){function e(e){this.motEmpresa="",this.motDetalle="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.motEmpresa=e?e.motEmpresa:this.motEmpresa,this.motDetalle=e?e.motDetalle:this.motDetalle},e}(),it=function(){function e(e){this.rhXiiiSueldoMotivoPK=new at,this.motInactivo=!1,this.conTipo=new u.a,this.usrEmpresa="",this.usrCodigo="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.rhXiiiSueldoMotivoPK=e?e.rhXiiiSueldoMotivoPK:this.rhXiiiSueldoMotivoPK,this.motInactivo=e?e.motInactivo:this.motInactivo,this.conTipo=e?e.conTipo:this.conTipo,this.usrEmpresa=e?e.usrEmpresa:this.usrEmpresa,this.usrCodigo=e?e.usrCodigo:this.usrCodigo,this.usrFechaInserta=e?e.usrFechaInserta:this.usrFechaInserta},e}(),rt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},nt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},st=function(){function e(e,t,o,a,i,r,n,c,l){this.auth=e,this.activeModal=t,this.route=o,this.toastr=a,this.filasService=i,this.motivoXiiiSueldoService=r,this.tipoContableService=n,this.atajoService=c,this.utilService=l,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.listaResultado=[],this.motivoXiiiSuelkdSeleccionado=new it,this.listaTipoContable=[],this.tipoContableSeleccionado=new Ne.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.xiiiSueldoMotivo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.buscarXiiiSueldo(!1),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.listarTipoContable(),this.filasService.actualizarFilas("0","0")},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0"),this.filasTiempo.resetearContador(),this.filtroGlobal=""},e.prototype.buscarXiiiSueldo=function(e){this.cargando=!0,this.limpiarResultado(),this.filasTiempo.iniciarContador();var t={empresa:this.empresaSeleccionada.empCodigo,inactivo:e};this.motivoXiiiSueldoService.listarMotivoXiiiSueldo(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarMotivoXiiiSueldo=function(e){this.filasTiempo.finalizarContador(),this.listaResultado=e,this.cargando=!1,this.isModal&&1==e.length&&this.activeModal.close(e[0]),this.extraerValoresIniciales()},e.prototype.listarTipoContable=function(){this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){e&&(this.listaTipoContable=e,this.tipoContableSeleccionado=this.listaTipoContable?this.listaTipoContable[0]:null),this.cargando=!1},e.prototype.resetear=function(){this.accion=null,this.vistaFormulario=!1,0===this.listaResultado.length&&(this.activar=!1),this.actualizarFilas()},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}break;default:this.resetear()}},e.prototype.setearValoresRhBonoMotivo=function(){this.motivoXiiiSuelkdSeleccionado.rhXiiiSueldoMotivoPK.motEmpresa=this.empresaSeleccionada.empCodigo,this.motivoXiiiSuelkdSeleccionado.usrEmpresa=this.empresaSeleccionada.empCodigo,this.motivoXiiiSuelkdSeleccionado.usrCodigo=this.auth.getCodigoUser(),this.motivoXiiiSuelkdSeleccionado.conTipo.conTipoPK.tipEmpresa=this.empresaSeleccionada.empCodigo,this.motivoXiiiSuelkdSeleccionado.conTipo.conTipoPK.tipCodigo=this.tipoContableSeleccionado.tipCodigo,this.motivoXiiiSuelkdSeleccionado.conTipo.tipDetalle=this.tipoContableSeleccionado.tipDetalle},e.prototype.insertarMotivoXiiiSueldo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhXiiiSueldoMotivo:this.motivoXiiiSuelkdSeleccionado};this.motivoXiiiSueldoService.insertarMotivoXiiiSueldo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeInsertarMotivoXiiiSueldo=function(e){this.cargando=!1,this.refrescarTabla(this.motivoXiiiSuelkdSeleccionado,"I"),this.resetear()},e.prototype.modificarMotivoXiiiSueldo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.sePuedeCancelar())this.resetear(),this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION);else if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhBonoMotivo();var t={rhXiiiSueldoMotivo:this.motivoXiiiSuelkdSeleccionado};this.motivoXiiiSueldoService.modificarMotivoXiiiSueldo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeModificarMotivoXiiiSueldo=function(e){this.cargando=!1,e&&this.refrescarTabla(this.motivoXiiiSuelkdSeleccionado,"U"),this.resetear()},e.prototype.modificarEstadoMotivoBono=function(){var e=this;if(this.utilService.verificarPermiso(this.accion,this,!0)){var t={title:this.motivoXiiiSuelkdSeleccionado.motInactivo?s.a.MSJ_TITULO_ACTIVAR:s.a.MSJ_TITULO_INACTIVAR,texto:(this.motivoXiiiSuelkdSeleccionado.motInactivo?s.a.MSJ_PREGUNTA_ACTIVAR:s.a.MSJ_PREGUNTA_INACTIVAR)+"<br>"+s.a.TAG_MOTIVO_DECIMO_TERCER_SUELDO+": "+this.motivoXiiiSuelkdSeleccionado.rhXiiiSueldoMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0,e.motivoXiiiSuelkdSeleccionado=e.motivoXiiiSuelkdSeleccionado;var o={rhXiiiSueldoMotivo:e.motivoXiiiSuelkdSeleccionado,estado:!e.motivoXiiiSuelkdSeleccionado.motInactivo};e.motivoXiiiSueldoService.modificarEstadoMotivoXiiiSueldo(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}this.resetear()},e.prototype.despuesDeModificarEstadoMotivoXiiiSueldo=function(e){this.motivoXiiiSuelkdSeleccionado.motInactivo=!this.motivoXiiiSuelkdSeleccionado.motInactivo,this.cargando=!1,this.refrescarTabla(this.motivoXiiiSuelkdSeleccionado,"U")},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmMotivo?e.frmMotivo.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmMotivo)},e.prototype.eliminarUtilidadMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR+"<br>"+s.a.TAG_MOTIVO_DECIMO_TERCER_SUELDO+": "+this.motivoXiiiSuelkdSeleccionado.rhXiiiSueldoMotivoPK.motDetalle,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_NO_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0,e.motivoXiiiSuelkdSeleccionado=e.motivoXiiiSuelkdSeleccionado;var o={rhXiiiSueldoMotivo:e.motivoXiiiSuelkdSeleccionado};e.motivoXiiiSueldoService.eliminarMotivoXiiiSueldo(o,e,s.a.KEY_EMPRESA_SELECT)}else e.resetear()})}else this.resetear()},e.prototype.despuesDeEliminarMotivoXiiiSueldo=function(e){e&&this.refrescarTabla(this.motivoXiiiSuelkdSeleccionado,"D"),this.cargando=!1,this.resetear()},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={ListadoXiiiSueldo:this.listaResultado};this.motivoXiiiSueldoService.imprimirMotivoXiiiSueldo(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ListadoXiiiSueldo:this.listaResultado};this.motivoXiiiSueldoService.exportarMotivoXiiiSueldo(e,this,this.empresaSeleccionada)}},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.rhXiiiSueldoMotivoPK.motDetalle===e.rhXiiiSueldoMotivoPK.motDetalle});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.rhXiiiSueldoMotivoPK.motDetalle===e.rhXiiiSueldoMotivoPK.motDetalle});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.generarOpciones=function(){var e=this,t=this.motivoXiiiSuelkdSeleccionado,o=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),a=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&!this.motivoXiiiSuelkdSeleccionado.motInactivo,i=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&this.motivoXiiiSuelkdSeleccionado.motInactivo,r=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_CONSULTAR,icon:s.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionesMotivoXiiiSueldo(s.a.ACCION_CONSULTAR):null}},{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!o,command:function(){return o?e.operacionesMotivoXiiiSueldo(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!r,command:function(){return r?e.operacionesMotivoXiiiSueldo(s.a.ACCION_ELIMINAR):null}},{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?e.operacionesMotivoXiiiSueldo(s.a.ACCION_EDITAR_ESTADO):null}},{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!a,command:function(){return a?e.operacionesMotivoXiiiSueldo(s.a.ACCION_EDITAR_ESTADO):null}}]},e.prototype.operacionesMotivoXiiiSueldo=function(e){switch(e){case s.a.ACCION_CONSULTAR:this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)&&(this.accion=s.a.ACCION_CONSULTAR,this.tituloForm=s.a.TITULO_FORM_CONSULTAR_MOTIVO_XIII_SUELDO,this.vistaFormulario=!0,this.inicializarValores(this.motivoXiiiSuelkdSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_MOTIVO_XIII_SUELDO,this.motivoXiiiSuelkdSeleccionado=new it,this.tipoContableSeleccionado=this.listaTipoContable?this.listaTipoContable[0]:null,this.extraerValoresIniciales(),this.vistaFormulario=!0);break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_MOTIVO_XIII_SUELDO,this.vistaFormulario=!0,this.inicializarValores(this.motivoXiiiSuelkdSeleccionado),this.extraerValoresIniciales());break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarUtilidadMotivo());break;case s.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(s.a.ACCION_EDITAR_ESTADO,this,!0)&&(this.accion=s.a.ACCION_EDITAR_ESTADO,this.tituloForm=s.a.TITULO_FILTROS,this.modificarEstadoMotivoBono())}},e.prototype.inicializarValores=function(e){this.motivoXiiiSuelkdSeleccionado.rhXiiiSueldoMotivoPK.motDetalle=e.rhXiiiSueldoMotivoPK.motDetalle,e&&(this.tipoContableSeleccionado=this.listaTipoContable.find(function(t){return t.tipCodigo===e.conTipo.conTipoPK.tipCodigo}))},e.prototype.generarAtajosTeclado=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimir");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoXiiiSueldo(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operacionesMotivoXiiiSueldo(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelar");return e&&e.click(),!1}))},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.motivoXiiiSueldoService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.motivoXiiiSuelkdSeleccionado=t?t.data:null},e.prototype.filaSeleccionar=function(){this.enviarItem(this.motivoXiiiSuelkdSeleccionado)},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.motivoXiiiSuelkdSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},rt([Object(a.Input)(),nt("design:type",Boolean)],e.prototype,"isModal",void 0),rt([Object(a.Input)(),nt("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),rt([Object(a.Input)(),nt("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),rt([Object(a.ViewChild)("frmMotivo"),nt("design:type",ie.NgForm)],e.prototype,"frmMotivo",void 0),rt([Object(a.ViewChild)("menuOpciones"),nt("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),rt([Object(a.HostListener)("window:beforeunload",["$event"]),nt("design:type",Function),nt("design:paramtypes",[Event]),nt("design:returntype",void 0)],e.prototype,"unloadHandler",null),rt([Object(a.HostListener)("window:resize",["$event"]),nt("design:type",Function),nt("design:paramtypes",[]),nt("design:returntype",void 0)],e.prototype,"onResize",null),e=rt([Object(a.Component)({selector:"app-motivo-xiii-sueldo",template:o("pYPZ"),styles:[o("WMKs")]}),nt("design:paramtypes",[Ee.a,re.a,g.ActivatedRoute,r.b,x.a,ot,J.a,A.HotkeysService,n.a])],e)}(),ct=function(){function e(e){this.motEmpresa=null,this.motDetalle="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.motEmpresa=e.motEmpresa?e.motEmpresa:this.motEmpresa,this.motDetalle=e.motDetalle?e.motDetalle:this.motDetalle},e}(),lt=function(){function e(e){this.rhXivSueldoMotivoPK=new ct,this.conTipo=null,this.motInactivo=!1,this.usrCodigo=null,this.usrEmpresa=null,this.usrFechaInserta=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.rhXivSueldoMotivoPK=e.rhXivSueldoMotivoPK?e.rhXivSueldoMotivoPK:this.rhXivSueldoMotivoPK,this.conTipo=e.conTipo?e.conTipo:this.conTipo,this.motInactivo=e.motInactivo?e.motInactivo:this.motInactivo,this.usrCodigo=e.usrCodigo?e.usrCodigo:this.usrCodigo,this.usrEmpresa=e.usrEmpresa?e.usrEmpresa:this.usrEmpresa,this.usrFechaInserta=e.usrFechaInserta?e.usrFechaInserta:this.usrFechaInserta},e}(),dt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},pt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mt=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhXivSueldoMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhXivSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhXivSueldoMotivo(e.extraInfo):(t.despuesDeListarRhXivSueldoMotivo([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_DETALLE,field:"rhXivSueldoMotivoPK.motDetalle",width:120,minWidth:120},{headerName:s.a.TAG_TIPO_CONTABLE,field:"conTipo.tipDetalle",width:150,minWidth:150},{headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"motInactivo",width:50,minWidth:50,cellRenderer:"inputEstado",cellClass:"text-md-center"},this.utilService.getColumnaOpciones()]},e.prototype.insertarRhXivSueldoMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhXivSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?(t.despuesDeInsertarRhXivSueldoMotivo(e),t.cargando=!1):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.actualizarRhXivSueldoMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhXivSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeActualizarRhXivSueldoMotivo(e):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.actualizarEstadoRhXivSueldoMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarEstadoRhXivSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeActualizarEstadoRhXivSueldoMotivo(e):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.eliminarRhXivSueldoMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhXivSueldoMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesEliminarRhXivSueldoMotivo(e):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e=dt([Object(a.Injectable)({providedIn:"root"}),pt("design:paramtypes",[i.a,r.b,n.a])],e)}(),ut=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ht=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vt=function(){function e(e,t,o,a,i,r,n,c,l){this.auth=e,this.route=t,this.filasService=o,this.toastr=a,this.atajoService=i,this.utilService=r,this.archivoService=n,this.tipoContableService=c,this.xivSueldoMotivoService=l,this.listaResultadoXivSueldoMotivo=[],this.listaEmpresas=[],this.listaTipos=[],this.xivSueldoMotivoSeleccionado=new lt,this.rhXivSueldoMotivo=new lt,this.tipoSeleccionado=new Ne.a,this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.xivSueldoMotivo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajos(),this.iniciarAgGrid(),this.buscarXivSueldoMotivo(!0)},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.listarTipos()},e.prototype.limpiarResultado=function(){this.listaResultadoXivSueldoMotivo=[],this.filasService.actualizarFilas("0","0")},e.prototype.listarTipos=function(){this.listaTipos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){this.listaTipos=e,this.cargando=!1},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarXivSueldoMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarXivSueldoMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirXivSueldoMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarXivSueldoMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevoXivSueldoMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultadoXivSueldoMotivo.length>0&&e.operacionesXivSueldoMotivo(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultadoXivSueldoMotivo.length>0&&e.operacionesXivSueldoMotivo(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardarXivSueldoMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelarXivSueldoMotivo");return e&&e.click(),!1}))},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),o=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&!this.xivSueldoMotivoSeleccionado.motInactivo,a=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&this.xivSueldoMotivoSeleccionado.motInactivo,i=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!t,command:function(){return t?e.operacionesXivSueldoMotivo(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!i,command:function(){return i?e.operacionesXivSueldoMotivo(s.a.ACCION_ELIMINAR):null}},this.xivSueldoMotivoSeleccionado.motInactivo?{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!a,command:function(){return a?e.operacionesXivSueldoMotivo(s.a.ACCION_EDITAR_ESTADO):null}}:{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!o,command:function(){return o?e.operacionesXivSueldoMotivo(s.a.ACCION_EDITAR_ESTADO):null}}]},e.prototype.operacionesXivSueldoMotivo=function(e){var t=this;switch(e){case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_MOTIVO_XIV_SUELDO,this.inicializarValores(),this.tipoSeleccionado=this.listaTipos.length>0?this.listaTipos[0]:null);break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_MOTIVO_XIV_SUELDO,this.inicializarValores(this.xivSueldoMotivoSeleccionado),this.listaTipos.length>0?this.tipoSeleccionado=this.listaTipos.find(function(e){return e.tipCodigo===t.rhXivSueldoMotivo.conTipo.conTipoPK.tipCodigo}):this.tipoSeleccionado=null);break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.rhXivSueldoMotivo=new lt(this.xivSueldoMotivoSeleccionado),this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarXivSueldoMotivo());break;case s.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(s.a.ACCION_EDITAR_ESTADO,this,!0)&&(this.rhXivSueldoMotivo=new lt(this.xivSueldoMotivoSeleccionado),this.accion=s.a.ACCION_EDITAR_ESTADO,this.tituloForm=s.a.TITULO_FILTROS,this.actualizarEstadoXivSueldoMotivo())}},e.prototype.buscarXivSueldoMotivo=function(e){this.cargando=!0,this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,soloActivos:e};this.filasTiempo.iniciarContador(),this.xivSueldoMotivoService.listaRhXivSueldoMotivo(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXivSueldoMotivo=function(e){this.listaResultadoXivSueldoMotivo=e,this.cargando=!1,this.filasTiempo.finalizarContador()},e.prototype.guardarXivSueldoMotivo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhXivSueldoMotivo();var t={rhXivSueldoMotivo:this.rhXivSueldoMotivo};this.xivSueldoMotivoService.insertarRhXivSueldoMotivo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeInsertarRhXivSueldoMotivo=function(e){this.toastr.success(e.operacionMensaje,"Aviso"),this.cargando=!1,this.refrescarTabla(this.rhXivSueldoMotivo,"I"),this.cancelar()},e.prototype.actualizarXivSueldoMotivo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhXivSueldoMotivo();var t={rhXivSueldoMotivo:this.rhXivSueldoMotivo};this.xivSueldoMotivoService.actualizarRhXivSueldoMotivo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeActualizarRhXivSueldoMotivo=function(e){this.toastr.success(e.operacionMensaje,"Aviso"),this.cargando=!1,this.refrescarTabla(this.rhXivSueldoMotivo,"U"),this.cancelar()},e.prototype.actualizarEstadoXivSueldoMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)){var t=JSON.parse(JSON.stringify(this.rhXivSueldoMotivo)),o={title:t.motInactivo?s.a.MSJ_TITULO_ACTIVAR:s.a.MSJ_TITULO_INACTIVAR,texto:(t.motInactivo?s.a.MSJ_PREGUNTA_ACTIVAR:s.a.MSJ_PREGUNTA_INACTIVAR)+"<br>Motivo de utilidad: "+t.rhXivSueldoMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_ACEPTAR,cancelButtonText:s.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(o).then(function(o){if(o){e.cargando=!0;var a={rhXivSueldoMotivo:e.rhXivSueldoMotivo,estado:!t.motInactivo};e.xivSueldoMotivoService.actualizarEstadoRhXivSueldoMotivo(a,e,s.a.KEY_EMPRESA_SELECT)}else e.cancelar()})}else this.cancelar()},e.prototype.despuesDeActualizarEstadoRhXivSueldoMotivo=function(e){this.rhXivSueldoMotivo.motInactivo=!this.rhXivSueldoMotivo.motInactivo,this.toastr.success(e.operacionMensaje,"Aviso"),this.cargando=!1,this.refrescarTabla(this.rhXivSueldoMotivo,"U"),this.cancelar()},e.prototype.eliminarXivSueldoMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhXivSueldoMotivo:e.rhXivSueldoMotivo};e.xivSueldoMotivoService.eliminarRhXivSueldoMotivo(o,e,s.a.KEY_EMPRESA_SELECT)}else e.cancelar()})}else this.cancelar()},e.prototype.despuesEliminarRhXivSueldoMotivo=function(e){this.cargando=!1,this.refrescarTabla(this.rhXivSueldoMotivo,"D"),this.toastr.success(e.operacionMensaje,"Aviso"),this.cancelar()},e.prototype.imprimirRhXivSueldoMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={ListadoRhXivSueldoMotivo:this.listaResultadoXivSueldoMotivo};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteRhXivSueldoMotivo",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoRhXivSueldoMotivo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRhXivSueldoMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={ListadoRhXivSueldoMotivo:this.listaResultadoXivSueldoMotivo};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteRhXivSueldoMotivo",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRhXivSueldoMotivo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.inicializarValores=function(e){var t=this;this.rhXivSueldoMotivo=new lt(e||null),this.vistaFormulario=!0,setTimeout(function(){t.valoresIniciales=JSON.parse(JSON.stringify(t.frmXivSueldoMotivo?t.frmXivSueldoMotivo.value:null))},50)},e.prototype.setearValoresRhXivSueldoMotivo=function(){this.rhXivSueldoMotivo.rhXivSueldoMotivoPK.motEmpresa=this.empresaSeleccionada.empCodigo,this.rhXivSueldoMotivo.usrEmpresa=this.empresaSeleccionada.empCodigo,this.rhXivSueldoMotivo.usrCodigo=this.auth.getCodigoUser(),this.rhXivSueldoMotivo.conTipo=new u.a,this.rhXivSueldoMotivo.conTipo.conTipoPK.tipEmpresa=this.empresaSeleccionada.empCodigo,this.rhXivSueldoMotivo.conTipo.conTipoPK.tipCodigo=this.tipoSeleccionado.tipCodigo,this.rhXivSueldoMotivo.conTipo.tipDetalle=this.tipoSeleccionado.tipDetalle},e.prototype.cancelar=function(){var e=this;this.accion=null,this.vistaFormulario=!1,this.rhXivSueldoMotivo=new lt,0===this.listaResultadoXivSueldoMotivo.length&&(this.activar=!1),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.cancelarAccion=function(){var e=this;if(this.sePuedeCancelar())this.cancelar();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_ACEPTAR,cancelButtonText:s.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.cancelar()})}},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmXivSueldoMotivo)},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultadoXivSueldoMotivo.length>0)(a=this.listaResultadoXivSueldoMotivo.slice()).unshift(e),this.listaResultadoXivSueldoMotivo=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultadoXivSueldoMotivo.findIndex(function(t){return t.rhXivSueldoMotivoPK.motDetalle===e.rhXivSueldoMotivoPK.motDetalle});(a=this.listaResultadoXivSueldoMotivo.slice())[o]=e,this.listaResultadoXivSueldoMotivo=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultadoXivSueldoMotivo.findIndex(function(t){return t.rhXivSueldoMotivoPK.motDetalle===e.rhXivSueldoMotivoPK.motDetalle});(a=this.listaResultadoXivSueldoMotivo.slice()).splice(o,1),this.listaResultadoXivSueldoMotivo=a,this.listaResultadoXivSueldoMotivo.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.xivSueldoMotivoService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.xivSueldoMotivoSeleccionado=t?t.data:null},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.xivSueldoMotivoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},ut([Object(a.ViewChild)("frmXivSueldoMotivo"),ht("design:type",ie.NgForm)],e.prototype,"frmXivSueldoMotivo",void 0),ut([Object(a.ViewChild)("menuOpciones"),ht("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),ut([Object(a.HostListener)("window:beforeunload",["$event"]),ht("design:type",Function),ht("design:paramtypes",[Event]),ht("design:returntype",void 0)],e.prototype,"unloadHandler",null),ut([Object(a.HostListener)("window:resize",["$event"]),ht("design:type",Function),ht("design:paramtypes",[]),ht("design:returntype",void 0)],e.prototype,"onResize",null),e=ut([Object(a.Component)({selector:"app-motivo-xiv-sueldo",template:o("PU5r"),styles:[o("cFHJ")]}),ht("design:paramtypes",[Ee.a,g.ActivatedRoute,x.a,r.b,A.HotkeysService,n.a,c.a,J.a,mt])],e)}(),ft=function(){function e(e){this.motEmpresa=null,this.motDetalle="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.motEmpresa=e.motEmpresa?e.motEmpresa:this.motEmpresa,this.motDetalle=e.motDetalle?e.motDetalle:this.motDetalle},e}(),At=function(){function e(e){this.rhUtilidadMotivoPK=new ft,this.conTipo=null,this.motInactivo=!1,this.usrCodigo=null,this.usrEmpresa=null,this.usrFechaInserta=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.rhUtilidadMotivoPK=e.rhUtilidadMotivoPK?e.rhUtilidadMotivoPK:this.rhUtilidadMotivoPK,this.conTipo=e.conTipo?e.conTipo:this.conTipo,this.motInactivo=e.motInactivo?e.motInactivo:this.motInactivo,this.usrCodigo=e.usrCodigo?e.usrCodigo:this.usrCodigo,this.usrEmpresa=e.usrEmpresa?e.usrEmpresa:this.usrEmpresa,this.usrFechaInserta=e.usrFechaInserta?e.usrFechaInserta:this.usrFechaInserta},e}(),gt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},bt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},St=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhUtilidadMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getListaRhUtilidadMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhUtilidadMotivo(e.extraInfo):(t.despuesDeListarRhUtilidadMotivo([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_DETALLE,field:"rhUtilidadMotivoPK.motDetalle",width:150,minWidth:150},{headerName:s.a.TAG_TIPO_CONTABLE,field:"conTipo.tipDetalle",width:200,minWidth:200},{headerName:s.a.TAG_INACTIVO,headerClass:"text-md-center",field:"motInactivo",width:50,minWidth:50,cellRenderer:"inputEstado",cellClass:"text-md-center"},this.utilService.getColumnaOpciones()]},e.prototype.insertarRhUtilidadMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarRhUtilidadMotivo",e,o).then(function(e){e&&e.extraInfo?(t.despuesDeInsertarRhUtilidadMotivo(e),t.cargando=!1):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.actualizarRhUtilidadMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarRhUtilidadMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeActualizarRhUtilidadMotivo(e):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.actualizarEstadoRhUtilidadMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/modificarEstadoRhUtilidadMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeActualizarEstadoRhUtilidadMotivo(e):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.eliminarRhUtilidadMotivo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/eliminarRhUtilidadMotivo",e,o).then(function(e){e&&e.extraInfo?t.despuesEliminarRhUtilidadMotivo(e):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_INFORMACION),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,a)})},e=gt([Object(a.Injectable)({providedIn:"root"}),bt("design:paramtypes",[i.a,r.b,n.a])],e)}(),Ct=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},It=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Rt=function(){function e(e,t,o,a,i,r,n,c,l){this.auth=e,this.route=t,this.filasService=o,this.toastr=a,this.atajoService=i,this.utilService=r,this.archivoService=n,this.tipoContableService=c,this.utilidadMotivoService=l,this.listaResultadoUtilidadMotivo=[],this.listaEmpresas=[],this.listaTipos=[],this.utilidadMotivoSeleccionado=new At,this.rhUtilidadMotivo=new At,this.tipoSeleccionado=new Ne.a,this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.utilidadMotivo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajos(),this.iniciarAgGrid(),this.buscarUtilidadMotivo(!0)},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.listarTipos()},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarUtilidadMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarUtilidadMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirUtilidadMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarUtilidadMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevoUtilidadMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultadoUtilidadMotivo.length>0&&e.operacionesUtilidadMotivo(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultadoUtilidadMotivo.length>0&&e.operacionesUtilidadMotivo(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardarUtilidadMotivo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelarUtilidadMotivo");return e&&e.click(),!1}))},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),o=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&!this.utilidadMotivoSeleccionado.motInactivo,a=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&this.utilidadMotivoSeleccionado.motInactivo,i=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!t,command:function(){return t?e.operacionesUtilidadMotivo(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!i,command:function(){return i?e.operacionesUtilidadMotivo(s.a.ACCION_ELIMINAR):null}},this.utilidadMotivoSeleccionado.motInactivo?{label:s.a.ACCION_ACTIVAR,icon:s.a.ICON_ACTIVAR,disabled:!a,command:function(){return a?e.operacionesUtilidadMotivo(s.a.ACCION_EDITAR_ESTADO):null}}:{label:s.a.ACCION_INACTIVAR,icon:s.a.ICON_INACTIVAR,disabled:!o,command:function(){return o?e.operacionesUtilidadMotivo(s.a.ACCION_EDITAR_ESTADO):null}}]},e.prototype.listarTipos=function(){this.listaTipos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){this.listaTipos=e,this.cargando=!1},e.prototype.operacionesUtilidadMotivo=function(e){var t=this;switch(e){case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_MOTIVO_UTILIDAD,this.inicializarValores(),this.tipoSeleccionado=this.listaTipos.length>0?this.listaTipos[0]:null);break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_MOTIVO_UTILIDAD,this.inicializarValores(this.utilidadMotivoSeleccionado),this.listaTipos.length>0?this.tipoSeleccionado=this.listaTipos.find(function(e){return e.tipCodigo===t.rhUtilidadMotivo.conTipo.conTipoPK.tipCodigo}):this.tipoSeleccionado=null);break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.rhUtilidadMotivo=new At(this.utilidadMotivoSeleccionado),this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarUtilidadMotivo());break;case s.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(s.a.ACCION_EDITAR_ESTADO,this,!0)&&(this.rhUtilidadMotivo=new At(this.utilidadMotivoSeleccionado),this.accion=s.a.ACCION_EDITAR_ESTADO,this.tituloForm=s.a.TITULO_FILTROS,this.actualizarEstadoUtilidadMotivo())}},e.prototype.buscarUtilidadMotivo=function(e){this.limpiarResultado(),this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,soloActivos:e};this.filasTiempo.iniciarContador(),this.utilidadMotivoService.listaRhUtilidadMotivo(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhUtilidadMotivo=function(e){this.listaResultadoUtilidadMotivo=e,this.cargando=!1,this.filasTiempo.finalizarContador()},e.prototype.guardarUtilidadMotivo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhUtilidadMotivo();var t={rhUtilidadMotivo:this.rhUtilidadMotivo};this.utilidadMotivoService.insertarRhUtilidadMotivo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeInsertarRhUtilidadMotivo=function(e){this.toastr.success(e.operacionMensaje,"Aviso"),this.cargando=!1,this.refrescarTabla(this.rhUtilidadMotivo,"I"),this.cancelar()},e.prototype.actualizarUtilidadMotivo=function(e){if(this.utilService.verificarPermiso(this.accion,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.setearValoresRhUtilidadMotivo();var t={rhUtilidadMotivo:this.rhUtilidadMotivo};this.utilidadMotivoService.actualizarRhUtilidadMotivo(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeActualizarRhUtilidadMotivo=function(e){this.toastr.success(e.operacionMensaje,"Aviso"),this.cargando=!1,this.refrescarTabla(this.rhUtilidadMotivo,"U"),this.cancelar()},e.prototype.actualizarEstadoUtilidadMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)){var t=JSON.parse(JSON.stringify(this.rhUtilidadMotivo)),o={title:t.motInactivo?s.a.MSJ_TITULO_ACTIVAR:s.a.MSJ_TITULO_INACTIVAR,texto:(t.motInactivo?s.a.MSJ_PREGUNTA_ACTIVAR:s.a.MSJ_PREGUNTA_INACTIVAR)+"<br>Motivo de utilidad: "+t.rhUtilidadMotivoPK.motDetalle,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_ACEPTAR,cancelButtonText:s.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(o).then(function(o){if(o){e.cargando=!0;var a={rhUtilidadMotivo:e.rhUtilidadMotivo,estado:!t.motInactivo};e.utilidadMotivoService.actualizarEstadoRhUtilidadMotivo(a,e,s.a.KEY_EMPRESA_SELECT)}else e.cancelar()})}else this.cancelar()},e.prototype.despuesDeActualizarEstadoRhUtilidadMotivo=function(e){this.rhUtilidadMotivo.motInactivo=!this.rhUtilidadMotivo.motInactivo,this.toastr.success(e.operacionMensaje,"Aviso"),this.cargando=!1,this.refrescarTabla(this.rhUtilidadMotivo,"U"),this.cancelar()},e.prototype.eliminarUtilidadMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){if(t){e.cargando=!0;var o={rhUtilidadMotivo:e.rhUtilidadMotivo};e.utilidadMotivoService.eliminarRhUtilidadMotivo(o,e,s.a.KEY_EMPRESA_SELECT)}else e.cancelar()})}else this.cancelar()},e.prototype.despuesEliminarRhUtilidadMotivo=function(e){this.cargando=!1,this.refrescarTabla(this.rhUtilidadMotivo,"D"),this.toastr.success(e.operacionMensaje,"Aviso"),this.cancelar()},e.prototype.imprimirRhUtilidadMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={ListadoRhUtilidadMotivo:this.listaResultadoUtilidadMotivo};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteRhUtilidadMotivo",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoRhUtilidadMotivo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRhUtilidadMotivo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={ListadoRhUtilidadMotivo:this.listaResultadoUtilidadMotivo};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteRhUtilidadMotivo",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRhUtilidadMotivo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.inicializarValores=function(e){var t=this;this.rhUtilidadMotivo=new At(e||null),this.vistaFormulario=!0,setTimeout(function(){t.valoresIniciales=JSON.parse(JSON.stringify(t.frmUtilidadMotivo?t.frmUtilidadMotivo.value:null))},50)},e.prototype.limpiarResultado=function(){this.listaResultadoUtilidadMotivo=[],this.filasService.actualizarFilas("0","0")},e.prototype.setearValoresRhUtilidadMotivo=function(){this.rhUtilidadMotivo.rhUtilidadMotivoPK.motEmpresa=this.empresaSeleccionada.empCodigo,this.rhUtilidadMotivo.usrEmpresa=this.empresaSeleccionada.empCodigo,this.rhUtilidadMotivo.usrCodigo=this.auth.getCodigoUser(),this.rhUtilidadMotivo.conTipo=new u.a,this.rhUtilidadMotivo.conTipo.conTipoPK.tipEmpresa=this.empresaSeleccionada.empCodigo,this.rhUtilidadMotivo.conTipo.conTipoPK.tipCodigo=this.tipoSeleccionado.tipCodigo,this.rhUtilidadMotivo.conTipo.tipDetalle=this.tipoSeleccionado.tipDetalle},e.prototype.cancelar=function(){var e=this;this.accion=null,this.vistaFormulario=!1,this.rhUtilidadMotivo=new At,setTimeout(function(){e.actualizarFilas()},50),0===this.listaResultadoUtilidadMotivo.length&&(this.activar=!1)},e.prototype.cancelarAccion=function(){var e=this;if(this.sePuedeCancelar())this.cancelar();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_ACEPTAR,cancelButtonText:s.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.cancelar()})}},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmUtilidadMotivo)},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultadoUtilidadMotivo.length>0)(a=this.listaResultadoUtilidadMotivo.slice()).unshift(e),this.listaResultadoUtilidadMotivo=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultadoUtilidadMotivo.findIndex(function(t){return t.rhUtilidadMotivoPK.motDetalle===e.rhUtilidadMotivoPK.motDetalle});(a=this.listaResultadoUtilidadMotivo.slice())[o]=e,this.listaResultadoUtilidadMotivo=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultadoUtilidadMotivo.findIndex(function(t){return t.rhUtilidadMotivoPK.motDetalle===e.rhUtilidadMotivoPK.motDetalle});(a=this.listaResultadoUtilidadMotivo.slice()).splice(o,1),this.listaResultadoUtilidadMotivo=a,this.listaResultadoUtilidadMotivo.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.utilidadMotivoService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.utilidadMotivoSeleccionado=t?t.data:null},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.utilidadMotivoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},Ct([Object(a.ViewChild)("frmUtilidadMotivo"),It("design:type",ie.NgForm)],e.prototype,"frmUtilidadMotivo",void 0),Ct([Object(a.ViewChild)("menuOpciones"),It("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Ct([Object(a.HostListener)("window:beforeunload",["$event"]),It("design:type",Function),It("design:paramtypes",[Event]),It("design:returntype",void 0)],e.prototype,"unloadHandler",null),Ct([Object(a.HostListener)("window:resize",["$event"]),It("design:type",Function),It("design:paramtypes",[]),It("design:returntype",void 0)],e.prototype,"onResize",null),e=Ct([Object(a.Component)({selector:"app-motivo-utilidad",template:o("u980"),styles:[o("/kdu")]}),It("design:paramtypes",[Ee.a,g.ActivatedRoute,x.a,r.b,A.HotkeysService,n.a,c.a,J.a,St])],e)}(),Ot=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Et=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tt=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhXivSueldoPeriodoTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhComboXivSueldoPeriodoTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhXivSueldoPeriodoTO(e.extraInfo):(t.despuesDeListarRhXivSueldoPeriodoTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_DESCRIPCION,field:"xivDescripcion",width:120,minWidth:120},{headerName:s.a.TAG_FECHA_DESDE,field:"xivDesde",width:150,minWidth:150},{headerName:s.a.TAG_FECHA_HASTA,field:"xivHasta",width:150,minWidth:150},{headerName:s.a.TAG_FECHA_MAXIMO_PAGO,field:"xivFechaMaximaPago",width:150,minWidth:150},this.utilService.getColumnaOpciones()]},e=Ot([Object(a.Injectable)({providedIn:"root"}),Et("design:paramtypes",[i.a,r.b,n.a])],e)}(),_t=o("aZGd"),yt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Pt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mt=function(){function e(e,t,o,a,i,r,n,c,l){this.api=e,this.route=t,this.filasService=o,this.toastr=a,this.atajoService=i,this.utilService=r,this.archivoService=n,this.sistemaService=c,this.periodoXivService=l,this.listaResultado=[],this.listaEmpresas=[],this.objetoSeleccionado=new _t.a,this.rhXivSueldoPeriodoTO=new _t.a,this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.classIcon=s.a.ICON_FILTRAR,this.cargando=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){L.locale("es"),this.es=this.utilService.setLocaleDate(),this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.periodoXivSueldo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajos(),this.iniciarAgGrid(),this.obtenerFechaActual(),this.buscarXivSueldoPeriodo()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirXivSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarXivSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevoXivSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operaciones(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operaciones(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardarXivSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelarXivSueldoPeriodo");return e&&e.click(),!1}))},e.prototype.operaciones=function(e){switch(e){case s.a.ACCION_CREAR:this.rhXivSueldoPeriodoTO=new _t.a,this.accion=s.a.ACCION_CREAR,this.classIcon=s.a.ICON_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_PERIODO_XIV_SUELDO,this.vistaFormulario=!0,this.inicializarFechas();break;case s.a.ACCION_EDITAR:this.rhXivSueldoPeriodoTO=new _t.a(this.objetoSeleccionado),this.accion=s.a.ACCION_EDITAR,this.classIcon=s.a.ICON_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_PERIODO_XIV_SUELDO,this.vistaFormulario=!0,this.inicializarFechasEdit();break;case s.a.ACCION_ELIMINAR:this.rhXivSueldoPeriodoTO=new _t.a(this.objetoSeleccionado),this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarXivSueldoPeriodo()}},e.prototype.buscarXivSueldoPeriodo=function(){this.cargando=!0,this.filasTiempo.iniciarContador(),this.periodoXivService.listaRhXivSueldoPeriodoTO({},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXivSueldoPeriodoTO=function(e){this.listaResultado=e,this.cargando=!1,this.filasTiempo.finalizarContador()},e.prototype.insertarXivSueldoPeriodo=function(e){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o=JSON.parse(JSON.stringify(this.rhXivSueldoPeriodoTO));o.xivDesde=this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),o.xivHasta=this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),o.xivFechaMaximaPago=this.utilService.convertirFechaStringYYYYMMDD(this.fechaMaximaPago),this.accionXivSueldoPeriodo(o,"I")}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.actualizarXivSueldoPeriodo=function(e){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o=JSON.parse(JSON.stringify(this.rhXivSueldoPeriodoTO));o.xivDesde=this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),o.xivHasta=this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),o.xivFechaMaximaPago=this.utilService.convertirFechaStringYYYYMMDD(this.fechaMaximaPago),this.accionXivSueldoPeriodo(o,"M")}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.eliminarXivSueldoPeriodo=function(){var e=this,t=JSON.parse(JSON.stringify(this.rhXivSueldoPeriodoTO)),o={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(o).then(function(o){o?(e.cargando=!0,e.accionXivSueldoPeriodo(t,"E")):e.resetear()})},e.prototype.imprimirXivSueldoPeriodo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={ListadoPeriodoXivSueldo:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteXivSueldoPeriodo",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoPeriodoXivSueldo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarXivSueldoPeriodo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={ListadoPeriodoXivSueldo:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteXivSueldoPeriodo",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoPeriodoXivSueldo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.accionXivSueldoPeriodo=function(e,t){var o=this;this.api.post("todocompuWS/rrhhWebController/accionRhXivSueldoPeriodo",{rhXivSueldoPeriodoTO:e,accion:t},s.a.KEY_EMPRESA_SELECT).then(function(t){if(o.cargando=!1,t&&t.extraInfo){switch(o.accion){case s.a.ACCION_CREAR:e.periodoSecuencial=t.extraInfo,o.refrescarTabla(e,"I");break;case s.a.ACCION_EDITAR:o.refrescarTabla(e,"U");break;case s.a.ACCION_ELIMINAR:o.refrescarTabla(e,"D")}o.toastr.success(t.operacionMensaje,"Aviso"),o.resetear()}else o.accion===s.a.ACCION_ELIMINAR&&o.resetear(),o.toastr.warning(t.operacionMensaje,"Aviso")}).catch(function(e){return o.utilService.handleError(e,o)})},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.xivDescripcion===e.xivDescripcion});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.xivDescripcion===e.xivDescripcion});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.resetear=function(){var e=this;this.rhXivSueldoPeriodoTO=new _t.a,this.accion=null,this.vistaFormulario=!1,this.tituloForm=s.a.TITULO_FILTROS,setTimeout(function(){e.actualizarFilas()},50)},e.prototype.cancelarAccion=function(){var e=this;if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_ACEPTAR,cancelButtonText:s.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}},e.prototype.obtenerFechaActual=function(){var e=this;this.sistemaService.getFechaActual(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaActual=t,e.inicializarFechas()}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.inicializarFechas=function(){var e=this.fechaActual.getFullYear();this.fechaDesde=new Date(e,0,1),this.fechaHasta=new Date(e,11,31),this.fechaMaximaPago=this.fechaActual,this.inicializarFormulario()},e.prototype.inicializarFechasEdit=function(){this.fechaDesde=this.utilService.fomatearFechaString(this.rhXivSueldoPeriodoTO.xivDesde,"YYYY-MM-DD"),this.fechaHasta=this.utilService.fomatearFechaString(this.rhXivSueldoPeriodoTO.xivHasta,"YYYY-MM-DD"),this.fechaMaximaPago=this.utilService.fomatearFechaString(this.rhXivSueldoPeriodoTO.xivFechaMaximaPago,"YYYY-MM-DD"),this.inicializarFormulario()},e.prototype.inicializarFormulario=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmXivSueldoPeriodo?e.frmXivSueldoPeriodo.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmXivSueldoPeriodo)},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!1,command:function(){return e.operaciones(s.a.ACCION_EDITAR)}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!1,command:function(){return e.operaciones(s.a.ACCION_ELIMINAR)}}]},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.periodoXivService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},yt([Object(a.ViewChild)("frmXivSueldoPeriodo"),Pt("design:type",ie.NgForm)],e.prototype,"frmXivSueldoPeriodo",void 0),yt([Object(a.ViewChild)("menuOpciones"),Pt("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),yt([Object(a.HostListener)("window:beforeunload",["$event"]),Pt("design:type",Function),Pt("design:paramtypes",[Event]),Pt("design:returntype",void 0)],e.prototype,"unloadHandler",null),yt([Object(a.HostListener)("window:resize",["$event"]),Pt("design:type",Function),Pt("design:paramtypes",[]),Pt("design:returntype",void 0)],e.prototype,"onResize",null),e=yt([Object(a.Component)({selector:"app-periodo-xiv-sueldo",template:o("5NwC"),styles:[o("/DuJ")]}),Pt("design:paramtypes",[i.a,g.ActivatedRoute,x.a,r.b,A.HotkeysService,n.a,c.a,v.a,Tt])],e)}(),Nt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Dt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Lt=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhXiiiSueldoPeriodoTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhComboXiiiSueldoPeriodoTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhXiiiSueldoPeriodoTO(e.extraInfo):(t.despuesDeListarRhXiiiSueldoPeriodoTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_DESCRIPCION,field:"xiiiDescripcion",width:120,minWidth:120},{headerName:s.a.TAG_FECHA_DESDE,field:"xiiiDesde",width:150,minWidth:150},{headerName:s.a.TAG_FECHA_HASTA,field:"xiiiHasta",width:150,minWidth:150},{headerName:s.a.TAG_FECHA_MAXIMO_PAGO,field:"xiiiFechaMaximaPago",width:150,minWidth:150},this.utilService.getColumnaOpciones()]},e=Nt([Object(a.Injectable)({providedIn:"root"}),Dt("design:paramtypes",[i.a,r.b,n.a])],e)}(),Ft=o("7uDO"),xt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},wt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gt=function(){function e(e,t,o,a,i,r,n,c,l,d){this.auth=e,this.api=t,this.route=o,this.filasService=a,this.toastr=i,this.atajoService=r,this.utilService=n,this.archivoService=c,this.sistemaService=l,this.periodoXiiiService=d,this.listaResultado=[],this.listaEmpresas=[],this.objetoSeleccionado=new Ft.a,this.rhXiiiSueldoPeriodoTO=new Ft.a,this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){L.locale("es"),this.es=this.utilService.setLocaleDate(),this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.periodoXiiiSueldo,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajos(),this.obtenerFechaActual(),this.iniciarAgGrid(),this.buscarXiiiSueldoPeriodo()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirXiiiSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarXiiiSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevoXiiiSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operaciones(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operaciones(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardarXiiiSueldoPeriodo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelarXiiiSueldoPeriodo");return e&&e.click(),!1}))},e.prototype.operaciones=function(e){switch(e){case s.a.ACCION_CREAR:this.rhXiiiSueldoPeriodoTO=new Ft.a,this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_PERIODO_XIII_SUELDO,this.vistaFormulario=!0,this.inicializarFechas();break;case s.a.ACCION_EDITAR:this.rhXiiiSueldoPeriodoTO=new Ft.a(this.objetoSeleccionado),this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_PERIODO_XIII_SUELDO,this.vistaFormulario=!0,this.inicializarFechasEdit();break;case s.a.ACCION_ELIMINAR:this.rhXiiiSueldoPeriodoTO=new Ft.a(this.objetoSeleccionado),this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarXiiiSueldoPeriodo()}},e.prototype.buscarXiiiSueldoPeriodo=function(){this.cargando=!0,this.filasTiempo.iniciarContador(),this.periodoXiiiService.listaRhXiiiSueldoPeriodoTO({},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXiiiSueldoPeriodoTO=function(e){this.listaResultado=e,this.cargando=!1,this.filasTiempo.finalizarContador()},e.prototype.insertarXiiiSueldoPeriodo=function(e){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o=JSON.parse(JSON.stringify(this.rhXiiiSueldoPeriodoTO));o.xiiiDesde=this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),o.xiiiHasta=this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),o.xiiiFechaMaximaPago=this.utilService.convertirFechaStringYYYYMMDD(this.fechaMaximaPago),this.accionXiiiSueldoPeriodo(o,"I")}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.actualizarXiiiSueldoPeriodo=function(e){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o=JSON.parse(JSON.stringify(this.rhXiiiSueldoPeriodoTO));o.xiiiDesde=this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),o.xiiiHasta=this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),o.xiiiFechaMaximaPago=this.utilService.convertirFechaStringYYYYMMDD(this.fechaMaximaPago),this.accionXiiiSueldoPeriodo(o,"M")}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.eliminarXiiiSueldoPeriodo=function(){var e=this,t=JSON.parse(JSON.stringify(this.rhXiiiSueldoPeriodoTO)),o={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(o).then(function(o){o?(e.cargando=!0,e.accionXiiiSueldoPeriodo(t,"E")):e.resetear()})},e.prototype.imprimirXiiiSueldoPeriodo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={ListadoXiiiSueldoPeriodo:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteXiiiSueldoPeriodo",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoPeriodoXiiiSueldo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarXiiiSueldoPeriodo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={ListadoXiiiSueldoPeriodo:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteXiiiSueldoPeriodo",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoPeriodoXiiiSueldo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.accionXiiiSueldoPeriodo=function(e,t){var o=this;this.api.post("todocompuWS/rrhhWebController/accionRhXiiiSueldoPeriodo",{rhXiiiSueldoPeriodoTO:e,accion:t},s.a.KEY_EMPRESA_SELECT).then(function(t){if(o.cargando=!1,t&&t.extraInfo){switch(o.accion){case s.a.ACCION_CREAR:e.periodoSecuencial=t.extraInfo,o.refrescarTabla(e,"I");break;case s.a.ACCION_EDITAR:o.refrescarTabla(e,"U");break;case s.a.ACCION_ELIMINAR:o.refrescarTabla(e,"D")}o.toastr.success(t.operacionMensaje,"Aviso"),o.resetear()}else o.accion===s.a.ACCION_ELIMINAR&&o.resetear(),o.toastr.warning(t.operacionMensaje,"Aviso")}).catch(function(e){return o.utilService.handleError(e,o)})},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.xiiiDescripcion===e.xiiiDescripcion});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.xiiiDescripcion===e.xiiiDescripcion});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.resetear=function(){var e=this;this.rhXiiiSueldoPeriodoTO=new Ft.a,this.accion=null,this.vistaFormulario=!1,this.tituloForm=s.a.TITULO_FILTROS,setTimeout(function(){e.actualizarFilas()},50)},e.prototype.cancelarAccion=function(){var e=this;if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_ACEPTAR,cancelButtonText:s.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}},e.prototype.obtenerFechaActual=function(){var e=this;this.sistemaService.getFechaActual(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaActual=t,e.inicializarFechas()}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.inicializarFechas=function(){var e=this.fechaActual.getFullYear();this.fechaDesde=new Date(e,0,1),this.fechaHasta=new Date(e,11,31),this.fechaMaximaPago=this.fechaActual,this.inicializarFormulario()},e.prototype.inicializarFechasEdit=function(){this.fechaDesde=this.utilService.fomatearFechaString(this.rhXiiiSueldoPeriodoTO.xiiiDesde,"YYYY-MM-DD"),this.fechaHasta=this.utilService.fomatearFechaString(this.rhXiiiSueldoPeriodoTO.xiiiHasta,"YYYY-MM-DD"),this.fechaMaximaPago=this.utilService.fomatearFechaString(this.rhXiiiSueldoPeriodoTO.xiiiFechaMaximaPago,"YYYY-MM-DD"),this.inicializarFormulario()},e.prototype.inicializarFormulario=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmXivSueldoMotivo?e.frmXivSueldoMotivo.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmXivSueldoMotivo)},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!1,command:function(){return e.operaciones(s.a.ACCION_EDITAR)}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!1,command:function(){return e.operaciones(s.a.ACCION_ELIMINAR)}}]},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.periodoXiiiService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},xt([Object(a.ViewChild)("frmXivSueldoMotivo"),wt("design:type",ie.NgForm)],e.prototype,"frmXivSueldoMotivo",void 0),xt([Object(a.ViewChild)("menuOpciones"),wt("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),xt([Object(a.HostListener)("window:beforeunload",["$event"]),wt("design:type",Function),wt("design:paramtypes",[Event]),wt("design:returntype",void 0)],e.prototype,"unloadHandler",null),xt([Object(a.HostListener)("window:resize",["$event"]),wt("design:type",Function),wt("design:paramtypes",[]),wt("design:returntype",void 0)],e.prototype,"onResize",null),e=xt([Object(a.Component)({selector:"app-periodo-xiii-sueldo",template:o("/29e"),styles:[o("/rqY")]}),wt("design:paramtypes",[Ee.a,i.a,g.ActivatedRoute,x.a,r.b,A.HotkeysService,n.a,c.a,v.a,Lt])],e)}(),Bt=function(){function e(e){this.utiDescripcion="",this.utiEmpresa=null,this.utiDesde=null,this.utiHasta=null,this.utiFechaMaximaPago=null,this.utiTotalDias=0,this.utiTotalCargas=0,this.utiTotalPagar=0,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.utiDescripcion=e.utiDescripcion?e.utiDescripcion:this.utiDescripcion,this.utiEmpresa=e.utiEmpresa?e.utiEmpresa:this.utiEmpresa,this.utiDesde=e.utiDesde?e.utiDesde:this.utiDesde,this.utiHasta=e.utiHasta?e.utiHasta:this.utiHasta,this.utiFechaMaximaPago=e.utiFechaMaximaPago?e.utiFechaMaximaPago:this.utiFechaMaximaPago,this.utiTotalDias=e.utiTotalDias?e.utiTotalDias:this.utiTotalDias,this.utiTotalCargas=e.utiTotalCargas?e.utiTotalCargas:this.utiTotalCargas,this.utiTotalPagar=e.utiTotalPagar?e.utiTotalPagar:this.utiTotalPagar},e}(),jt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ut=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},kt=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhUtilidadesPeriodoTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhComboUtilidadesPeriodoTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhUtilidadesPeriodoTO(e.extraInfo):(t.despuesDeListarRhUtilidadesPeriodoTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_DESCRIPCION,field:"utiDescripcion",width:120,minWidth:120},{headerName:s.a.TAG_FECHA_DESDE,field:"utiDesde",width:150,minWidth:150},{headerName:s.a.TAG_FECHA_HASTA,field:"utiHasta",width:150,minWidth:150},{headerName:s.a.TAG_FECHA_MAXIMO_PAGO,field:"utiFechaMaximaPago",width:150,minWidth:150},this.utilService.getColumnaOpciones()]},e=jt([Object(a.Injectable)({providedIn:"root"}),Ut("design:paramtypes",[i.a,r.b,n.a])],e)}(),Vt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Xt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jt=function(){function e(e,t,o,a,i,r,n,c,l){this.api=e,this.route=t,this.filasService=o,this.toastr=a,this.atajoService=i,this.utilService=r,this.archivoService=n,this.sistemaService=c,this.periodoUtilidadService=l,this.listaResultado=[],this.listaEmpresas=[],this.objetoSeleccionado=new Bt,this.rhUtilidadesPeriodoTO=new Bt,this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.vistaFormulario=!1,this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){L.locale("es"),this.es=this.utilService.setLocaleDate(),this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.periodoUtilidad,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajos(),this.obtenerFechaActual(),this.iniciarAgGrid(),this.buscarPeriodosUtilidad()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarPeriodosUtilidad");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarPeriodosUtilidad");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirPeriodosUtilidad");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarPeriodosUtilidad");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevoPeriodosUtilidad");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EDITAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operaciones(s.a.ACCION_EDITAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_ELIMINAR,function(){return!e.accion&&e.listaResultado.length>0&&e.operaciones(s.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardarPeriodosUtilidad");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelarPeriodosUtilidad");return e&&e.click(),!1}))},e.prototype.operaciones=function(e){var t=this;switch(e){case s.a.ACCION_CREAR:this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)&&(this.rhUtilidadesPeriodoTO=new Bt,this.accion=s.a.ACCION_CREAR,this.tituloForm=s.a.TITULO_FORM_NUEVO_PERIODO_UTILIDAD,this.vistaFormulario=!0,this.inicializarFechas());break;case s.a.ACCION_EDITAR:this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)&&(this.rhUtilidadesPeriodoTO=new Bt(this.objetoSeleccionado),this.accion=s.a.ACCION_EDITAR,this.tituloForm=s.a.TITULO_FORM_EDITAR_PERIODO_UTILIDAD,this.vistaFormulario=!0,this.inicializarFechasEdit(),setTimeout(function(){t.valoresIniciales=JSON.parse(JSON.stringify(t.frmPeriodosUtilidad?t.frmPeriodosUtilidad.value:null))},50));break;case s.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)&&(this.rhUtilidadesPeriodoTO=new Bt(this.objetoSeleccionado),this.accion=s.a.ACCION_ELIMINAR,this.tituloForm=s.a.TITULO_FILTROS,this.eliminarPeriodosUtilidad())}},e.prototype.buscarPeriodosUtilidad=function(){this.cargando=!0,this.limpiarResultado(),this.filasTiempo.iniciarContador(),this.periodoUtilidadService.listaRhUtilidadesPeriodoTO({empresa:this.empresaSeleccionada.empCodigo},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhUtilidadesPeriodoTO=function(e){this.listaResultado=e,this.cargando=!1,this.filasTiempo.finalizarContador()},e.prototype.insertarPeriodosUtilidad=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CREAR,this,!0)){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o=JSON.parse(JSON.stringify(this.rhUtilidadesPeriodoTO));o.utiEmpresa=this.empresaSeleccionada.empCodigo,o.utiDesde=this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),o.utiHasta=this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),o.utiFechaMaximaPago=this.utilService.convertirFechaStringYYYYMMDD(this.fechaMaximaPago),this.accionPeriodosUtilidad(o,"I")}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},e.prototype.actualizarPeriodosUtilidad=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0)){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o=JSON.parse(JSON.stringify(this.rhUtilidadesPeriodoTO));o.utiEmpresa=this.empresaSeleccionada.empCodigo,o.utiDesde=this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),o.utiHasta=this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),o.utiFechaMaximaPago=this.utilService.convertirFechaStringYYYYMMDD(this.fechaMaximaPago),this.accionPeriodosUtilidad(o,"M")}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},e.prototype.eliminarPeriodosUtilidad=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0)){var t=JSON.parse(JSON.stringify(this.rhUtilidadesPeriodoTO)),o={title:s.a.MSJ_TITULO_ELIMINAR,texto:s.a.MSJ_PREGUNTA_ELIMINAR,type:s.a.SWAL_WARNING,confirmButtonText:s.a.MSJ_SI_ELIMINAR,cancelButtonText:s.a.MSJ_CANCELAR,confirmButtonColor:s.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(o).then(function(o){o?(e.cargando=!0,e.accionPeriodosUtilidad(t,"E")):e.resetear()})}},e.prototype.accionPeriodosUtilidad=function(e,t){var o=this;this.api.post("todocompuWS/rrhhWebController/accionRhUtilidadesPeriodo",{rhUtilidadesPeriodoTO:e,accion:t},s.a.KEY_EMPRESA_SELECT).then(function(t){if(o.cargando=!1,t&&t.extraInfo){switch(o.accion){case s.a.ACCION_CREAR:o.refrescarTabla(e,"I");break;case s.a.ACCION_EDITAR:o.refrescarTabla(e,"U");break;case s.a.ACCION_ELIMINAR:o.refrescarTabla(e,"D")}o.toastr.success(t.operacionMensaje,"Aviso"),o.resetear()}else o.accion===s.a.ACCION_ELIMINAR&&o.resetear(),o.toastr.warning(t.operacionMensaje,"Aviso")}).catch(function(e){return o.utilService.handleError(e,o)})},e.prototype.imprimirPeriodosUtilidad=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={ListadoPeriodosUtilidad:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReportePeriodosUtilidad",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoPeriodoUtilidad.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarPeriodosUtilidad=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={ListadoPeriodosUtilidad:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReportePeriodosUtilidad",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoPeriodoUtilidad_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.refrescarTabla=function(e,t){switch(t){case"I":if(this.listaResultado.length>0)(a=this.listaResultado.slice()).unshift(e),this.listaResultado=a,this.seleccionarFila(0);break;case"U":var o=this.listaResultado.findIndex(function(t){return t.utiDescripcion===e.utiDescripcion});(a=this.listaResultado.slice())[o]=e,this.listaResultado=a,this.seleccionarFila(o);break;case"D":var a;o=this.listaResultado.findIndex(function(t){return t.utiDescripcion===e.utiDescripcion});(a=this.listaResultado.slice()).splice(o,1),this.listaResultado=a,this.listaResultado.length>0&&this.seleccionarFila(0===o?0:o-1)}},e.prototype.resetear=function(){var e=this;this.rhUtilidadesPeriodoTO=new Bt,this.accion=null,this.vistaFormulario=!1,this.tituloForm=s.a.TITULO_FILTROS,0===this.listaResultado.length&&(this.activar=!1),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.cancelarAccion=function(){var e=this;if(this.sePuedeCancelar())this.resetear();else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_ACEPTAR,cancelButtonText:s.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.resetear()})}},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_EDITAR,this,!0),o=this.utilService.verificarPermiso(s.a.ACCION_ELIMINAR,this,!0);this.opciones=[{label:s.a.ACCION_EDITAR,icon:s.a.ICON_EDITAR,disabled:!t,command:function(){return t?e.operaciones(s.a.ACCION_EDITAR):null}},{label:s.a.ACCION_ELIMINAR,icon:s.a.ICON_ELIMINAR,disabled:!o,command:function(){return o?e.operaciones(s.a.ACCION_ELIMINAR):null}}]},e.prototype.soloNumeros=function(e){return this.utilService.soloNumeros(e)},e.prototype.obtenerFechaActual=function(){var e=this;this.sistemaService.getFechaActual(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaActual=t,e.inicializarFechas()}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.inicializarFechas=function(){var e=this.fechaActual.getFullYear();this.fechaDesde=new Date(e,0,1),this.fechaHasta=new Date(e,11,31),this.fechaMaximaPago=this.fechaActual,this.inicializarFormulario()},e.prototype.inicializarFechasEdit=function(){this.fechaDesde=this.utilService.fomatearFechaString(this.rhUtilidadesPeriodoTO.utiDesde,"YYYY-MM-DD"),this.fechaHasta=this.utilService.fomatearFechaString(this.rhUtilidadesPeriodoTO.utiHasta,"YYYY-MM-DD"),this.fechaMaximaPago=this.utilService.fomatearFechaString(this.rhUtilidadesPeriodoTO.utiFechaMaximaPago,"YYYY-MM-DD"),this.inicializarFormulario()},e.prototype.inicializarFormulario=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmPeriodosUtilidad?e.frmPeriodosUtilidad.value:null))},50)},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmPeriodosUtilidad)},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.periodoUtilidadService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a,inputEstado:be.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarFila(0)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},Vt([Object(a.ViewChild)("frmPeriodosUtilidad"),Xt("design:type",ie.NgForm)],e.prototype,"frmPeriodosUtilidad",void 0),Vt([Object(a.ViewChild)("menuOpciones"),Xt("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Vt([Object(a.HostListener)("window:beforeunload",["$event"]),Xt("design:type",Function),Xt("design:paramtypes",[Event]),Xt("design:returntype",void 0)],e.prototype,"unloadHandler",null),Vt([Object(a.HostListener)("window:resize",["$event"]),Xt("design:type",Function),Xt("design:paramtypes",[]),Xt("design:returntype",void 0)],e.prototype,"onResize",null),e=Vt([Object(a.Component)({selector:"app-periodo-utilidad",template:o("U/oK"),styles:[o("ZAEP")]}),Xt("design:paramtypes",[i.a,g.ActivatedRoute,x.a,r.b,A.HotkeysService,n.a,c.a,v.a,kt])],e)}(),Ht=o("jeDP"),Wt=function(){function e(e){this.id=0,this.xiiiCategoria="",this.xiiiSector="",this.xiiiId="",this.xiiiNombres="",this.xiiiApellidos="",this.xiiiGenero="",this.xiiiFechaIngreso="",this.xiiiCargo="",this.xiiiCargoIess="",this.xiiiTotalIngresos=0,this.xiiiDiasLaborados=0,this.xiiiValorXiiiSueldo=0,this.xiiiFormaPago="",this.xiiiDocumento="",this.xiiiCodigoMinisterial="",this.xiiiPeriodo="",this.xiiiTipo="",this.xiiiNumero="",this.xiiiObservaciones="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.xiiiCategoria=e.xiiiCategoria?e.xiiiCategoria:this.xiiiCategoria,this.xiiiSector=e.xiiiSector?e.xiiiSector:this.xiiiSector,this.xiiiId=e.xiiiId?e.xiiiId:this.xiiiId,this.xiiiNombres=e.xiiiNombres?e.xiiiNombres:this.xiiiNombres,this.xiiiApellidos=e.xiiiApellidos?e.xiiiApellidos:this.xiiiApellidos,this.xiiiGenero=e.xiiiGenero?e.xiiiGenero:this.xiiiGenero,this.xiiiFechaIngreso=e.xiiiFechaIngreso?e.xiiiFechaIngreso:this.xiiiFechaIngreso,this.xiiiCargo=e.xiiiCargo?e.xiiiCargo:this.xiiiCargo,this.xiiiCargoIess=e.xiiiCargoIess?e.xiiiCargoIess:this.xiiiCargoIess,this.xiiiTotalIngresos=e.xiiiTotalIngresos?e.xiiiTotalIngresos:this.xiiiTotalIngresos,this.xiiiDiasLaborados=e.xiiiDiasLaborados?e.xiiiDiasLaborados:this.xiiiDiasLaborados,this.xiiiValorXiiiSueldo=e.xiiiValorXiiiSueldo?e.xiiiValorXiiiSueldo:this.xiiiValorXiiiSueldo,this.xiiiDiasLaborados=e.xiiiDiasLaborados?e.xiiiDiasLaborados:this.xiiiDiasLaborados,this.xiiiFormaPago=e.xiiiFormaPago?e.xiiiFormaPago:this.xiiiFormaPago,this.xiiiDocumento=e.xiiiCodigoMinisterial?e.xiiiDocumento:this.xiiiDocumento,this.xiiiCodigoMinisterial=e.xiiiCodigoMinisterial?e.xiiiCodigoMinisterial:this.xiiiCodigoMinisterial,this.xiiiPeriodo=e.xiiiPeriodo?e.xiiiPeriodo:this.xiiiPeriodo,this.xiiiTipo=e.xiiiTipo?e.xiiiTipo:this.xiiiTipo,this.xiiiNumero=e.xiiiNumero?e.xiiiNumero:this.xiiiNumero,this.xiiiObservaciones=e.xiiiObservaciones?e.xiiiObservaciones:this.xiiiObservaciones},e}(),Yt=o("Ip0R"),Kt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},zt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qt=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhFunConsultarXiiiSueld=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhFunConsultarXiiiSueldo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhFunConsultarXiiiSueld(e.extraInfo):(t.despuesDeListarRhFunConsultarXiiiSueld([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(e){return[{headerName:"",field:"",headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0,width:70,minWidth:70},{headerName:s.a.TAG_CATEGORIA,field:"xiiiCategoria",width:150,minWidth:150},{headerName:s.a.TAG_SECTOR,field:"xiiiSector",width:100,minWidth:100,hide:e.sectorSeleccionado},{headerName:s.a.TAG_NUMERO_IDENTIFICACION,field:"xiiiId",width:200,minWidth:200},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,field:"xiiiApellidos",width:200,minWidth:200,valueGetter:function(e){return e.data.xiiiApellidos+" "+e.data.xiiiNombres}},{headerName:s.a.TAG_GENERO,field:"xiiiGenero",width:80,minWidth:80},{headerName:s.a.TAG_FECHA_INGRESO,field:"xiiiFechaIngreso",width:120,minWidth:120},{headerName:s.a.TAG_CARGO,field:"xiiiCargo",width:200,minWidth:200},{headerName:s.a.TAG_TOTAL_INGRESO,field:"xiiiTotalIngresos",width:200,minWidth:200,valueFormatter:this.formatearA2Decimales,cellClass:"text-right"},{headerName:s.a.TAG_DIAS_LABORADOS,field:"xiiiDiasLaborados",width:200,minWidth:200,cellClass:"text-right"},{headerName:s.a.TAG_V_XIII_SUELDO,field:"xiiiValorXiiiSueldo",width:200,minWidth:200,valueFormatter:this.formatearA2Decimales,cellClass:"text-right",headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_VALOR_XIII_SUELDO,text:s.a.TAG_V_XIII_SUELDO}},{headerName:s.a.TAG_C_MINISTERIAL,field:"xiiiCodigoMinisterial",width:130,minWidth:130,headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_CODIGO_MINISTERIAL,text:s.a.TAG_C_MINISTERIAL}},{headerName:s.a.TAG_CONTABLE,field:"xiiiNumero",width:200,minWidth:200,valueGetter:function(e){return e.data.xiiiPeriodo+"|"+e.data.xiiiTipo+"|"+e.data.xiiiNumero}},this.utilService.getColumnaOpciones()]},e.prototype.formatearA2Decimales=function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},e=Kt([Object(a.Injectable)({providedIn:"root"}),zt("design:paramtypes",[i.a,r.b,n.a])],e)}(),$t=o("/TJv"),Qt=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Zt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},eo=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.toastr=t,this.atajoService=o,this.filasService=a,this.archivoService=i,this.utilService=r,this.periodoXiiiService=n,this.sectorService=c,this.xiiiSueldoListadoService=l,this.listaEmpresas=[],this.listaResultado=[],this.listaPeriodos=[],this.listaSectores=[],this.sectorSeleccionado=new P.a,this.periodoSeleccionado=new Ft.a,this.empresaSeleccionada=new M.a,this.xiiiSueldoSeleccionado=new Wt,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listaEmpresas=this.route.snapshot.data.xiiiSueldoListado,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtgajosTeclado()}return e.prototype.ngOnInit=function(){},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.periodoSeleccionado=null,this.listarSectores(),this.listarPeriodos(),this.limpiarResultado()},e.prototype.generarAtgajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarXiiiSueldo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarXiiiSueldo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarXiiiSueldo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirXiiiSueldo");return e&&e.click(),!1}))},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this);this.opciones=[{label:s.a.ACCION_CONSULTAR_CONTABLE,icon:s.a.ICON_CONSULTAR,command:function(){return e.verContable()}},{label:s.a.LABEL_IMPRIMIR_CONTABLE,icon:s.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirContable():null}},{label:s.a.LABEL_IMPRIMIR_COMPROBANTE,icon:s.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirComprobanteXiiiSueldo():null}}]},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.limpiarResultado(),this.listaPeriodos=[],this.cargando=!0,this.periodoXiiiService.listaRhXiiiSueldoPeriodoTO({},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXiiiSueldoPeriodoTO=function(e){var t=this;this.listaPeriodos=e,this.listaPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.periodoSecuencial?this.listaPeriodos.find(function(e){return e.periodoSecuencial===t.periodoSeleccionado.periodoSecuencial}):this.listaPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas(0,0)},e.prototype.buscarXiiiSueldo=function(e){this.cargando=!0,this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.filasTiempo.iniciarContador();var o={empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,desde:this.periodoSeleccionado?this.periodoSeleccionado.xiiiDesde:null,hasta:this.periodoSeleccionado?this.periodoSeleccionado.xiiiHasta:null};this.xiiiSueldoListadoService.listaRhFunConsultarXiiiSueld(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarRhFunConsultarXiiiSueld=function(e){this.listaResultado=e,this.cargando=!1,this.filasTiempo.finalizarContador(),this.iniciarAgGrid()},e.prototype.imprimirXiiiSueldo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",periodo:this.periodoSeleccionado?this.periodoSeleccionado.xiiiDescripcion:"",fechaDesde:this.periodoSeleccionado?this.periodoSeleccionado.xiiiDesde:"",fechaHasta:this.periodoSeleccionado?this.periodoSeleccionado.xiiiHasta:"",fechaMaxima:this.periodoSeleccionado?this.periodoSeleccionado.xiiiFechaMaximaPago:"",rhFunXiiiSueldoConsultarTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteXiiiSueldoConsulta",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoXiiiSueldo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarXiiiSueldo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaDesde:this.periodoSeleccionado?this.periodoSeleccionado.xiiiDesde:"",fechaHasta:this.periodoSeleccionado?this.periodoSeleccionado.xiiiHasta:"",rhFunXiiiSueldoConsultarTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteXiiiSueldoConsulta",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoXiiiSueldo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.verContable=function(){this.xiiiSueldoSeleccionado.xiiiPeriodo&&this.xiiiSueldoSeleccionado.xiiiTipo&&this.xiiiSueldoSeleccionado.xiiiNumero?(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.xiiiSueldoSeleccionado.xiiiPeriodo+" | "+this.xiiiSueldoSeleccionado.xiiiTipo+" | "+this.xiiiSueldoSeleccionado.xiiiNumero,empresaSeleccionada:this.empresaSeleccionada,activar:!1,volverACargar:!0}):this.toastr.warning(s.a.MSJ_NO_HAY_PARAMETROS_DE_BUSQUEDA,s.a.TAG_AVISO)},e.prototype.imprimirContableLote=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t=this.utilService.getAGSelectedData(this.gridApi),o=[];if(0===t.length)this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TAG_AVISO),this.cargando=!1;else{t.forEach(function(t){if(t.xiiiNumero&&t.xiiiPeriodo&&t.xiiiTipo){var a=new Ht.a;a.conEmpresa=e.empresaSeleccionada.empCodigo,a.conNumero=t.xiiiNumero,a.conPeriodo=t.xiiiPeriodo,a.conTipo=t.xiiiTipo,o.push(a)}});var a={listadoPK:o};this.generarReporteContable(a)}}},e.prototype.imprimirContable=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)&&this.xiiiSueldoSeleccionado.xiiiNumero&&this.xiiiSueldoSeleccionado.xiiiPeriodo&&this.xiiiSueldoSeleccionado.xiiiTipo){this.cargando=!0;var e=[],t=new Ht.a;t.conEmpresa=this.empresaSeleccionada.empCodigo,t.conNumero=this.xiiiSueldoSeleccionado.xiiiNumero,t.conPeriodo=this.xiiiSueldoSeleccionado.xiiiPeriodo,t.conTipo=this.xiiiSueldoSeleccionado.xiiiTipo,e.push(t);var o={listadoPK:e};this.generarReporteContable(o)}},e.prototype.generarReporteContable=function(e){var t=this;this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteContableIndividual",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("Contable.pdf",e):t.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.generarAtgajosTeclado(),this.activar=!1,this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},e.prototype.imprimirComprobanteLote=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e=this.utilService.getAGSelectedData(this.gridApi),t=[];if(0===e.length)this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TAG_AVISO),this.cargando=!1;else{e.forEach(function(e){e.xiiiNumero&&e.xiiiPeriodo&&e.xiiiTipo&&t.push(e)});var o={listaRhFunXiiiSueldoConsultarTO:t,fechaMaxima:this.periodoSeleccionado.xiiiFechaMaximaPago};this.generarComprobante(o)}}},e.prototype.imprimirComprobanteXiiiSueldo=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)&&this.xiiiSueldoSeleccionado.xiiiNumero&&this.xiiiSueldoSeleccionado.xiiiPeriodo&&this.xiiiSueldoSeleccionado.xiiiTipo){this.cargando=!0;var e=[];e.push(this.xiiiSueldoSeleccionado);var t={listaRhFunXiiiSueldoConsultarTO:e,fechaMaxima:this.periodoSeleccionado.xiiiFechaMaximaPago};this.generarComprobante(t)}},e.prototype.generarComprobante=function(e){var t=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteComprobanteXIIISueldo",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("ComprobanteXiiiSueldo.pdf",e):t.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.xiiiSueldoListadoService.generarColumnas(this),this.columnDefsSelected=this.columnDefs,this.rowSelection="multiple",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimensionarColumnas(),this.seleccionarPrimerFila()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.xiiiSueldoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.ejecutarAccion=function(e){this.xiiiSueldoSeleccionado=e,this.imprimirComprobanteXiiiSueldo()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.xiiiSueldoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},Qt([Object(a.ViewChild)("menuOpciones"),Zt("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Qt([Object(a.HostListener)("window:resize",["$event"]),Zt("design:type",Function),Zt("design:paramtypes",[]),Zt("design:returntype",void 0)],e.prototype,"onResize",null),e=Qt([Object(a.Component)({selector:"app-xiii-sueldo-listado",template:o("pxMN"),styles:[o("Bh47")]}),Zt("design:paramtypes",[g.ActivatedRoute,r.b,A.HotkeysService,x.a,c.a,n.a,Lt,O.a,qt])],e)}(),to=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},oo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ao=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhSaldoConsolidadoSueldosPorPagarTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhSaldoConsolidadoSueldosPorPagarTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhSaldoConsolidadoSueldosPorPagarTO(e.extraInfo):(t.despuesDeListarRhSaldoConsolidadoSueldosPorPagarTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_CATEGORIA,field:"scspCategoria",width:150,minWidth:150,cellClass:function(e){return e.data.scspId?"":"tr-negrita"}},{headerName:s.a.TAG_IDENTIFICACION,field:"scspId",width:200,minWidth:200,cellClass:function(e){return e.data.scspId?"":"tr-negrita"}},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,field:"scspNombres",width:200,minWidth:200,cellClass:function(e){return e.data.scspId?"":"tr-negrita"}},{headerName:s.a.TAG_VALOR,field:"scspValor",width:80,minWidth:80,valueFormatter:this.formatearA2Decimales,cellClass:function(e){return e.data.scspId?"text-right":"tr-negrita text-right"}}]},e.prototype.formatearA2Decimales=function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},e=to([Object(a.Injectable)({providedIn:"root"}),oo("design:paramtypes",[i.a,r.b,n.a])],e)}(),io=o("oVTH"),ro=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},no=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},so=function(){function e(e,t,o,a,i,r,n,c){this.route=e,this.toastr=t,this.atajoService=o,this.filasService=a,this.archivoService=i,this.utilService=r,this.sistemaService=n,this.saldoConsolidadoSueldoPagarService=c,this.listaEmpresas=[],this.listaResultado=[],this.empresaSeleccionada=new M.a,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",L.locale("es"),this.constantes=s.a,this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.saldosConsolidadosSueldosPorPagar,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtgajosTeclado(),this.obtenerFechaActual()}return e.prototype.ngOnInit=function(){},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.generarAtgajosTeclado=function(){this.atajoService.add(new f.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarSaldoConsSueldoPagar");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarSaldoConsSueldoPagar");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarSaldoConsSueldoPagar");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirSaldoConsSueldoPagar");return e&&e.click(),!1}))},e.prototype.obtenerFechaActual=function(){var e=this;this.sistemaService.getFechaActual(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaHasta=t,e.fechaActual=t}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas(0,0)},e.prototype.buscarSaldoConsSueldoPagar=function(){this.cargando=!0,this.filtroGlobal="",this.filasTiempo.iniciarContador();var e={empresa:this.empresaSeleccionada.empCodigo,fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta)};this.saldoConsolidadoSueldoPagarService.listaRhSaldoConsolidadoSueldosPorPagarTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhSaldoConsolidadoSueldosPorPagarTO=function(e){this.listaResultado=e,this.cargando=!1,this.filasTiempo.finalizarContador(),this.iniciarAgGrid()},e.prototype.imprimirSaldoConsSueldoPagar=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta),listaSaldoConsolidadoSueldosPorPagarTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteSaldoConsolidadoSueldosPorPagar",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoSaldoConsSueldoPagar.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarSaldoConsSueldoPagar=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta),listaSaldoConsolidadoSueldosPorPagarTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteSaldoConsolidadoSueldosPorPagar",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoSaldoConsSueldoPagar_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.saldoConsolidadoSueldoPagarService.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},ro([Object(a.HostListener)("window:resize",["$event"]),no("design:type",Function),no("design:paramtypes",[]),no("design:returntype",void 0)],e.prototype,"onResize",null),e=ro([Object(a.Component)({selector:"app-saldo-consolidado-sueldo-pagar",template:o("Js1r"),styles:[o("9I6t")]}),no("design:paramtypes",[g.ActivatedRoute,r.b,io.HotkeysService,x.a,c.a,n.a,v.a,ao])],e)}(),co=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},lo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},po=function(){function e(e,t,o){this.api=e,this.utilService=t,this.toastr=o}return e.prototype.listarConsolidadoIngresosTabulado=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getConsolidadoIngresosTabulado",e,o).then(function(e){if(e&&e.extraInfo){var o=a.utilService.convertirMatrizEnLista(e.extraInfo.datos),i={columnas:e.extraInfo.columnas,listado:o,datos:e.extraInfo.datos,columnasFaltantes:e.extraInfo.columnas};t.despuesDeListarConsolidadoIngresosTabulado(i)}else a.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarConsolidadoIngresosTabulado(null),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.convertirCabeceraObjetoConEstilo=function(e){var t=[],o=0;return e.forEach(function(e){var a={headerName:null,width:null,field:null,cellClass:null,valueFormatter:null,pinned:null,minWidth:null};a.headerName=e,a.field=o+"",a.width="Nombres"===e?300:150,a.minWidth="Nombres"===e?300:150,a.pinned="Nombres"===e||"C\xe9dula"===e||"Fecha Ingreso"===e||"Fecha Salida"===e?"left":null,a.cellClass=function(t){var o="Nombres"===e||"C\xe9dula"===e||"Fecha Ingreso"===e||"Fecha Salida"===e?"text-left ":"text-right ";return t.data[0]||(o+=" tr-negrita"),o},a.valueFormatter="Nombres"===e||"C\xe9dula"===e||"Fecha Ingreso"===e||"Fecha Salida"===e?null:mo,t.push(a),o+=1}),t},e=co([Object(a.Injectable)({providedIn:"root"}),lo("design:paramtypes",[i.a,n.a,r.b])],e)}();function mo(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}var uo=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ho=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vo=function(){function e(e,t,o,a,i,r,n,c,l,d){this.route=e,this.toastr=t,this.atajoService=o,this.filasService=a,this.utilService=i,this.archivoService=r,this.sectorService=n,this.auth=c,this.sistemaService=l,this.consolidadoIngresosTabuladosService=d,this.listaSectores=[],this.listaEmpresas=[],this.listaResultado=[],this.sectorSeleccionado=new P.a,this.constantes=s.a,this.es={},this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.columnasFaltantes=[],this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate()}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.consolidadoIngresosTabulado,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new f.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarConsolidadoIngresosTabulado");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarConsolidadoIngresosTabulado");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarConsolidadoIngresosTabulado");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.obtenerFechaInicioFinMes(),this.limpiarResultado(),this.listarSectores()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.datos=[],this.gridApi=null,this.gridColumnApi=null,this.listaResultado=[],this.filasTiempo.resetearContador(),this.actualizarFilas()},e.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.buscarConsolidadoIngresosTabulado=function(e){if(this.cargando=!0,this.utilService.establecerFormularioTocado(e)&&e&&e.valid){this.limpiarResultado();var t={usuario:this.auth.getCodigoUser(),fechaInicio:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaFin:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),empresa:this.empresaSeleccionada.empCodigo,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:""};this.cargando=!0,this.filasTiempo.iniciarContador(),this.consolidadoIngresosTabuladosService.listarConsolidadoIngresosTabulado(t,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarConsolidadoIngresosTabulado=function(e){this.filasTiempo.finalizarContador(),this.datos=e?e.datos:[],this.columnasFaltantes=e?e.columnasFaltantes:[],e&&(this.columnDefs=this.consolidadoIngresosTabuladosService.convertirCabeceraObjetoConEstilo(e.columnas?e.columnas:[]),this.listaResultado=e?e.listado:[],this.iniciarAgGrid()),this.cargando=!1},e.prototype.exportarConsolidadoIngresosTabulado=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={datos:this.datos,columnas:this.columnasFaltantes,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:""};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteConsolidadoIngresosTabulado",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListaConsolidadoIngresosTabulado_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimensionarColumnas(),this.seleccionarPrimerFila()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},uo([Object(a.HostListener)("window:resize",["$event"]),ho("design:type",Function),ho("design:paramtypes",[]),ho("design:returntype",void 0)],e.prototype,"onResize",null),e=uo([Object(a.Component)({selector:"app-consolidado-ingresos-tabulados",template:o("7+Qx"),styles:[o("HzP7")]}),ho("design:paramtypes",[g.ActivatedRoute,r.b,A.HotkeysService,x.a,n.a,c.a,O.a,Ee.a,v.a,po])],e)}(),fo=o("m/aa"),Ao=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},go=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bo=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhConsolidadoRolesTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhConsolidadoRolesTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhConsolidadoRolesTO(e.extraInfo):(t.despuesDeListarRhConsolidadoRolesTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_IDENTIFICACION,field:"crpId",width:170,minWidth:150,cellClass:function(e){return e.data.crpId?"":"tr-negrita"}},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,field:"crpNombres",width:300,minWidth:300,cellClass:function(e){return e.data.crpId?"":"tr-negrita"}},{headerName:s.a.TAG_DL,field:"crpDl",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_DIAS_LABORADOS,text:s.a.TAG_DL}},{headerName:s.a.TAG_DF,field:"crpDf",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_DIAS_FALTA,text:s.a.TAG_DF}},{headerName:s.a.TAG_DE,field:"crpDe",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_DIAS_EXTRAS,text:s.a.TAG_DE}},{headerName:s.a.TAG_DD,field:"crpDd",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_DESCANSO_MEDICO,text:s.a.TAG_DD}},{headerName:s.a.TAG_DP,field:"crpDp",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_DIAS_PAGADOS,text:s.a.TAG_DP}},{headerName:s.a.TAG_SUELDO,field:"crpSueldo",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_HORAS_EXTRAS_50,field:"crpHorasExtras",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_HORAS_EXTRAS_100,field:"crpHorasExtras100",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_BONOS,field:"crpBonos",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_BONOS_ND,field:"crpBonosnd",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_BONOS_NO_DEDUCIBLE,text:s.a.TAG_BONOS_ND}},{headerName:s.a.TAG_BONOS_FIJO,field:"crpBonoFijo",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_BONOS_FIJO_ND,field:"crpBonoFijoNd",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_BONOS_FIJO_NO_DEDUCIBLE,text:s.a.TAG_BONOS_FIJO_ND}},{headerName:s.a.TAG_OTROS_INGRESOS,field:"crpOtrosIngresos",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_FONDO_RESERVA,field:"crpFondoReserva",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_LIQUIDACION,field:"crpLiquidacion",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_INGRESOS,field:"crpIngresos",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_ANTICIPOS,field:"crpAnticipos",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_PRESTAMOS,field:"crpPrestamos",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_IESS,field:"crpIess",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_IESS_EXTENSION,field:"crpIessExtension",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_P_QUIROGRAFARIOS,field:"crpPrestamoQuirografario",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_PRESTAMOS_QUIROGRAFARIOS,text:s.a.TAG_P_QUIROGRAFARIOS}},{headerName:s.a.TAG_P_HIPOTECARIOS,field:"crpPrestamoHipotecario",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_PRESTAMOS_HIPOTECARIOS,text:s.a.TAG_P_HIPOTECARIOS}},{headerName:s.a.TAG_RETENCION,field:"crpRetencion",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_D_FONDO_RESERVA,field:"crpDescuentosFondoReserva",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_DESCUENTO_FONDO_RESERVA,text:s.a.TAG_D_FONDO_RESERVA}},{headerName:s.a.TAG_DESCUENTOS,field:"crpDescuentos",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_TOTAL,field:"crpTotal",width:150,minWidth:150,valueFormatter:So,cellClass:function(e){return e.data.crpId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.crpId?{icono:s.a.ICON_CONSULTAR,tooltip:s.a.MSJ_CONSULTAR_ROL_PAGO,accion:s.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:""}}]},e=Ao([Object(a.Injectable)({providedIn:"root"}),go("design:paramtypes",[i.a,r.b,n.a])],e)}();function So(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Co=function(){function e(e){this.id=null,this.crpCategoria=null,this.crpId=null,this.crpNombres=null,this.crpDl=0,this.crpDf=0,this.crpDe=0,this.crpDd=0,this.crpDp=0,this.crpSueldo=0,this.crpHorasExtras=0,this.crpHorasExtras100=0,this.crpBonos=0,this.crpBonosnd=0,this.crpBonoFijo=0,this.crpBonoFijoNd=0,this.crpOtrosIngresos=0,this.crpOtrosIngresosNd=0,this.crpSubtotalBonos=0,this.crpSubtotalIngresos=0,this.crpFondoReserva=0,this.crpLiquidacion=0,this.crpIngresos=0,this.crpAnticipos=0,this.crpPrestamos=0,this.crpIess=0,this.crpIessExtension=0,this.crpPrestamoQuirografario=0,this.crpPrestamoHipotecario=0,this.crpRetencion=0,this.crpPermisoMedico=0,this.crpDescuentosFondoReserva=0,this.crpDescuentos=0,this.crpTotal=0,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.crpCategoria=e.crpCategoria?e.crpCategoria:this.crpCategoria,this.crpId=e.crpId?e.crpId:this.crpId,this.crpNombres=e.crpNombres?e.crpNombres:this.crpNombres,this.crpDl=e.crpDl?e.crpDl:this.crpDl,this.crpDf=e.crpDf?e.crpDf:this.crpDf,this.crpDe=e.crpDe?e.crpDe:this.crpDe,this.crpDd=e.crpDd?e.crpDd:this.crpDd,this.crpSueldo=e.crpSueldo?e.crpSueldo:this.crpSueldo,this.crpHorasExtras=e.crpHorasExtras?e.crpHorasExtras:this.crpHorasExtras,this.crpHorasExtras100=e.crpHorasExtras100?e.crpHorasExtras100:this.crpHorasExtras100,this.crpBonos=e.crpBonos?e.crpBonos:this.crpBonos,this.crpBonosnd=e.crpBonosnd?e.crpBonosnd:this.crpBonosnd,this.crpBonoFijo=e.crpBonoFijo?e.crpBonoFijo:this.crpBonoFijo,this.crpBonoFijoNd=e.crpBonoFijoNd?e.crpBonoFijoNd:this.crpBonoFijoNd,this.crpOtrosIngresos=e.crpOtrosIngresos?e.crpOtrosIngresos:this.crpOtrosIngresos,this.crpOtrosIngresosNd=e.crpOtrosIngresosNd?e.crpOtrosIngresosNd:this.crpOtrosIngresosNd,this.crpSubtotalBonos=e.crpSubtotalBonos?e.crpSubtotalBonos:this.crpSubtotalBonos,this.crpSubtotalIngresos=e.crpSubtotalIngresos?e.crpSubtotalIngresos:this.crpSubtotalIngresos,this.crpFondoReserva=e.crpFondoReserva?e.crpFondoReserva:this.crpFondoReserva,this.crpLiquidacion=e.crpLiquidacion?e.crpLiquidacion:this.crpLiquidacion,this.crpIngresos=e.crpIngresos?e.crpIngresos:this.crpIngresos,this.crpAnticipos=e.crpAnticipos?e.crpAnticipos:this.crpAnticipos,this.crpPrestamos=e.crpPrestamos?e.crpPrestamos:this.crpPrestamos,this.crpIess=e.crpIess?e.crpIess:this.crpIess,this.crpIessExtension=e.crpIessExtension?e.crpIessExtension:this.crpIessExtension,this.crpPrestamoQuirografario=e.crpPrestamoQuirografario?e.crpPrestamoQuirografario:this.crpPrestamoQuirografario,this.crpPrestamoHipotecario=e.crpPrestamoHipotecario?e.crpPrestamoHipotecario:this.crpPrestamoHipotecario,this.crpRetencion=e.crpRetencion?e.crpRetencion:this.crpRetencion,this.crpPermisoMedico=e.crpPermisoMedico?e.crpPermisoMedico:this.crpPermisoMedico,this.crpDescuentosFondoReserva=e.crpDescuentosFondoReserva?e.crpDescuentosFondoReserva:this.crpDescuentosFondoReserva,this.crpDescuentos=e.crpDescuentos?e.crpDescuentos:this.crpDescuentos,this.crpTotal=e.crpTotal?e.crpTotal:this.crpTotal},e}(),Io=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ro=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Oo=function(){function e(e,t,o,a,i,r,n,c,l,d,p,m){this.route=e,this.toastr=t,this.atajoService=o,this.filasService=a,this.utilService=i,this.archivoService=r,this.sectorService=n,this.auth=c,this.sistemaService=l,this.modalService=d,this.categoriaService=p,this.consolidadoRolPagosService=m,this.listaEmpresas=[],this.listaSectores=[],this.listaCategorias=[],this.listaResultado=[],this.sectorSeleccionado=new P.a,this.empresaSeleccionada=new M.a,this.objetoSeleccionado=new Co,this.categoriaSeleccionada=new N,this.es={},this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.mostrarFormularioRolPago=!1,this.objetoRolPago=null,this.codigoEmpleado=null,this.empleado=new $.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate()}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.consolidadoRol,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.obtenerFechaInicioFinMes()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new f.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarConsolidadoRolPagos");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarConsolidadoRolPagos");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirConsolidadoRolPagos");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarConsolidadoRolPagos");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.categoriaSeleccionada=null,this.codigoEmpleado=null,this.validarEmpleado(),this.limpiarResultado(),this.listarSectores(),this.listarCategoria()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.gridApi=null,this.gridColumnApi=null,this.listaResultado=[],this.filasTiempo.resetearContador(),this.actualizarFilas()},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarCategoria=function(){this.limpiarResultado(),this.listaCategorias=[],this.cargando=!0,this.categoriaService.listarComboRhCategoriaTO({empresa:s.a.KEY_EMPRESA_SELECT},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboRhCategoriaTO=function(e){var t=this;this.listaCategorias=e,this.listaCategorias.length>0?this.categoriaSeleccionada=this.categoriaSeleccionada&&this.categoriaSeleccionada.catNombre?this.listaCategorias.find(function(e){return e.catNombre===t.categoriaSeleccionada.catNombre}):null:this.categoriaSeleccionada=null,this.cargando=!1},e.prototype.buscarConsolidadoRolPagos=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.cargando=!0,this.filasTiempo.iniciarContador();var o={empresa:this.empresaSeleccionada.empCodigo,empId:this.codigoEmpleado,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,empCategoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.consolidadoRolPagosService.listaRhConsolidadoRolesTO(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarRhConsolidadoRolesTO=function(e){this.listaResultado=e,this.filasTiempo.finalizarContador(),this.cargando=!1,this.iniciarAgGrid()},e.prototype.imprimirConsolidadoRolPagos=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={nombreEmpleado:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),empCategoria:this.categoriaSeleccionada.catNombre,listaConsolidadoRolesTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteConsolidadoRoles",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoConsolidadoRolPagoss.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarConsolidadoRolPagos=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={nombreEmpleado:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),empCategoria:this.categoriaSeleccionada.catNombre,listaConsolidadoRolesTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteConsolidadoRoles",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoConsolidadoRolPagoss_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.buscarEmpleado=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.empleado.rhEmpleadoPK.empId===this.codigoEmpleado&&this.empleado.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.empleado.rhEmpleadoPK.empId=""===this.empleado.rhEmpleadoPK.empId?null:this.empleado.rhEmpleadoPK.empId,this.empleado.rhEmpleadoPK.empId=this.empleado.rhEmpleadoPK.empId?this.empleado.rhEmpleadoPK.empId.toUpperCase():null,this.empleado.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.empleado.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null,t.empleado.rhEmpleadoPK.empId=e?e.rhEmpleadoPK.empId:null,t.empleado.empNombres=e?e.empApellidos+" "+e.empNombres:null,document.getElementById("empleado").focus(),t.filasService.actualizarFilas("0","0")},function(e){var o=document.getElementById("empleado");o&&o.focus(),t.filasService.actualizarFilas("0","0")})}},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.empleado.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.empleado.empNombres=null,this.empleado.rhEmpleadoPK.empId=null,this.limpiarResultado())},e.prototype.consultarRolPago=function(){if(this.objetoSeleccionado&&this.objetoSeleccionado.crpId){var e=new $.a;e.rhEmpleadoPK.empId=this.objetoSeleccionado.crpId,e.empNombres=this.objetoSeleccionado?this.objetoSeleccionado.crpNombres:"",this.objetoRolPago={fechaDesde:this.fechaInicio,fechaHasta:this.fechaFin,empleado:e,sectorSeleccionado:this.sectorSeleccionado,categoriaSeleccionada:this.categoriaSeleccionada,empresaSeleccionada:this.empresaSeleccionada},this.mostrarFormularioRolPago=!0}},e.prototype.cerrarRolPago=function(){this.objetoRolPago=null,this.mostrarFormularioRolPago=!1,this.generarAtajosTeclado()},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.consolidadoRolPagosService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a,inputEstado:be.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.ejecutarAccion=function(e){this.objetoSeleccionado=e,this.consultarRolPago()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this);this.opciones=[{label:s.a.MSJ_CONSULTAR_ROL_PAGO,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarRolPago():null}}]},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},Io([Object(a.ViewChild)("menuOpciones"),Ro("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Io([Object(a.HostListener)("window:resize",["$event"]),Ro("design:type",Function),Ro("design:paramtypes",[]),Ro("design:returntype",void 0)],e.prototype,"onResize",null),e=Io([Object(a.Component)({selector:"app-consolidado-rol-pagos",template:o("1GlB"),styles:[o("qhqP")]}),Ro("design:paramtypes",[g.ActivatedRoute,r.b,A.HotkeysService,x.a,n.a,c.a,O.a,Ee.a,v.a,re.b,I,bo])],e)}(),Eo=function(){function e(e){this.id=0,this.lrpId=null,this.lrpNombres=null,this.lrpCargo=null,this.lrpDesde=null,this.lrpHasta=null,this.lrpSueldo=0,this.lrpDl=0,this.lrpDf=0,this.lrpDe=0,this.lrpDd=0,this.lrpDpm=0,this.lrpDp=0,this.lrpSaldo=0,this.lrpIngresos=0,this.lrplrpHorasExtras=0,this.lrpHorasExtras100=0,this.lrpBonos=0,this.lrpBonosnd=0,this.lrpBonosFijo=0,this.lrpBonosFijoNd=0,this.lrpOtrosIngresos=0,this.lrpOtrosIngresosNd=0,this.lrpXiiiSueldo=0,this.lrpXivSueldo=0,this.lrpFondoReserva=0,this.lrpAcumulaFondoReserva=0,this.lrpLiquidacionXiii=0,this.lrpLiquidacionXiv=0,this.lrpLiquidacionVacaciones=0,this.lrpLiquidacionSalarioDigno=0,this.lrpLiquidacionDesahucio=0,this.lrpLiquidacionDesahucioIntempestivo=0,this.lrpLiquidacionBonificacion=0,this.lrpLiquidacion=0,this.lrpTotalIngresos=0,this.lrpAnticipos=0,this.lrpPrestamos=0,this.lrpIess=0,this.lrpIessExtension=0,this.lrpPrestamoQuirografario=0,this.lrpPrestamoHipotecario=0,this.lrpRetencion=0,this.lrpDescuentoPermisoMedico=0,this.lrpDescuentos=0,this.lrpTotal=0,this.lrpPendiente=!1,this.lrpReversado=!1,this.lrpAnulado=!1,this.lrpFormaPago=null,this.lrpDocumento=null,this.lrpContable=null,this.lrpObservaciones=null,this.nacionalidad=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.lrpId=e.lrpId?e.lrpId:this.lrpId,this.lrpNombres=e.lrpNombres?e.lrpNombres:this.lrpNombres,this.lrpCargo=e.lrpCargo?e.lrpCargo:this.lrpCargo,this.lrpDesde=e.lrpDesde?e.lrpDesde:this.lrpDesde,this.lrpHasta=e.lrpHasta?e.lrpHasta:this.lrpHasta,this.lrpSueldo=e.lrpSueldo?e.lrpSueldo:this.lrpSueldo,this.lrpDl=e.lrpDl?e.lrpDl:this.lrpDl,this.lrpDf=e.lrpDf?e.lrpDf:this.lrpDf,this.lrpDe=e.lrpDe?e.lrpDe:this.lrpDe,this.lrpDd=e.lrpDd?e.lrpDd:this.lrpDd,this.lrpDpm=e.lrpDpm?e.lrpDpm:this.lrpDpm,this.lrpDp=e.lrpDp?e.lrpDp:this.lrpDp,this.lrpSaldo=e.lrpSaldo?e.lrpSaldo:this.lrpSaldo,this.lrpIngresos=e.lrpIngresos?e.lrpIngresos:this.lrpIngresos,this.lrplrpHorasExtras=e.lrplrpHorasExtras?e.lrplrpHorasExtras:this.lrplrpHorasExtras,this.lrpHorasExtras100=e.lrpHorasExtras100?e.lrpHorasExtras100:this.lrpHorasExtras100,this.lrpBonos=e.lrpBonos?e.lrpBonos:this.lrpBonos,this.lrpBonosnd=e.lrpBonosnd?e.lrpBonosnd:this.lrpBonosnd,this.lrpBonosFijo=e.lrpBonosFijo?e.lrpBonosFijo:this.lrpBonosFijo,this.lrpBonosFijoNd=e.lrpBonosFijoNd?e.lrpBonosFijoNd:this.lrpBonosFijoNd,this.lrpOtrosIngresos=e.lrpOtrosIngresos?e.lrpOtrosIngresos:this.lrpOtrosIngresos,this.lrpOtrosIngresosNd=e.lrpOtrosIngresosNd?e.lrpOtrosIngresosNd:this.lrpOtrosIngresosNd,this.lrpXiiiSueldo=e.lrpXiiiSueldo?e.lrpXiiiSueldo:this.lrpXiiiSueldo,this.lrpXivSueldo=e.lrpXivSueldo?e.lrpXivSueldo:this.lrpXivSueldo,this.lrpFondoReserva=e.lrpFondoReserva?e.lrpFondoReserva:this.lrpFondoReserva,this.lrpAcumulaFondoReserva=e.lrpAcumulaFondoReserva?e.lrpAcumulaFondoReserva:this.lrpAcumulaFondoReserva,this.lrpLiquidacionXiii=e.lrpLiquidacionXiii?e.lrpLiquidacionXiii:this.lrpLiquidacionXiii,this.lrpLiquidacionXiv=e.lrpLiquidacionXiv?e.lrpLiquidacionXiv:this.lrpLiquidacionXiv,this.lrpLiquidacionVacaciones=e.lrpLiquidacionVacaciones?e.lrpLiquidacionVacaciones:this.lrpLiquidacionVacaciones,this.lrpLiquidacionSalarioDigno=e.lrpLiquidacionSalarioDigno?e.lrpLiquidacionSalarioDigno:this.lrpLiquidacionSalarioDigno,this.lrpLiquidacionDesahucio=e.lrpLiquidacionDesahucio?e.lrpLiquidacionDesahucio:this.lrpLiquidacionDesahucio,this.lrpLiquidacionDesahucioIntempestivo=e.lrpLiquidacionDesahucioIntempestivo?e.lrpLiquidacionDesahucioIntempestivo:this.lrpLiquidacionDesahucioIntempestivo,this.lrpLiquidacionBonificacion=e.lrpLiquidacionBonificacion?e.lrpLiquidacionBonificacion:this.lrpLiquidacionBonificacion,this.lrpLiquidacion=e.lrpLiquidacion?e.lrpLiquidacion:this.lrpLiquidacion,this.lrpTotalIngresos=e.lrpTotalIngresos?e.lrpTotalIngresos:this.lrpTotalIngresos,this.lrpAnticipos=e.lrpAnticipos?e.lrpAnticipos:this.lrpAnticipos,this.lrpPrestamos=e.lrpPrestamos?e.lrpPrestamos:this.lrpPrestamos,this.lrpIess=e.lrpIess?e.lrpIess:this.lrpIess,this.lrpIessExtension=e.lrpIessExtension?e.lrpIessExtension:this.lrpIessExtension,this.lrpPrestamoQuirografario=e.lrpPrestamoQuirografario?e.lrpPrestamoQuirografario:this.lrpPrestamoQuirografario,this.lrpPrestamoHipotecario=e.lrpPrestamoHipotecario?e.lrpPrestamoHipotecario:this.lrpPrestamoHipotecario,this.lrpRetencion=e.lrpRetencion?e.lrpRetencion:this.lrpRetencion,this.lrpDescuentoPermisoMedico=e.lrpDescuentoPermisoMedico?e.lrpDescuentoPermisoMedico:this.lrpDescuentoPermisoMedico,this.lrpDescuentos=e.lrpDescuentos?e.lrpDescuentos:this.lrpDescuentos,this.lrpTotal=e.lrpTotal?e.lrpTotal:this.lrpTotal,this.lrpPendiente=e.lrpPendiente?e.lrpPendiente:this.lrpPendiente,this.lrpReversado=e.lrpReversado?e.lrpReversado:this.lrpReversado,this.lrpAnulado=e.lrpAnulado?e.lrpAnulado:this.lrpAnulado,this.lrpFormaPago=e.lrpFormaPago?e.lrpFormaPago:this.lrpFormaPago,this.lrpDocumento=e.lrpDocumento?e.lrpDocumento:this.lrpDocumento,this.lrpContable=e.lrpContable?e.lrpContable:this.lrpContable,this.lrpObservaciones=e.lrpObservaciones?e.lrpObservaciones:this.lrpObservaciones,this.nacionalidad=e.nacionalidad?e.nacionalidad:this.nacionalidad},e}(),To=o("P7IR"),_o=o("FYXy"),yo=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Po=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mo=function(){function e(e,t,o,i,r,n,c,l,d,p,m){this.route=e,this.toastr=t,this.atajoService=o,this.filasService=i,this.utilService=r,this.archivoService=n,this.sectorService=c,this.sistemaService=l,this.modalService=d,this.categoriaService=p,this.rolPagosService=m,this.listaEmpresas=[],this.listaSectores=[],this.listaCategorias=[],this.listaResultadoRolPago=[],this.sectorSeleccionado=new P.a,this.empresaSeleccionada=new M.a,this.rolPagoSeleccionado=new Eo,this.categoriaSeleccionada=new N,this.es={},this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.codigoEmpleado=null,this.empleado=new $.a,this.cerrarRolPago=new a.EventEmitter,this.objetoContableEnviar=null,this.mostrarContabilidaAcciones=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.visualizarSoloFechas=!1,this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate()}return e.prototype.ngOnInit=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,this.objetoRolPagoDesdeFuera?this.setearValoresRolPagoDesdeFuera():(this.listaEmpresas=this.route.snapshot.data.rolListado,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.obtenerFechaInicioFinMes()),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarRolPagos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarRolPagos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirRolPagos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarRolPagos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){return e.objetoRolPagoDesdeFuera&&e.regresar(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.categoriaSeleccionada=null,this.codigoEmpleado=null,this.validarEmpleado(),this.limpiarResultado(),this.listarSectores(),this.listarCategoria()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.gridApi=null,this.gridColumnApi=null,this.listaResultadoRolPago=[],this.filasTiempo.resetearContador(),this.actualizarFilas()},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarCategoria=function(){this.listaCategorias=[],this.limpiarResultado(),this.cargando=!0,this.categoriaService.listarComboRhCategoriaTO({empresa:s.a.KEY_EMPRESA_SELECT},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboRhCategoriaTO=function(e){var t=this;this.listaCategorias=e,this.listaCategorias.length>0?this.categoriaSeleccionada=this.categoriaSeleccionada&&this.categoriaSeleccionada.catNombre?this.listaCategorias.find(function(e){return e.catNombre===t.categoriaSeleccionada.catNombre}):null:this.categoriaSeleccionada=null,this.cargando=!1},e.prototype.setearValoresRolPagoDesdeFuera=function(){this.visualizarSoloFechas=!!this.objetoRolPagoDesdeFuera.visualizarSoloFechas,this.listaEmpresas.push(this.objetoRolPagoDesdeFuera.empresaSeleccionada),this.empresaSeleccionada=this.objetoRolPagoDesdeFuera.empresaSeleccionada,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.objetoRolPagoDesdeFuera.categoriaSeleccionada&&(this.listaCategorias.push(this.objetoRolPagoDesdeFuera.categoriaSeleccionada),this.categoriaSeleccionada=this.objetoRolPagoDesdeFuera.categoriaSeleccionada),this.objetoRolPagoDesdeFuera.sectorSeleccionado&&(this.listaSectores.push(this.objetoRolPagoDesdeFuera.sectorSeleccionado),this.sectorSeleccionado=this.objetoRolPagoDesdeFuera.sectorSeleccionado),this.fechaInicio=this.objetoRolPagoDesdeFuera.fechaDesde,this.fechaFin=this.objetoRolPagoDesdeFuera.fechaHasta,this.empleado=this.objetoRolPagoDesdeFuera.empleado,this.codigoEmpleado="object"==typeof this.objetoRolPagoDesdeFuera.empleado?this.objetoRolPagoDesdeFuera.empleado.rhEmpleadoPK.empId:this.objetoRolPagoDesdeFuera.empleado,this.buscar()},e.prototype.regresar=function(){this.cerrarRolPago.emit()},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this);this.opciones=[{label:s.a.TAG_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarContable():null}},{label:s.a.TAG_COMPROBANTE_ROL,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarComprobante():null}},{label:s.a.LABEL_IMPRIMIR_CONTABLE,icon:s.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirContable():null}},{label:s.a.LABEL_IMPRIMIR_COMPROBANTE,icon:s.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirComprobante():null}}]},e.prototype.buscarRolPagos=function(e,t){this.limpiarResultado();var o=this.utilService.establecerFormularioTocado(t);t&&t.valid&&o?this.buscar(e):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.buscar=function(e){this.cargando=!0,this.filasTiempo.iniciarContador();var t={empresa:this.empresaSeleccionada.empCodigo,empId:this.codigoEmpleado,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,empCategoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),filtro:e||null};this.rolPagosService.listaRhDetalleRolesTO(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhDetalleRolesTO=function(e){this.listaResultadoRolPago=e,this.filasTiempo.finalizarContador(),this.cargando=!1,this.iniciarAgGrid()},e.prototype.imprimirRolPagos=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={nombreEmpleado:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),empCategoria:this.categoriaSeleccionada.catNombre,listaDetalleRolesTO:this.listaResultadoRolPago};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteListadoRolesPago",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoRolPagos.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRolPagos=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={nombreEmpleado:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),empCategoria:this.categoriaSeleccionada.catNombre,listaDetalleRolesTO:this.listaResultadoRolPago};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteListadoRolesPago",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRolPagos_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.consultarContable=function(){this.rolPagoSeleccionado&&this.rolPagoSeleccionado.lrpContable&&(this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.rolPagoSeleccionado.lrpContable,listadoSectores:[],tamanioEstructura:null,empresaSeleccionada:this.empresaSeleccionada,activar:this.activar,tipoContable:this.rolPagoSeleccionado.lrpContable.split("|")[1],listaPeriodos:[],volverACargar:!1},this.mostrarContabilidaAcciones=!0)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.activar=!1,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.actualizarFilas(),this.generarAtajosTeclado())},e.prototype.imprimirContableLote=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t=this.utilService.getAGSelectedData(this.gridApi),o=[];if(0===t.length)this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TAG_AVISO),this.cargando=!1;else{t.forEach(function(t){if(t.lrpContable){var a=new Ht.a;a.conEmpresa=e.empresaSeleccionada.empCodigo,a.conNumero=t.lrpContable.split("|")[2].trim(),a.conPeriodo=t.lrpContable.split("|")[0].trim(),a.conTipo=t.lrpContable.split("|")[1].trim(),o.push(a)}});var a={listadoPK:o};this.generarReporteContable(a)}}},e.prototype.imprimirContable=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)&&this.rolPagoSeleccionado.lrpContable){this.cargando=!0;var e=[],t=new Ht.a;t.conEmpresa=this.empresaSeleccionada.empCodigo,t.conNumero=this.rolPagoSeleccionado.lrpContable.split("|")[2].trim(),t.conPeriodo=this.rolPagoSeleccionado.lrpContable.split("|")[0].trim(),t.conTipo=this.rolPagoSeleccionado.lrpContable.split("|")[1].trim(),e.push(t);var o={listadoPK:e};this.generarReporteContable(o)}},e.prototype.generarReporteContable=function(e){var t=this;this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteContableIndividual",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("Contable.pdf",e):t.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})},e.prototype.consultarComprobante=function(){var e=this;if(this.rolPagoSeleccionado&&this.rolPagoSeleccionado.lrpContable){var t=new Ht.a;t.conEmpresa=this.empresaSeleccionada.empCodigo,t.conNumero=this.rolPagoSeleccionado.lrpContable.split("|")[2].trim(),t.conPeriodo=this.rolPagoSeleccionado.lrpContable.split("|")[0].trim(),t.conTipo=this.rolPagoSeleccionado.lrpContable.split("|")[1].trim();var o={empresa:this.empresaSeleccionada.empCodigo,idEmpleado:this.rolPagoSeleccionado.lrpId,conContablePK:t},a=this.modalService.open(_o.a,{size:"lg",backdrop:"static"});a.componentInstance.parametros=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.accion=s.a.ACCION_CONSULTAR,a.componentInstance.rutaImprimir="todocompuWS/rrhhWebController/imprimirComprobanteRolListado",a.result.then(function(){e.generarAtajosTeclado()},function(){e.generarAtajosTeclado()})}},e.prototype.imprimirComprobanteLote=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t=this.utilService.getAGSelectedData(this.gridApi),o=[];if(0===t.length)this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TAG_AVISO),this.cargando=!1;else{t.forEach(function(t){if(t.lrpContable){var a=new Ht.a;a.conEmpresa=e.empresaSeleccionada.empCodigo,a.conNumero=t.lrpContable.split("|")[2].trim(),a.conPeriodo=t.lrpContable.split("|")[0].trim(),a.conTipo=t.lrpContable.split("|")[1].trim(),o.push(a)}});var a={listaContablePK:o};this.generarComprobante(a)}}},e.prototype.imprimirComprobante=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)&&this.rolPagoSeleccionado.lrpContable){this.cargando=!0;var e=[],t=new Ht.a;t.conEmpresa=this.empresaSeleccionada.empCodigo,t.conNumero=this.rolPagoSeleccionado.lrpContable.split("|")[2].trim(),t.conPeriodo=this.rolPagoSeleccionado.lrpContable.split("|")[0].trim(),t.conTipo=this.rolPagoSeleccionado.lrpContable.split("|")[1].trim(),e.push(t);var o={listaContablePK:e};this.generarComprobante(o)}},e.prototype.generarComprobante=function(e){var t=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteComprobanteRolLote",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("comprobanteRol_"+t.utilService.obtenerHorayFechaActual()+".pdf",e):t.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})},e.prototype.buscarEmpleado=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.empleado.rhEmpleadoPK.empId===this.codigoEmpleado&&this.empleado.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.empleado.rhEmpleadoPK.empId=""===this.empleado.rhEmpleadoPK.empId?null:this.empleado.rhEmpleadoPK.empId,this.empleado.rhEmpleadoPK.empId=this.empleado.rhEmpleadoPK.empId?this.empleado.rhEmpleadoPK.empId.toUpperCase():null,this.empleado.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.empleado.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null,t.empleado.rhEmpleadoPK.empId=e?e.rhEmpleadoPK.empId:null,t.empleado.empNombres=e?e.empApellidos+" "+e.empNombres:null,document.getElementById("empleado").focus(),t.filasService.actualizarFilas("0","0")},function(){var e=document.getElementById("empleado");e&&e.focus(),t.filasService.actualizarFilas("0","0")})}},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.empleado.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.empleado.empNombres=null,this.empleado.rhEmpleadoPK.empId=null,this.limpiarResultado())},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.rolPagosService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="multiple",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a,inputEstado:be.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.rolPagoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.rolPagoSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},yo([Object(a.ViewChild)("menuOpciones"),Po("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),yo([Object(a.Input)(),Po("design:type",Object)],e.prototype,"objetoRolPagoDesdeFuera",void 0),yo([Object(a.Output)(),Po("design:type",Object)],e.prototype,"cerrarRolPago",void 0),yo([Object(a.HostListener)("window:resize",["$event"]),Po("design:type",Function),Po("design:paramtypes",[]),Po("design:returntype",void 0)],e.prototype,"onResize",null),e=yo([Object(a.Component)({selector:"app-rol-pagos",template:o("fyx3"),styles:[o("u3MW")]}),Po("design:paramtypes",[g.ActivatedRoute,r.b,A.HotkeysService,x.a,n.a,c.a,O.a,v.a,re.b,I,To.a])],e)}(),No=o("tc6t"),Do=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Lo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fo=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhSaldoConsolidadoAnticiposPrestamosTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhSaldoConsolidadoAnticiposPrestamosTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhSaldoConsolidadoAnticiposPrestamosTO(e.extraInfo):(t.despuesDeListarRhSaldoConsolidadoAnticiposPrestamosTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_CATEGORIA,field:"scapCategoria",width:150,minWidth:150,cellClass:function(e){return e.data.scapId?"":"tr-negrita"}},{headerName:s.a.TAG_IDENTIFICACION,field:"scapId",width:150,minWidth:150,cellClass:function(e){return e.data.scapId?"":"tr-negrita"}},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,field:"scapNombres",width:250,minWidth:250,cellClass:function(e){return e.data.scapId?"":"tr-negrita"}},{headerName:s.a.TAG_ANTICIPOS,field:"scapAnticipos",width:150,minWidth:150,valueFormatter:xo,cellClass:function(e){return e.data.scapId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_PRESTAMOS,field:"scapPrestamos",width:150,minWidth:150,valueFormatter:xo,cellClass:function(e){return e.data.scapId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_TOTAL,field:"scapTotal",width:150,minWidth:150,valueFormatter:xo,cellClass:function(e){return e.data.scapId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",cellClass:function(e){return e.data.scapId?"text-center":"d-none"},width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRendererFramework:Pe.a,headerComponentFramework:Me.a,headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:"",enableSorting:!1},pinnedRowCellRenderer:No.a}]},e=Do([Object(a.Injectable)({providedIn:"root"}),Lo("design:paramtypes",[i.a,r.b,n.a])],e)}();function xo(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}var wo=function(){function e(e){this.id=null,this.scapCategoria=null,this.scapId=null,this.scapNombres=null,this.scapAnticipos=0,this.scapPrestamos=0,this.scapTotal=0,this.scapOrden=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.scapCategoria=e.scapCategoria?e.scapCategoria:this.scapCategoria,this.scapId=e.scapId?e.scapId:this.scapId,this.scapNombres=e.scapNombres?e.scapNombres:this.scapNombres,this.scapAnticipos=e.scapAnticipos?e.scapAnticipos:this.scapAnticipos,this.scapPrestamos=e.scapPrestamos?e.scapPrestamos:this.scapPrestamos,this.scapTotal=e.scapTotal?e.scapTotal:this.scapTotal,this.scapOrden=e.scapOrden?e.scapOrden:this.scapOrden},e}(),Go=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Bo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jo=function(){function e(e,t,o,a,i,r,n,c){this.route=e,this.utilService=t,this.atajoService=o,this.sistemaService=a,this.filasService=i,this.toastr=r,this.archivoService=n,this.saldoConsolidadoAnticiposPrestamosService=c,this.listaEmpresas=[],this.listaResultadoSaldoConsAntPres=[],this.empresaSeleccionada=new M.a,this.saldoConsAntPresSeleccionado=new wo,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.es={},this.mostrarFormularioAnticipo=!1,this.mostrarFormularioPrestamo=!1,this.mostrarFormularioAnticipoPrestamo=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.saldosConsolidadosAnticiposPrestamos,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.obtenerFechaActual(),this.generarAtajosTeclado()},e.prototype.obtenerFechaActual=function(){var e=this;this.sistemaService.getFechaActual(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaFin=t}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultadoSaldoConsAntPres=[],this.filasService.actualizarFilas(0,0)},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarSaldoConsolidadoAntPres");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarSaldoConsolidadoAntPres");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirSaldoConsolidadoAntPres");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarSaldoConsolidadoAntPres");return e&&e.click(),!1}))},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this);this.opciones=[{label:s.a.RRHH_SALDO_INDIVIDUAL_ANTICIPOS,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarSaldoIndividualAnticipos():null}},{label:s.a.RRHH_SALDO_INDIVIDUAL_PRESTAMOS,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarSaldoIndividualPrestamos():null}},{label:s.a.RRHH_SALDO_INDIVIDUAL_ANTICIPOS_PRESTAMOS,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarSaldoIndividualAnticiposPrestamos():null}}]},e.prototype.buscarSaldoConsolidadoAntPress=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.cargando=!0,this.filasTiempo.iniciarContador();var o={empresa:this.empresaSeleccionada.empCodigo,fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.saldoConsolidadoAnticiposPrestamosService.listaRhSaldoConsolidadoAnticiposPrestamosTO(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarRhSaldoConsolidadoAnticiposPrestamosTO=function(e){this.listaResultadoSaldoConsAntPres=e,this.filasTiempo.finalizarContador(),this.cargando=!1,this.iniciarAgGrid()},e.prototype.imprimirSaldoConsolidadoAntPres=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),listaSaldoConsolidadoAnticiposPrestamosTO:this.listaResultadoSaldoConsAntPres};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteSaldoConsolidadoAnticiposPrestamos",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoSaldoConsolidadoAnticipoPrestamo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarSaldoConsolidadoAntPres=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),listaSaldoConsolidadoAnticiposPrestamosTO:this.listaResultadoSaldoConsAntPres};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteSaldoConsolidadoAnticiposPrestamos",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoSaldoConsolidadoAnticipoPrestamo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.consultarSaldoIndividualAnticipos=function(){if(this.saldoConsAntPresSeleccionado&&this.saldoConsAntPresSeleccionado.scapId){var e=new $.a;e.rhEmpleadoPK.empId=this.saldoConsAntPresSeleccionado.scapId,e.empNombres=this.saldoConsAntPresSeleccionado?this.saldoConsAntPresSeleccionado.scapNombres:"",this.objetoSaldoIndividualAnticipo={fechaDesde:this.fechaFin,fechaHasta:this.fechaFin,empleado:e,empresaSeleccionada:this.empresaSeleccionada},this.mostrarFormularioAnticipo=!0}},e.prototype.cerrarSaldoIndividualAnticipo=function(){this.mostrarFormularioAnticipo=!1,this.objetoSaldoIndividualAnticipo=null,this.generarAtajosTeclado()},e.prototype.consultarSaldoIndividualPrestamos=function(){if(this.saldoConsAntPresSeleccionado&&this.saldoConsAntPresSeleccionado.scapId){var e=new $.a;e.rhEmpleadoPK.empId=this.saldoConsAntPresSeleccionado.scapId,e.empNombres=this.saldoConsAntPresSeleccionado?this.saldoConsAntPresSeleccionado.scapNombres:"",this.objetoSaldoIndividualPrestamo={fechaDesde:this.fechaFin,fechaHasta:this.fechaFin,empleado:e,empresaSeleccionada:this.empresaSeleccionada},this.mostrarFormularioPrestamo=!0}},e.prototype.cerrarSaldoIndividualPrestamo=function(){this.mostrarFormularioPrestamo=!1,this.objetoSaldoIndividualPrestamo=null,this.generarAtajosTeclado()},e.prototype.consultarSaldoIndividualAnticiposPrestamos=function(){if(this.saldoConsAntPresSeleccionado&&this.saldoConsAntPresSeleccionado.scapId){var e=new $.a;e.rhEmpleadoPK.empId=this.saldoConsAntPresSeleccionado.scapId,e.empNombres=this.saldoConsAntPresSeleccionado?this.saldoConsAntPresSeleccionado.scapNombres:"",this.objetoSaldoIndividualAnticipoPrestamo={fechaDesde:this.fechaFin,fechaHasta:this.fechaFin,empleado:e,empresaSeleccionada:this.empresaSeleccionada},this.mostrarFormularioAnticipoPrestamo=!0}},e.prototype.cerrarSaldoIndividualAnticiposPrestamo=function(){this.mostrarFormularioAnticipoPrestamo=!1,this.objetoSaldoIndividualAnticipoPrestamo=null,this.generarAtajosTeclado()},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.saldoConsolidadoAnticiposPrestamosService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a,inputEstado:be.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.saldoConsAntPresSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.saldoConsAntPresSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},Go([Object(a.ViewChild)("menuOpciones"),Bo("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Go([Object(a.Input)(),Bo("design:type",Object)],e.prototype,"objetoSaldoIndividualAnticipo",void 0),Go([Object(a.Input)(),Bo("design:type",Object)],e.prototype,"objetoSaldoIndividualPrestamo",void 0),Go([Object(a.Input)(),Bo("design:type",Object)],e.prototype,"objetoSaldoIndividualAnticipoPrestamo",void 0),Go([Object(a.HostListener)("window:resize",["$event"]),Bo("design:type",Function),Bo("design:paramtypes",[]),Bo("design:returntype",void 0)],e.prototype,"onResize",null),e=Go([Object(a.Component)({selector:"app-saldo-consolidado-anticipos-prestamos",template:o("DO2A"),styles:[o("Xwxl")]}),Bo("design:paramtypes",[g.ActivatedRoute,n.a,A.HotkeysService,v.a,x.a,r.b,c.a,Fo])],e)}(),Uo=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ko=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Vo=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhSaldoIndividualAnticiposPrestamosTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhSaldoIndividualAnticiposPrestamosTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhSaldoIndividualAnticiposPrestamosTO(e.extraInfo):(t.despuesDeListarRhSaldoIndividualAnticiposPrestamosTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(e){return[{headerName:s.a.TAG_TIPO,field:"siapTipo",width:150,minWidth:150,cellClass:function(e){return e.data.siapTipo?"":"tr-negrita"}},{headerName:s.a.TAG_FECHA,field:"siapFecha",width:150,minWidth:150,cellClass:function(e){return e.data.siapTipo?"":"tr-negrita"}},{headerName:s.a.TAG_OBSERVACIONES,field:"siapObservaciones",width:250,minWidth:250,cellClass:function(e){return e.data.siapTipo?"":"tr-negrita"}},{headerName:s.a.TAG_DEBITOS,field:"siapDebitos",width:150,minWidth:150,valueFormatter:Xo,cellClass:function(e){return e.data.siapTipo?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_CREDITOS,field:"siapCreditos",width:150,minWidth:150,valueFormatter:Xo,cellClass:function(e){return e.data.siapTipo?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_SALDO,field:"siapSaldo",width:150,minWidth:150,valueFormatter:Xo,cellClass:function(e){return e.data.siapTipo?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_CONTABLE,field:"siapContable",width:150,minWidth:150,cellClass:function(e){return e.data.siapTipo?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.siapTipo?{icono:s.a.ICON_CONSULTAR,tooltip:s.a.MSJ_CONSULTAR_CONTABLE,accion:s.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:""}}]},e=Uo([Object(a.Injectable)({providedIn:"root"}),ko("design:paramtypes",[i.a,r.b,n.a])],e)}();function Xo(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Jo=function(){function e(e){this.id=null,this.siapTipo=null,this.siapFecha=null,this.siapObservaciones=null,this.siapDebitos=0,this.siapCreditos=0,this.siapSaldo=0,this.siapContable=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.siapTipo=e.siapTipo?e.siapTipo:this.siapTipo,this.siapFecha=e.siapFecha?e.siapFecha:this.siapFecha,this.siapObservaciones=e.siapObservaciones?e.siapObservaciones:this.siapObservaciones,this.siapDebitos=e.siapDebitos?e.siapDebitos:this.siapDebitos,this.siapCreditos=e.siapCreditos?e.siapCreditos:this.siapCreditos,this.siapSaldo=e.siapSaldo?e.siapSaldo:this.siapSaldo,this.siapContable=e.siapContable?e.siapContable:this.siapContable},e}(),Ho=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Wo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yo=function(){function e(e,t,o,i,r,n,c,l,d){this.route=e,this.utilService=t,this.atajoService=o,this.sistemaService=i,this.filasService=r,this.modalService=n,this.toastr=c,this.archivoService=l,this.saldoIndAntPresService=d,this.listaEmpresas=[],this.listaResultadoSaldoIndAnt=[],this.empresaSeleccionada=new M.a,this.saldoIndAntSeleccionado=new Jo,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.es={},this.codigoEmpleado=null,this.empleado=new $.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.cerrarSaldoIndividualAnticipo=new a.EventEmitter,this.objetoContableEnviar=null,this.mostrarContabilidaAcciones=!1,this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS}return e.prototype.ngOnInit=function(){this.objetoSaldoIndividualAnticipoDesdeFuera?this.setearValoresSaldoIndividualAnticipoDesdeFuera():(this.listaEmpresas=this.route.snapshot.data.saldosIndividualAnticipos,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.obtenerFechaInicioFinMes()),this.generarAtajosTeclado()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.cambiarEmpresaSeleccionada=function(){this.codigoEmpleado=null,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.codigoEmpleado=null,this.validarEmpleado(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultadoSaldoIndAnt=[],this.filasService.actualizarFilas(0,0)},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarSaldoIndividualAnticipo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarSaldoIndividualAnticipo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirSaldoIndividualAnticipo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarSaldoIndividualAnticipo");return e&&e.click(),!1}))},e.prototype.setearValoresSaldoIndividualAnticipoDesdeFuera=function(){this.listaEmpresas.push(this.objetoSaldoIndividualAnticipoDesdeFuera.empresaSeleccionada),this.empresaSeleccionada=this.objetoSaldoIndividualAnticipoDesdeFuera.empresaSeleccionada,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.fechaInicio=this.objetoSaldoIndividualAnticipoDesdeFuera.fechaDesde,this.fechaFin=this.objetoSaldoIndividualAnticipoDesdeFuera.fechaHasta,this.empleado=this.objetoSaldoIndividualAnticipoDesdeFuera.empleado,this.codigoEmpleado="object"==typeof this.objetoSaldoIndividualAnticipoDesdeFuera.empleado?this.objetoSaldoIndividualAnticipoDesdeFuera.empleado.rhEmpleadoPK.empId:this.objetoSaldoIndividualAnticipoDesdeFuera.empleado,this.buscar()},e.prototype.regresar=function(){this.cerrarSaldoIndividualAnticipo.emit()},e.prototype.buscarSaldoIndividualAnticipos=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?this.buscar():(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.buscar=function(){this.cargando=!0,this.filasTiempo.iniciarContador();var e={empresa:this.empresaSeleccionada.empCodigo,empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),tipo:"ANTICIPOS"};this.saldoIndAntPresService.listaRhSaldoIndividualAnticiposPrestamosTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhSaldoIndividualAnticiposPrestamosTO=function(e){this.listaResultadoSaldoIndAnt=e,this.filasTiempo.finalizarContador(),this.cargando=!1,this.iniciarAgGrid()},e.prototype.imprimirSaldoIndividualAnticipo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),listaSaldoIndividualAnticiposPrestamosTO:this.listaResultadoSaldoIndAnt};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteSaldoIndividualAnticiposPrestamos",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoSaldoIndividualAnticipos.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarSaldoIndividualAnticipo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),tituloReporte:"SALDO INDIVIDUAL DE ANTICIPOS",listaRhListaSaldoIndividualAnticiposPrestamosTO:this.listaResultadoSaldoIndAnt};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteSaldoIndividualAnticiposPrestamosTO",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoSaldoIndividualAnticipos_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.buscarEmpleado=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.empleado.rhEmpleadoPK.empId===this.codigoEmpleado&&this.empleado.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.empleado.rhEmpleadoPK.empId=""===this.empleado.rhEmpleadoPK.empId?null:this.empleado.rhEmpleadoPK.empId,this.empleado.rhEmpleadoPK.empId=this.empleado.rhEmpleadoPK.empId?this.empleado.rhEmpleadoPK.empId.toUpperCase():null,this.empleado.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.empleado.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null,t.empleado.rhEmpleadoPK.empId=e?e.rhEmpleadoPK.empId:null,t.empleado.empNombres=e?e.empApellidos+" "+e.empNombres:null,document.getElementById("empleado").focus(),t.filasService.actualizarFilas("0","0")},function(e){var o=document.getElementById("empleado");o&&o.focus(),t.filasService.actualizarFilas("0","0")})}},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.empleado.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.empleado.empNombres=null,this.empleado.rhEmpleadoPK.empId=null,this.limpiarResultado())},e.prototype.consultarContable=function(){this.saldoIndAntSeleccionado&&this.saldoIndAntSeleccionado.siapContable&&(this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.saldoIndAntSeleccionado.siapContable,listadoSectores:[],tamanioEstructura:null,empresaSeleccionada:this.empresaSeleccionada,activar:this.activar,tipoContable:this.saldoIndAntSeleccionado.siapContable.split("|")[1],listaPeriodos:[],volverACargar:!1},this.mostrarContabilidaAcciones=!0)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.actualizarFilas(),this.generarAtajosTeclado())},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.saldoIndAntPresService.generarColumnas("saldoIndividualAnticipo"),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a,inputEstado:be.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.ejecutarAccion=function(e){this.saldoIndAntSeleccionado=e,this.consultarContable()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.saldoIndAntSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.saldoIndAntSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this);this.opciones=[{label:s.a.ACCION_CONSULTAR_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarContable():null}}]},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},Ho([Object(a.ViewChild)("menuOpciones"),Wo("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Ho([Object(a.Input)(),Wo("design:type",Object)],e.prototype,"objetoSaldoIndividualAnticipoDesdeFuera",void 0),Ho([Object(a.Output)(),Wo("design:type",Object)],e.prototype,"cerrarSaldoIndividualAnticipo",void 0),Ho([Object(a.HostListener)("window:resize",["$event"]),Wo("design:type",Function),Wo("design:paramtypes",[]),Wo("design:returntype",void 0)],e.prototype,"onResize",null),e=Ho([Object(a.Component)({selector:"app-saldo-individual-anticipos",template:o("Yuvn"),styles:[o("56cy")]}),Wo("design:paramtypes",[g.ActivatedRoute,n.a,A.HotkeysService,v.a,x.a,re.b,r.b,c.a,Vo])],e)}(),Ko=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},zo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qo=function(){function e(e,t,o,i,r,n,c,l,d){this.route=e,this.utilService=t,this.atajoService=o,this.sistemaService=i,this.filasService=r,this.modalService=n,this.archivoService=c,this.toastr=l,this.SaldoIndPresPresService=d,this.listaEmpresas=[],this.listaResultadoSaldoIndPres=[],this.empresaSeleccionada=new M.a,this.saldoIndPresSeleccionado=new Jo,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.es={},this.codigoEmpleado=null,this.empleado=new $.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.cerrarSaldoIndividualPrestamo=new a.EventEmitter,this.objetoContableEnviar=null,this.mostrarContabilidaAcciones=!1,this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS}return e.prototype.ngOnInit=function(){this.objetoSaldoIndividualPrestamoDesdeFuera?this.setearValoresSaldoIndividualAnticipoDesdeFuera():(this.listaEmpresas=this.route.snapshot.data.saldosIndividualPrestamos,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.obtenerFechaInicioFinMes()),this.generarAtajosTeclado()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.cambiarEmpresaSeleccionada=function(){this.codigoEmpleado=null,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.codigoEmpleado=null,this.validarEmpleado(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultadoSaldoIndPres=[],this.filasService.actualizarFilas(0,0)},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarSaldoIndividualPrestamo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarSaldoIndividualPrestamo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirSaldoIndividualPrestamo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarSaldoIndividualPrestamo");return e&&e.click(),!1}))},e.prototype.setearValoresSaldoIndividualAnticipoDesdeFuera=function(){this.listaEmpresas.push(this.objetoSaldoIndividualPrestamoDesdeFuera.empresaSeleccionada),this.empresaSeleccionada=this.objetoSaldoIndividualPrestamoDesdeFuera.empresaSeleccionada,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.fechaInicio=this.objetoSaldoIndividualPrestamoDesdeFuera.fechaDesde,this.fechaFin=this.objetoSaldoIndividualPrestamoDesdeFuera.fechaHasta,this.empleado=this.objetoSaldoIndividualPrestamoDesdeFuera.empleado,this.codigoEmpleado="object"==typeof this.objetoSaldoIndividualPrestamoDesdeFuera.empleado?this.objetoSaldoIndividualPrestamoDesdeFuera.empleado.rhEmpleadoPK.empId:this.objetoSaldoIndividualPrestamoDesdeFuera.empleado,this.buscar()},e.prototype.regresar=function(){this.cerrarSaldoIndividualPrestamo.emit()},e.prototype.buscarSaldoIndividualPrestamos=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?this.buscar():(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.buscar=function(){this.cargando=!0,this.filasTiempo.iniciarContador();var e={empresa:this.empresaSeleccionada.empCodigo,empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),tipo:"PRESTAMOS"};this.SaldoIndPresPresService.listaRhSaldoIndividualAnticiposPrestamosTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhSaldoIndividualAnticiposPrestamosTO=function(e){this.listaResultadoSaldoIndPres=e,this.filasTiempo.finalizarContador(),this.cargando=!1,this.iniciarAgGrid()},e.prototype.imprimirSaldoIndividualPrestamo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),listaSaldoIndividualAnticiposPrestamosTO:this.listaResultadoSaldoIndPres};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteSaldoIndividualAnticiposPrestamos",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoSaldoIndividualAnticipos.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarSaldoIndividualPrestamo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),tituloReporte:"SALDO INDIVIDUAL DE PRESTAMOS",listaRhListaSaldoIndividualAnticiposPrestamosTO:this.listaResultadoSaldoIndPres};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteSaldoIndividualAnticiposPrestamosTO",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoSaldoIndividualAnticipos_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.buscarEmpleado=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.empleado.rhEmpleadoPK.empId===this.codigoEmpleado&&this.empleado.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.empleado.rhEmpleadoPK.empId=""===this.empleado.rhEmpleadoPK.empId?null:this.empleado.rhEmpleadoPK.empId,this.empleado.rhEmpleadoPK.empId=this.empleado.rhEmpleadoPK.empId?this.empleado.rhEmpleadoPK.empId.toUpperCase():null,this.empleado.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.empleado.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null,t.empleado.rhEmpleadoPK.empId=e?e.rhEmpleadoPK.empId:null,t.empleado.empNombres=e?e.empApellidos+" "+e.empNombres:null,document.getElementById("empleado").focus(),t.filasService.actualizarFilas("0","0")},function(e){var o=document.getElementById("empleado");o&&o.focus(),t.filasService.actualizarFilas("0","0")})}},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.empleado.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.empleado.empNombres=null,this.empleado.rhEmpleadoPK.empId=null,this.limpiarResultado())},e.prototype.consultarContable=function(){this.saldoIndPresSeleccionado&&this.saldoIndPresSeleccionado.siapContable&&(this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.saldoIndPresSeleccionado.siapContable,listadoSectores:[],tamanioEstructura:null,empresaSeleccionada:this.empresaSeleccionada,activar:this.activar,tipoContable:this.saldoIndPresSeleccionado.siapContable.split("|")[1],listaPeriodos:[],volverACargar:!1},this.mostrarContabilidaAcciones=!0)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.actualizarFilas(),this.generarAtajosTeclado())},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.SaldoIndPresPresService.generarColumnas("saldoIndividualAnticipo"),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a,inputEstado:be.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.ejecutarAccion=function(e){this.saldoIndPresSeleccionado=e,this.consultarContable()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.saldoIndPresSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.saldoIndPresSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this);this.opciones=[{label:s.a.ACCION_CONSULTAR_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarContable():null}}]},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},Ko([Object(a.ViewChild)("menuOpciones"),zo("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Ko([Object(a.Input)(),zo("design:type",Object)],e.prototype,"objetoSaldoIndividualPrestamoDesdeFuera",void 0),Ko([Object(a.Output)(),zo("design:type",Object)],e.prototype,"cerrarSaldoIndividualPrestamo",void 0),Ko([Object(a.HostListener)("window:resize",["$event"]),zo("design:type",Function),zo("design:paramtypes",[]),zo("design:returntype",void 0)],e.prototype,"onResize",null),e=Ko([Object(a.Component)({selector:"app-saldo-individual-prestamos",template:o("Xb5n"),styles:[o("wFpW")]}),zo("design:paramtypes",[g.ActivatedRoute,n.a,A.HotkeysService,v.a,x.a,re.b,c.a,r.b,Vo])],e)}(),$o=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Qo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Zo=function(){function e(e,t,o,i,r,n,c,l,d){this.route=e,this.utilService=t,this.atajoService=o,this.sistemaService=i,this.filasService=r,this.modalService=n,this.toastr=c,this.archivoService=l,this.saldoIndAntPresService=d,this.listaEmpresas=[],this.listaResultadoSaldoIndAntPres=[],this.empresaSeleccionada=new M.a,this.saldoIndAntPresSeleccionado=new Jo,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.es={},this.codigoEmpleado=null,this.empleado=new $.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.cerrarSaldoIndividualAnticipoPrestamo=new a.EventEmitter,this.mostrarFormularioAnticipo=!1,this.mostrarFormularioPrestamo=!1,this.objetoContableEnviar=null,this.mostrarContabilidaAcciones=!1,this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS}return e.prototype.ngOnInit=function(){this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera?this.setearValoresSaldoIndividualAnticipoDesdeFuera():(this.listaEmpresas=this.route.snapshot.data.saldosIndividualAnticiposPrestamos,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.obtenerFechaInicioFinMes()),this.generarAtajosTeclado()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.cambiarEmpresaSeleccionada=function(){this.codigoEmpleado=null,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.codigoEmpleado=null,this.validarEmpleado(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultadoSaldoIndAntPres=[],this.filasService.actualizarFilas(0,0)},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarSaldoIndividualAnticiposPrestamos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarSaldoIndividualAnticiposPrestamos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirSaldoIndividualAnticiposPrestamos");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarSaldoIndividualAnticiposPrestamos");return e&&e.click(),!1}))},e.prototype.setearValoresSaldoIndividualAnticipoDesdeFuera=function(){this.listaEmpresas.push(this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.empresaSeleccionada),this.empresaSeleccionada=this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.empresaSeleccionada,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.fechaInicio=this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.fechaDesde,this.fechaFin=this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.fechaHasta,this.empleado=this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.empleado,this.codigoEmpleado="object"==typeof this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.empleado?this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.empleado.rhEmpleadoPK.empId:this.objetoSaldoIndividualAnticipoPrestamoDesdeFuera.empleado,this.buscar()},e.prototype.regresar=function(){this.cerrarSaldoIndividualAnticipoPrestamo.emit()},e.prototype.buscarSaldoIndividualAnticiposPrestamos=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?this.buscar():(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.buscar=function(){this.cargando=!0,this.filasTiempo.iniciarContador();var e={empresa:this.empresaSeleccionada.empCodigo,empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),tipo:"AMBOS"};this.saldoIndAntPresService.listaRhSaldoIndividualAnticiposPrestamosTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhSaldoIndividualAnticiposPrestamosTO=function(e){this.listaResultadoSaldoIndAntPres=e,this.filasTiempo.finalizarContador(),this.cargando=!1,this.iniciarAgGrid()},e.prototype.imprimirSaldoIndividualAnticipoPrestamos=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),listaSaldoIndividualAnticiposPrestamosTO:this.listaResultadoSaldoIndAntPres};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteSaldoIndividualAnticiposPrestamos",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoSaldoIndividualAnticiposPrestamos.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarSaldoIndividualAnticipoPrestamos=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={empId:this.codigoEmpleado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),tituloReporte:"SALDO INDIVIDUAL DE ANTICIPOS Y PRESTAMOS",listaRhListaSaldoIndividualAnticiposPrestamosTO:this.listaResultadoSaldoIndAntPres};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteSaldoIndividualAnticiposPrestamosTO",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoSaldoIndividualAnticiposPrestamos_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.consultarSaldoIndividualAnticipos=function(){this.objetoSaldoIndividualAnticipo={fechaDesde:this.fechaInicio,fechaHasta:this.fechaFin,empleado:this.empleado,empresaSeleccionada:this.empresaSeleccionada},this.mostrarFormularioAnticipo=!0},e.prototype.cerrarSaldoIndividualAnticipo=function(){this.mostrarFormularioAnticipo=!1,this.objetoSaldoIndividualAnticipo=null,this.generarAtajosTeclado()},e.prototype.consultarSaldoIndividualPrestamos=function(){this.objetoSaldoIndividualPrestamo={fechaDesde:this.fechaInicio,fechaHasta:this.fechaFin,empleado:this.empleado,empresaSeleccionada:this.empresaSeleccionada},this.mostrarFormularioPrestamo=!0},e.prototype.cerrarSaldoIndividualPrestamo=function(){this.mostrarFormularioPrestamo=!1,this.objetoSaldoIndividualPrestamo=null,this.generarAtajosTeclado()},e.prototype.buscarEmpleado=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.empleado.rhEmpleadoPK.empId===this.codigoEmpleado&&this.empleado.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.empleado.rhEmpleadoPK.empId=""===this.empleado.rhEmpleadoPK.empId?null:this.empleado.rhEmpleadoPK.empId,this.empleado.rhEmpleadoPK.empId=this.empleado.rhEmpleadoPK.empId?this.empleado.rhEmpleadoPK.empId.toUpperCase():null,this.empleado.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.empleado.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null,t.empleado.rhEmpleadoPK.empId=e?e.rhEmpleadoPK.empId:null,t.empleado.empNombres=e?e.empApellidos+" "+e.empNombres:null,document.getElementById("empleado").focus(),t.filasService.actualizarFilas("0","0")},function(){var e=document.getElementById("empleado");e&&e.focus(),t.filasService.actualizarFilas("0","0")})}},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.empleado.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.empleado.empNombres=null,this.empleado.rhEmpleadoPK.empId=null,this.limpiarResultado())},e.prototype.consultarContable=function(){this.saldoIndAntPresSeleccionado&&this.saldoIndAntPresSeleccionado.siapContable&&(this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.saldoIndAntPresSeleccionado.siapContable,listadoSectores:[],tamanioEstructura:null,empresaSeleccionada:this.empresaSeleccionada,activar:this.activar,tipoContable:this.saldoIndAntPresSeleccionado.siapContable.split("|")[1],listaPeriodos:[],volverACargar:!1},this.mostrarContabilidaAcciones=!0)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.actualizarFilas(),this.generarAtajosTeclado())},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.saldoIndAntPresService.generarColumnas("saldoIndividualAnticipoPrestamos"),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a,inputEstado:be.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.ejecutarAccion=function(e){this.saldoIndAntPresSeleccionado=e,this.consultarContable()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.saldoIndAntPresSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.saldoIndAntPresSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this);this.opciones=[{label:s.a.ACCION_CONSULTAR_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarContable():null}}]},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},$o([Object(a.ViewChild)("menuOpciones"),Qo("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),$o([Object(a.Input)(),Qo("design:type",Object)],e.prototype,"objetoSaldoIndividualAnticipoPrestamoDesdeFuera",void 0),$o([Object(a.Output)(),Qo("design:type",Object)],e.prototype,"cerrarSaldoIndividualAnticipoPrestamo",void 0),$o([Object(a.Input)(),Qo("design:type",Object)],e.prototype,"objetoSaldoIndividualAnticipo",void 0),$o([Object(a.Input)(),Qo("design:type",Object)],e.prototype,"objetoSaldoIndividualPrestamo",void 0),$o([Object(a.HostListener)("window:resize",["$event"]),Qo("design:type",Function),Qo("design:paramtypes",[]),Qo("design:returntype",void 0)],e.prototype,"onResize",null),e=$o([Object(a.Component)({selector:"app-saldo-individual-anticipos-prestamos",template:o("n8/K"),styles:[o("E5Gp")]}),Qo("design:paramtypes",[g.ActivatedRoute,n.a,A.HotkeysService,v.a,x.a,re.b,r.b,c.a,Vo])],e)}(),ea=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ta=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},oa=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhListaProvisionesComprobanteContableTO=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhListaProvisionesComprobanteContableTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhListaProvisionesComprobanteContableTO(e.extraInfo):(t.despuesDeListarRhListaProvisionesComprobanteContableTO([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:s.a.TAG_CATEGORIA,field:"provCategoria",width:150,minWidth:150,cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_IDENTIFICACION,field:"provId",width:150,minWidth:150,cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,field:"provNombres",width:250,minWidth:250,cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_SUELDO,field:"provSueldo",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_DIAS_PAGADOS,field:"provDiasPagados",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_APORTE_INDIVIDUAL,field:"provAporteIndividual",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_APORTE_PATRONAL,field:"provAportePatronal",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_IECE,field:"provIece",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_IECE_SIN_ABREVIACION,text:s.a.TAG_IECE}},{headerName:s.a.TAG_SECAP,field:"provSecap",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"},headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_SECAP_SIN_ABREVIACION,text:s.a.TAG_SECAP}},{headerName:s.a.TAG_XIII_SUELDO,field:"provXiii",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_XIV_SUELDO,field:"provXiv",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_FONDO_RESERVA,field:"provFondoReserva",width:150,minWidth:150,valueFormatter:aa,cellClass:function(e){return e.data.provId?"text-right":"tr-negrita text-right"}},{headerName:s.a.TAG_CONTABLE_ROL,field:"provContableRol",width:250,minWidth:250,cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_CONTABLE_PROVISION,field:"provContableProvision",width:250,minWidth:250,cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",cellClass:function(e){return e.data.provId?"text-center":"d-none"},width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRendererFramework:Pe.a,headerComponentFramework:Me.a,headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:"",enableSorting:!1}}]},e=ea([Object(a.Injectable)({providedIn:"root"}),ta("design:paramtypes",[i.a,r.b,n.a])],e)}();function aa(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}var ia=o("0cNW"),ra=o("i8Jn"),na=function(){function e(e){this.id=null,this.provCategoria=null,this.provId=null,this.provNombres=null,this.provSueldo=0,this.provDiasPagados=0,this.provAporteIndividual=0,this.provAportePatronal=0,this.provIece=0,this.provSecap=0,this.provXiii=0,this.provXiv=0,this.provFondoReserva=0,this.provVacaciones=0,this.provDesahucio=0,this.provSecuencial=0,this.provContableRol=null,this.provContableProvision=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.provCategoria=e.provCategoria?e.provCategoria:this.provCategoria,this.provId=e.provId?e.provId:this.provId,this.provNombres=e.provNombres?e.provNombres:this.provNombres,this.provSueldo=e.provSueldo?e.provSueldo:this.provSueldo,this.provDiasPagados=e.provDiasPagados?e.provDiasPagados:this.provDiasPagados,this.provAporteIndividual=e.provAporteIndividual?e.provAporteIndividual:this.provAporteIndividual,this.provAportePatronal=e.provAportePatronal?e.provAportePatronal:this.provAportePatronal,this.provIece=e.provIece?e.provIece:this.provIece,this.provSecap=e.provSecap?e.provSecap:this.provSecap,this.provXiii=e.provXiii?e.provXiii:this.provXiii,this.provXiv=e.provXiv?e.provXiv:this.provXiv,this.provFondoReserva=e.provFondoReserva?e.provFondoReserva:this.provFondoReserva,this.provVacaciones=e.provVacaciones?e.provVacaciones:this.provVacaciones,this.provDesahucio=e.provDesahucio?e.provDesahucio:this.provDesahucio,this.provSecuencial=e.provSecuencial?e.provSecuencial:this.provSecuencial,this.provContableRol=e.provContableRol?e.provContableRol:this.provContableRol,this.provContableProvision=e.provContableProvision?e.provContableProvision:this.provContableProvision},e}(),sa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ca=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},la=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.utilService=t,this.atajoService=o,this.filasService=a,this.toastr=i,this.archivoService=r,this.periodoService=n,this.tipoContableService=c,this.soporteContableProvisionesService=l,this.listaEmpresas=[],this.listadoPeriodos=[],this.listaTipos=[],this.listaResultadoSoporteComprobante=[],this.empresaSeleccionada=new M.a,this.soporteComprobanteSeleccionado=new na,this.periodoSeleccionado=new ra.a,this.tipoSeleccionado=new Ne.a,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.conNumero=null,this.filasTiempo=new D.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.objetoContableEnviar=null,this.mostrarContabilidaAcciones=!1,this.constantes=s.a,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS}return e.prototype.ngOnInit=function(){this.generarAtajosTeclado(),this.listaEmpresas=this.route.snapshot.data.provisionesComprobanteContable,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.conNumero=null,this.periodoSeleccionado=null,this.tipoSeleccionado=null,this.limpiarResultado(),this.listarPeriodos(),this.listarTipos()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarSoporteContableProvisiones");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarSoporteContableProvisiones");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirSoporteContableProvisiones");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarSoporteContableProvisiones");return e&&e.click(),!1}))},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this);this.opciones=[{label:s.a.TAG_CONTABLE_ROL,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarContableRol():null}},{label:s.a.TAG_CONTABLE_PROVISION,icon:s.a.ICON_BUSCAR,disabled:!t,command:function(){return t?e.consultarContableProvision():null}}]},e.prototype.listarPeriodos=function(){this.limpiarResultado(),this.listadoPeriodos=[],this.cargando=!0,this.periodoService.listarPeriodos({empresa:s.a.KEY_EMPRESA_SELECT},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPeriodos=function(e){var t=this;this.listadoPeriodos=e,this.listadoPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.sisPeriodoPK&&this.periodoSeleccionado.sisPeriodoPK.perCodigo?this.listadoPeriodos.find(function(e){return e.sisPeriodoPK.perCodigo===t.periodoSeleccionado.sisPeriodoPK.perCodigo}):this.listadoPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.listarTipos=function(){this.limpiarResultado(),this.listaTipos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT,codigo:"C-PRO"};this.tipoContableService.listarTipoSegunCodigo(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoSegunCodigo=function(e){var t=this;this.listaTipos=e,this.listaTipos.length>0?this.tipoSeleccionado=this.tipoSeleccionado&&this.tipoSeleccionado.tipCodigo?this.listaTipos.find(function(e){return e.tipCodigo===t.tipoSeleccionado.tipCodigo}):this.listaTipos[0]:this.tipoSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.listaResultadoSoporteComprobante=[],this.filasService.actualizarFilas(0,0)},e.prototype.soloNumeros=function(e){return this.utilService.soloNumeros(e)},e.prototype.completarCeros=function(){this.conNumero=this.utilService.completarCeros(this.conNumero)},e.prototype.buscarSoporteComprobante=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.cargando=!0,this.filasTiempo.iniciarContador();var o={empresa:this.empresaSeleccionada.empCodigo,periodo:this.periodoSeleccionado?this.periodoSeleccionado.sisPeriodoPK.perCodigo:"",tipo:this.tipoSeleccionado?this.tipoSeleccionado.tipCodigo:null,numero:this.conNumero};this.soporteContableProvisionesService.listaRhListaProvisionesComprobanteContableTO(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarRhListaProvisionesComprobanteContableTO=function(e){this.listaResultadoSoporteComprobante=e,this.cargando=!1,this.filasTiempo.finalizarContador(),this.iniciarAgGrid()},e.prototype.imprimirSoporteComprobante=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={numero:this.conNumero,periodo:this.periodoSeleccionado?this.periodoSeleccionado.sisPeriodoPK.perCodigo:null,tipo:this.tipoSeleccionado?this.tipoSeleccionado.tipCodigo:null,listaProvisionesTO:this.listaResultadoSoporteComprobante};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteProvisionesComprobanteContable",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoProvisionesComprobanteContable.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarSoporteComprobante=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={numero:this.conNumero,periodo:this.periodoSeleccionado?this.periodoSeleccionado.sisPeriodoPK.perCodigo:null,tipo:this.tipoSeleccionado?this.tipoSeleccionado.tipCodigo:null,listaProvisionesTO:this.listaResultadoSoporteComprobante};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteProvisionesComprobanteContable",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoProvisionesComprobanteContable_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.consultarContableRol=function(){this.soporteComprobanteSeleccionado&&this.soporteComprobanteSeleccionado.provContableRol&&(this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.soporteComprobanteSeleccionado.provContableRol,listadoSectores:[],tamanioEstructura:null,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:this.soporteComprobanteSeleccionado.provContableRol.split("|")[1],listaPeriodos:[],volverACargar:!1})},e.prototype.consultarContableProvision=function(){this.soporteComprobanteSeleccionado&&this.soporteComprobanteSeleccionado.provContableProvision&&(this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.soporteComprobanteSeleccionado.provContableProvision,listadoSectores:[],tamanioEstructura:null,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:this.soporteComprobanteSeleccionado.provContableProvision.split("|")[1],listaPeriodos:[],volverACargar:!1})},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.actualizarFilas(),this.generarAtajosTeclado())},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.soporteContableProvisionesService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a,inputEstado:be.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.soporteComprobanteSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.soporteComprobanteSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},sa([Object(a.ViewChild)("menuOpciones"),ca("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),sa([Object(a.HostListener)("window:resize",["$event"]),ca("design:type",Function),ca("design:paramtypes",[]),ca("design:returntype",void 0)],e.prototype,"onResize",null),e=sa([Object(a.Component)({selector:"app-soporte-contable-provisiones",template:o("Id9B"),styles:[o("IN7/")]}),ca("design:paramtypes",[g.ActivatedRoute,n.a,A.HotkeysService,x.a,r.b,c.a,ia.a,J.a,oa])],e)}(),da=function(){function e(e){this.id=0,this.vacId="",this.vacApellidosNombres="",this.vacValor=0,this.vacDesde="",this.vacHasta="",this.vacGozadasDesde="",this.vacGozadasHasta="",this.vacObservaciones="",this.vacContables="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.vacId=e.vacId?e.vacId:this.vacId,this.vacApellidosNombres=e.vacApellidosNombres?e.vacApellidosNombres:this.vacApellidosNombres,this.vacValor=e.vacValor?e.vacValor:this.vacValor,this.vacDesde=e.vacDesde?e.vacDesde:this.vacDesde,this.vacHasta=e.vacHasta?e.vacHasta:this.vacHasta,this.vacGozadasDesde=e.vacGozadasDesde?e.vacGozadasDesde:this.vacGozadasDesde,this.vacGozadasHasta=e.vacGozadasHasta?e.vacGozadasHasta:this.vacGozadasHasta,this.vacObservaciones=e.vacObservaciones?e.vacObservaciones:this.vacObservaciones,this.vacContables=e.vacContables?e.vacContables:this.vacContables},e}(),pa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ma=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ua=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_IMPRIMIR:a=t.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.TAG_AVISO),a},e.prototype.listarVacaciones=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhDetalleVacacionesPagadasGozadasTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarVacaciones(e.extraInfo):(a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){var e=[];return e.push({headerName:s.a.TAG_CONTABLE,field:"vacContables",width:200,minWidth:200},{headerName:s.a.TAG_IDENTIFICACION,field:"vacId",width:200,minWidth:200},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,field:"vacApellidosNombres",width:500,minWidth:500},{headerName:s.a.TAG_VALOR,field:"vacValor",cellClass:"text-right",valueFormatter:this.numberFormatter,width:200,minWidth:100},{headerName:s.a.TAG_DESDE,field:"vacDesde",width:150,minWidth:150},{headerName:s.a.TAG_HASTA,field:"vacHasta",width:150,minWidth:150},{headerName:s.a.TAG_OBSERVACION,field:"vacObservaciones",width:350,minWidth:350},this.utilService.getColumnaBotonAccion()),e},e.prototype.numberFormatter=function(e){if(e.value||0==e.value)return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},e=pa([Object(a.Injectable)({providedIn:"root"}),ma("design:paramtypes",[i.a,r.b,n.a])],e)}(),ha=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},va=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fa=function(){function e(e,t,o,i,r,n,c,l,d,p){this.route=e,this.toastr=t,this.sectorService=o,this.atajoService=i,this.filasService=r,this.modalService=n,this.vacacionesService=c,this.utilService=l,this.sistemaService=d,this.archivoService=p,this.listaSectores=[],this.listadoResultadoVacaciones=[],this.sectorSeleccionado=new P.a,this.vacacionesSeleccionado=new da,this.empleado=new $.a,this.constantes=s.a,this.listaEmpresas=[],this.es={},this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.codigoEmpleado=null,this.tipoVista=null,this.titulo=null,this.objetoContableEnviar=null,this.cargando=!1,this.activar=!1,this.mostrarAccionesContabilidad=!1,this.activarInicial=!1,this.mostrarContabilidaAcciones=!1,this.mostrarBtnCancelar=!1,this.cerrarVacaciones=new a.EventEmitter,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.screamXS=!0}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.vacaciones,this.tipoVista=this.route.snapshot.data.tipo,this.titulo=this.obtenerTitulo(this.tipoVista),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.obtenerFechaInicioFinMes(),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.obtenerTitulo=function(e){return this.titulo="P"==e?s.a.TAG_LISTADO_VACACIONES_PAGADAS:s.a.TAG_LISTADO_VACACIONES_GOZADAS,this.titulo},e.prototype.imprimirVacaciones=function(){var e=this;if(this.vacacionesService.verificarPermiso(s.a.ACCION_IMPRIMIR,this.empresaSeleccionada,!0)){this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,listado:this.listadoResultadoVacaciones,desde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaInicio),hasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaFin),sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,tipo:this.tipoVista};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteListaDetalleVacaciones",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF(e.titulo+".pdf",t):e.toastr.warning(s.a.MSJ_NO_REPORTE_ERRORES,s.a.MSJ_TITULO_INVALIDOS),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarVacaciones=function(){var e=this;if(this.vacacionesService.verificarPermiso(s.a.ACCION_EXPORTAR,this.empresaSeleccionada,!0)){this.cargando=!0;var t={rhDetalleVacionesPagadasGozadasTO:this.listadoResultadoVacaciones,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaFin),tipo:"G"===this.tipoVista?"Gozadas":"Pagadas"};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteRhDetalleVacacionesPagadasGozadas",t,this.empresaSeleccionada).then(function(o){o?e.utilService.descargarArchivoExcel(o._body,"Vacaciones_"+t.tipo):e.toastr.warning(s.a.MSJ_NO_RESULTADOS),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.listarVacaciones=function(e){this.filasTiempo.resetearContador(),this.utilService.establecerFormularioTocado(e)&&e&&(this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido?e.valid?this.listar():(this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1):(this.toastr.warning(s.a.MSJ_FECHAS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1))},e.prototype.listar=function(){this.limpiarResultado(),this.listadoResultadoVacaciones=[],this.mostrarAccionesContabilidad=!1,this.filasTiempo.iniciarContador();var e={empresa:"'"+s.a.KEY_EMPRESA_SELECT+"'",empId:this.empleado.rhEmpleadoPK.empId,fechaDesde:L(this.fechaInicio).format("DD-MM-YYYY"),fechaHasta:L(this.fechaFin).format("DD-MM-YYYY"),sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,tipo:this.tipoVista};this.cargando=!0,this.vacacionesService.listarVacaciones(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarVacaciones=function(e){this.filasTiempo.finalizarContador(),this.listadoResultadoVacaciones=e,this.cargando=!1},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.listadoResultadoVacaciones=[],this.filasService.actualizarFilas("0","0")},e.prototype.cambiarEmpresaSeleccionada=function(){this.sectorSeleccionado=null,this.codigoEmpleado=null,this.validarEmpleado(),s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listarSectores(),this.limpiarResultado()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.generarOpciones=function(){var e=this,t=this.vacacionesSeleccionado.id;this.opciones=[{label:s.a.ACCION_CONSULTAR_CONTABLE,icon:s.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.verContable():null}},{label:s.a.LABEL_IMPRIMIR_CONTABLE,icon:s.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirContable():null}}]},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarVacaciones");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirVacaciones");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarVacaciones");return e&&e.click(),!1}))},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.empleado.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.empleado.empNombres=null,this.empleado.rhEmpleadoPK.empId=null,this.limpiarResultado())},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.buscarEmpleado=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.empleado.rhEmpleadoPK.empId===this.codigoEmpleado&&this.empleado.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.empleado.rhEmpleadoPK.empId=""===this.empleado.rhEmpleadoPK.empId?null:this.empleado.rhEmpleadoPK.empId,this.empleado.rhEmpleadoPK.empId=this.empleado.rhEmpleadoPK.empId?this.empleado.rhEmpleadoPK.empId.toUpperCase():null,this.empleado.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.empleado.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null,t.empleado.rhEmpleadoPK.empId=e?e.rhEmpleadoPK.empId:null,t.empleado.empNombres=e?e.empApellidos+" "+e.empNombres:null,document.getElementById("empleado").focus(),t.filasService.actualizarFilas("0","0")},function(e){var o=document.getElementById("empleado");o&&o.focus(),t.filasService.actualizarFilas("0","0")})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.vacacionesService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.vacacionesSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.vacacionesSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},e.prototype.ejecutarAccion=function(e){this.vacacionesSeleccionado=e,this.verContable()},e.prototype.imprimirContable=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){if(this.vacacionesSeleccionado.vacContables){this.cargando=!0;var t=[],o=this.vacacionesSeleccionado.vacContables,a=new Ht.a;a.conEmpresa=this.empresaSeleccionada.empCodigo,a.conNumero=o.split("|")[2].trim(),a.conPeriodo=o.split("|")[0].trim(),a.conTipo=o.split("|")[1].trim(),t.push(a);var i={listadoPK:t};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteContableIndividual",i,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("Contable.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}}else this.toastr.warning(s.a.MSJ_NO_HAY_PARAMETROS_DE_BUSQUEDA,s.a.TAG_AVISO)},e.prototype.verContable=function(){this.vacacionesSeleccionado.vacContables?(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.vacacionesSeleccionado.vacContables,empresaSeleccionada:this.empresaSeleccionada,activar:!0,volverACargar:!0},this.activar=!0):this.toastr.warning(s.a.MSJ_NO_HAY_PARAMETROS_DE_BUSQUEDA,s.a.TAG_AVISO)},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.generarAtajosTeclado(),this.activar=!1,this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},ha([Object(a.ViewChild)("menuOpciones"),va("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),ha([Object(a.Input)(),va("design:type",Object)],e.prototype,"objetoVacacionesDesdeFuera",void 0),ha([Object(a.Output)(),va("design:type",Object)],e.prototype,"cerrarVacaciones",void 0),ha([Object(a.HostListener)("window:resize",["$event"]),va("design:type",Function),va("design:paramtypes",[]),va("design:returntype",void 0)],e.prototype,"onResize",null),e=ha([Object(a.Component)({selector:"app-vacaciones",template:o("xTZX")}),va("design:paramtypes",[g.ActivatedRoute,r.b,O.a,A.HotkeysService,x.a,re.b,ua,n.a,v.a,c.a])],e)}(),Aa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ga=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ba=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.verificarPermiso=function(e,t,o){var a=!1;switch(e){case s.a.ACCION_CONSULTAR:a=!0;break;case s.a.ACCION_IMPRIMIR:a=t.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:a=t.listaSisPermisoTO.gruExportar}return o&&!a&&this.toastr.warning(s.a.ERROR_403_TEXTO,s.a.TAG_AVISO),a},e.prototype.listarCuadroProvision=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getProvisionPorFechas",e,o).then(function(e){e&&e.extraInfo&&e.extraInfo.columnas?t.despuesDeListarCuadroProvision(e.extraInfo):(a.toastr.warning(e.operacionMensaje,s.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(e){for(var t,o=this,a=[],i=function(i){t=i<1?100:1==i?250:115,a.push({headerName:e[i],field:i+"",width:t,minWidth:t,pinned:i<2?"left":null,valueFormatter:function(e){return i>=2?o.numberFormatter(e):null},cellClass:function(e){return 0==e.rowIndex?"tr-negrita":i>=2?" text-right":""}})},r=0;r<e.length;r++)i(r);return a},e.prototype.numberFormatter=function(e){if(e.value||0==e.value)return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},e=Aa([Object(a.Injectable)({providedIn:"root"}),ga("design:paramtypes",[i.a,r.b,n.a])],e)}(),Sa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ca=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ia=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.toastr=t,this.sectorService=o,this.atajoService=a,this.filasService=i,this.utilService=r,this.sistemaService=n,this.archivoService=c,this.cuadroProvisionService=l,this.listaSectores=[],this.listadoResultadoCuadroProvision=[],this.sectorSeleccionado=new P.a,this.cuadroProvisionSeleccionado=new da,this.constantes=s.a,this.listaEmpresas=[],this.es={},this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.tipoVista=null,this.titulo=null,this.cargando=!1,this.activar=!1,this.activarInicial=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.screamXS=!0}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.provision,this.tipoVista=this.route.snapshot.data.agrupacion,this.titulo=this.obtenerTitulo(this.tipoVista),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.obtenerFechaInicioFinMes(),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},e.prototype.obtenerTitulo=function(e){var t="";switch(e){case"XIV":t=s.a.RRHH_PROVISIONES_POR_FECHA_XVI;break;case"XIII":t=s.a.RRHH_PROVISIONES_POR_FECHA_XIII;break;case"SECAP":t=s.a.RRHH_PROVISIONES_POR_FECHA_SECAP;break;case"IECE":t=s.a.RRHH_PROVISIONES_POR_FECHA_IECE;break;case"APORTE_PATRONAL":t=s.a.RRHH_PROVISIONES_POR_FECHA_AP}return t},e.prototype.exportarCuadroProvision=function(){var e=this;if(this.cuadroProvisionService.verificarPermiso(s.a.ACCION_EXPORTAR,this.empresaSeleccionada,!0)){this.cargando=!0;var t={columnas:this.columnasDinamicas,datos:this.listadoResultadoCuadroProvision,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",titulo:this.titulo};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteProvisionPorFechas",t,this.empresaSeleccionada).then(function(o){o?e.utilService.descargarArchivoExcel(o._body,"CuadroProvision_"+t.titulo):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.listarCuadroProvision=function(e){this.filasTiempo.resetearContador(),this.utilService.establecerFormularioTocado(e)&&e&&(this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido?e.valid?this.listar():(this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1):(this.toastr.warning(s.a.MSJ_FECHAS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1))},e.prototype.listar=function(){this.limpiarResultado(),this.filasTiempo.iniciarContador();var e={empresa:s.a.KEY_EMPRESA_SELECT,fechaInicio:L(this.fechaInicio).format("DD-MM-YYYY"),fechaFin:L(this.fechaFin).format("DD-MM-YYYY"),codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",agrupacion:this.tipoVista};this.cargando=!0,this.cuadroProvisionService.listarCuadroProvision(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCuadroProvision=function(e){this.filasTiempo.finalizarContador(),this.columnasDinamicas=e.columnas,this.iniciarAgGrid(),this.listadoResultadoCuadroProvision=e.datos,this.cargando=!1},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.listadoResultadoCuadroProvision=[],this.filasService.actualizarFilas("0","0")},e.prototype.cambiarEmpresaSeleccionada=function(){this.sectorSeleccionado=null,s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.listarSectores(),this.limpiarResultado()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarCuadroProvision");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarCuadroProvision");return e&&e.click(),!1}))},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.cuadroProvisionService.generarColumnas(this.columnasDinamicas),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Pe.a,toolTip:Me.a},this.rowClassRules={"tr-negrita":function(e){return" SUBTOTAL CAMPO"===e.data[1]||" TOTAL GENERAL"===e.data[1]||" CAMPO"===e.data[1]||" SUBTOTAL ADMINISTRATIVO"===e.data[1]||" ADMINISTRATIVO"===e.data[1]}},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.cuadroProvisionSeleccionado=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},Sa([Object(a.HostListener)("window:resize",["$event"]),Ca("design:type",Function),Ca("design:paramtypes",[]),Ca("design:returntype",void 0)],e.prototype,"onResize",null),e=Sa([Object(a.Component)({selector:"app-cuadro-provisiones",template:o("Kwaq")}),Ca("design:paramtypes",[g.ActivatedRoute,r.b,O.a,A.HotkeysService,x.a,n.a,v.a,c.a,ba])],e)}(),Ra=o("6AkL"),Oa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ea=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ta=function(){function e(e,t,o,a,i,r,n,c){this.route=e,this.atajoService=t,this.filasService=o,this.utilService=a,this.empleadoService=i,this.sectorService=r,this.categoriaService=n,this.cantonService=c,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.sectores=new Array,this.categorias=new Array,this.provincias=new Array,this.cantones=new Array,this.parametrosListado={},this.constantes=s.a,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.busqueda="",this.tipoVista="C",this.cargando=!1,this.activar=!1,this.accion=null}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.empleadoListadoExportar,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.definirAtajosDeTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.obtenerDatosParaBusquedaEmpleados(),this.limpiarResultado()},e.prototype.obtenerDatosParaBusquedaEmpleados=function(){this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.empleadoService.obtenerDatosParaBusquedaEmpleados(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeObtenerDatosParaBusquedaEmpleados=function(e){this.cargando=!1,this.sectores=e.sectores,this.categorias=e.categorias,this.provincias=e.provincias},e.prototype.listarSectores=function(){this.sectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.sectores=e,this.sectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.sectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarCategorias=function(){this.categorias=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,activo:!0};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){var t=this;this.categorias=e,this.categorias.length>0?this.categoriaSeleccionada=this.categoriaSeleccionada&&this.categoriaSeleccionada.catNombre?this.categorias.find(function(e){return e.catNombre===t.categoriaSeleccionada.catNombre}):null:this.categoriaSeleccionada=null,this.cargando=!1},e.prototype.listarProvincias=function(){this.provincias=[],this.cargando=!0,this.cantonService.listarAnxDpaProvinciaTO(this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarAnxDpaProvinciaTO=function(e){var t=this;this.provincias=e,this.provincias.length>0?this.provinciaSeleccionada=this.provinciaSeleccionada&&this.provinciaSeleccionada.codigo?this.provincias.find(function(e){return e.codigo===t.provinciaSeleccionada.codigo}):null:this.provinciaSeleccionada=null,this.cargando=!1},e.prototype.listarCantones=function(){if(this.cantones=[],this.provinciaSeleccionada){this.cargando=!0;var e={provincia:this.provinciaSeleccionada.codigo};this.cantonService.listarComboAnxCantonTO(e,this,s.a.KEY_EMPRESA_SELECT)}else this.cantonSeleccionado=null},e.prototype.despuesDeListarComboAnxCantonTO=function(e){var t=this;this.cantones=e,this.cantones.length>0?this.cantonSeleccionado=this.cantonSeleccionado&&this.cantonSeleccionado.codigo?this.cantones.find(function(e){return e.codigo===t.cantonSeleccionado.codigo}):null:this.cantonSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.parametrosListado={},this.parametrosListado.listar=!1},e.prototype.definirAtajosDeTeclado=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(t){return e.listarEmpleado(!1),!1}))},e.prototype.listarEmpleado=function(e){this.parametrosListado={},this.parametrosListado.empresa=s.a.KEY_EMPRESA_SELECT,this.parametrosListado.listar=!0,this.parametrosListado.buscar=this.busqueda,this.parametrosListado.estado=e,this.parametrosListado.provincia=this.provinciaSeleccionada?this.provinciaSeleccionada.codigo:null,this.parametrosListado.canton=this.cantonSeleccionado?this.cantonSeleccionado.codigo:null,this.parametrosListado.sector=this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,this.parametrosListado.categoria=this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null},e.prototype.ejecutarAccion=function(e){switch(this.definirAtajosDeTeclado(),e.accion){case s.a.ACCION_LISTAR:this.listarEmpleado(!1);break;case s.a.ACCION_ACTIVAR:this.activar=e.estado}},e=Oa([Object(a.Component)({selector:"app-empleados",template:o("8IRT")}),Ea("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,x.a,n.a,q.a,O.a,I,Ra.a])],e)}(),_a=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ya=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pa=function(){function e(e,t,o){this.api=e,this.toastr=t,this.utilService=o}return e.prototype.listaRhFunConsultarXivSueld=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhFunConsultarXivSueldo",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarRhFunConsultarXivSueld(e.extraInfo):(t.despuesDeListarRhFunConsultarXivSueld([]),a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(e){return[{headerName:s.a.TAG_CATEGORIA,field:"xivCategoria",width:150,minWidth:150},{headerName:s.a.TAG_SECTOR,field:"xivSector",width:200,minWidth:200,hide:e.sectorSeleccionado},{headerName:s.a.TAG_IDENTIFICACION,field:"xivId",width:200,minWidth:200},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,field:"xivApellidos",width:200,minWidth:200,valueGetter:function(e){return e.data.xivApellidos+" "+e.data.xivNombres}},{headerName:s.a.TAG_GENERO,field:"xivGenero",width:80,minWidth:80},{headerName:s.a.TAG_FECHA_INGRESO,field:"xivFechaIngreso",width:120,minWidth:120},{headerName:s.a.TAG_CARGO,field:"xivCargo",width:200,minWidth:200},{headerName:s.a.TAG_TOTAL_INGRESO,field:"xivTotalIngresos",width:200,minWidth:200,valueFormatter:this.formatearA2Decimales,cellClass:"text-right"},{headerName:s.a.TAG_DIAS_LABORADOS,field:"xivDiasLaborados",width:200,minWidth:200,cellClass:"text-right"},{headerName:s.a.TAG_V_XIV_SUELDO,field:"xivValorXivSueldo",width:200,minWidth:200,valueFormatter:this.formatearA2Decimales,cellClass:"text-right",headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_VALOR_XIV_SUELDO,text:s.a.TAG_V_XIV_SUELDO}},{headerName:s.a.TAG_C_MINISTERIAL,field:"xivCodigoMinisterial",width:130,minWidth:130,headerComponentFramework:Me.a,headerComponentParams:{class:"",tooltip:s.a.TAG_CODIGO_MINISTERIAL,text:s.a.TAG_C_MINISTERIAL}},{headerName:s.a.TAG_CONTABLE,field:"xivNumero",width:200,minWidth:200,valueGetter:function(e){return e.data.xivPeriodo+"|"+e.data.xivTipo+"|"+e.data.xivNumero}},this.utilService.getColumnaOpciones()]},e.prototype.formatearA2Decimales=function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},e=_a([Object(a.Injectable)({providedIn:"root"}),ya("design:paramtypes",[i.a,r.b,n.a])],e)}(),Ma=function(){function e(e){this.id=0,this.xivCategoria="",this.xivSector="",this.xivId="",this.xivNombres="",this.xivApellidos="",this.xivGenero="",this.xivFechaIngreso="",this.xivCargo="",this.xivCargoIess="",this.xivTotalIngresos=0,this.xivDiasLaborados=0,this.xivValorXivSueldo=0,this.xivFormaPago="",this.xivDocumento="",this.xivCodigoMinisterial="",this.xivPeriodo="",this.xivTipo="",this.xivNumero="",this.xivObservaciones="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.id=e.id?e.id:this.id,this.xivCategoria=e.xivCategoria?e.xivCategoria:this.xivCategoria,this.xivSector=e.xivSector?e.xivSector:this.xivSector,this.xivId=e.xivId?e.xivId:this.xivId,this.xivNombres=e.xivNombres?e.xivNombres:this.xivNombres,this.xivApellidos=e.xivApellidos?e.xivApellidos:this.xivApellidos,this.xivGenero=e.xivGenero?e.xivGenero:this.xivGenero,this.xivFechaIngreso=e.xivFechaIngreso?e.xivFechaIngreso:this.xivFechaIngreso,this.xivCargo=e.xivCargo?e.xivCargo:this.xivCargo,this.xivCargoIess=e.xivCargoIess?e.xivCargoIess:this.xivCargoIess,this.xivTotalIngresos=e.xivTotalIngresos?e.xivTotalIngresos:this.xivTotalIngresos,this.xivDiasLaborados=e.xivDiasLaborados?e.xivDiasLaborados:this.xivDiasLaborados,this.xivValorXivSueldo=e.xivValorXivSueldo?e.xivValorXivSueldo:this.xivValorXivSueldo,this.xivDiasLaborados=e.xivDiasLaborados?e.xivDiasLaborados:this.xivDiasLaborados,this.xivFormaPago=e.xivFormaPago?e.xivFormaPago:this.xivFormaPago,this.xivDocumento=e.xivCodigoMinisterial?e.xivDocumento:this.xivDocumento,this.xivCodigoMinisterial=e.xivCodigoMinisterial?e.xivCodigoMinisterial:this.xivCodigoMinisterial,this.xivPeriodo=e.xivPeriodo?e.xivPeriodo:this.xivPeriodo,this.xivTipo=e.xivTipo?e.xivTipo:this.xivTipo,this.xivNumero=e.xivNumero?e.xivNumero:this.xivNumero,this.xivObservaciones=e.xivObservaciones?e.xivObservaciones:this.xivObservaciones},e}(),Na=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Da=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},La=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.toastr=t,this.atajoService=o,this.filasService=a,this.archivoService=i,this.utilService=r,this.periodoXivService=n,this.sectorService=c,this.xivSueldoListadoService=l,this.listaEmpresas=[],this.listaResultado=[],this.listaPeriodos=[],this.listaSectores=[],this.sectorSeleccionado=new P.a,this.periodoSeleccionado=new _t.a,this.empresaSeleccionada=new M.a,this.xivSueldoSeleccionado=new Ma,this.constantes=s.a,this.cargando=!1,this.mostrarAccionesContabilidad=!1,this.activar=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listaEmpresas=this.route.snapshot.data.xivSueldoListado,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtgajosTeclado()}return e.prototype.ngOnInit=function(){},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.periodoSeleccionado=null,this.listarSectores(),this.listarPeriodos(),this.limpiarResultado()},e.prototype.generarAtgajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarXivSueldo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarXivSueldo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarXivSueldo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirXivSueldo");return e&&e.click(),!1}))},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this);this.opciones=[{label:s.a.ACCION_CONSULTAR_CONTABLE,icon:s.a.ICON_CONSULTAR,command:function(){return e.verContable()}},{label:s.a.LABEL_IMPRIMIR_CONTABLE,icon:s.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirContable():null}},{label:s.a.LABEL_IMPRIMIR_COMPROBANTE,icon:s.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirComprobanteXiVSueldo():null}}]},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.limpiarResultado(),this.listaPeriodos=[],this.cargando=!0,this.periodoXivService.listaRhXivSueldoPeriodoTO({},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXivSueldoPeriodoTO=function(e){var t=this;this.listaPeriodos=e,this.listaPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.periodoSecuencial?this.listaPeriodos.find(function(e){return e.periodoSecuencial===t.periodoSeleccionado.periodoSecuencial}):this.listaPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas(0,0)},e.prototype.buscarXivSueldo=function(e){this.limpiarResultado(),this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.filasTiempo.iniciarContador();var o={empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,desde:this.periodoSeleccionado?this.periodoSeleccionado.xivDesde:null,hasta:this.periodoSeleccionado?this.periodoSeleccionado.xivHasta:null};this.xivSueldoListadoService.listaRhFunConsultarXivSueld(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarRhFunConsultarXivSueld=function(e){this.listaResultado=e,this.cargando=!1,this.filasTiempo.finalizarContador(),this.iniciarAgGrid()},e.prototype.imprimirXivSueldo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",periodo:this.periodoSeleccionado?this.periodoSeleccionado.xivDescripcion:"",fechaDesde:this.periodoSeleccionado?this.periodoSeleccionado.xivDesde:"",fechaHasta:this.periodoSeleccionado?this.periodoSeleccionado.xivHasta:"",fechaMaxima:this.periodoSeleccionado?this.periodoSeleccionado.xivFechaMaximaPago:"",rhFunXivSueldoConsultarTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteXivSueldoConsulta",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoXivSueldo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarXivSueldo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaDesde:this.periodoSeleccionado?this.periodoSeleccionado.xivDesde:"",fechaHasta:this.periodoSeleccionado?this.periodoSeleccionado.xivHasta:"",rhFunXivSueldoConsultarTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteXivSueldoConsulta",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoXivSueldo_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.imprimirContable=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t=[],o=new Ht.a;o.conEmpresa=this.empresaSeleccionada.empCodigo,o.conNumero=this.xivSueldoSeleccionado.xivNumero,o.conPeriodo=this.xivSueldoSeleccionado.xivPeriodo,o.conTipo=this.xivSueldoSeleccionado.xivTipo,t.push(o);var a={listadoPK:t};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteContableIndividual",a,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("Contable.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.imprimirComprobanteXiVSueldo=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={RhFunXivSueldoConsultarTO:this.xivSueldoSeleccionado,fechaMaxima:this.periodoSeleccionado.xivFechaMaximaPago};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteComprobanteXIVSueldo",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ComprobanteXivSueldo.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.xivSueldoListadoService.generarColumnas(this),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.ejecutarAccion=function(e){this.xivSueldoSeleccionado=e,this.imprimirContable()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.xivSueldoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},e.prototype.verContable=function(){this.xivSueldoSeleccionado.xivPeriodo&&this.xivSueldoSeleccionado.xivTipo&&this.xivSueldoSeleccionado.xivNumero?(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.xivSueldoSeleccionado.xivPeriodo+" | "+this.xivSueldoSeleccionado.xivTipo+" | "+this.xivSueldoSeleccionado.xivNumero,empresaSeleccionada:this.empresaSeleccionada,activar:!0,volverACargar:!0},this.activar=!0):this.toastr.warning(s.a.MSJ_NO_HAY_PARAMETROS_DE_BUSQUEDA,s.a.TAG_AVISO)},e.prototype.cerrarContabilidadAcciones=function(e){e.noIniciarAtajoPadre||(this.generarAtgajosTeclado(),this.activar=!1,this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarEstadoActivar=function(e){this.activar=e},Na([Object(a.ViewChild)("menuOpciones"),Da("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Na([Object(a.HostListener)("window:resize",["$event"]),Da("design:type",Function),Da("design:paramtypes",[]),Da("design:returntype",void 0)],e.prototype,"onResize",null),e=Na([Object(a.Component)({selector:"app-xiv-sueldo-listado",template:o("bJeX")}),Da("design:paramtypes",[g.ActivatedRoute,r.b,A.HotkeysService,x.a,c.a,n.a,Tt,O.a,Pa])],e)}(),Fa=o("4aKD"),xa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},wa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ga=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.toastr=t,this.atajoService=o,this.filasService=a,this.archivoService=i,this.utilService=r,this.periodoUtilidadesService=n,this.sectorService=c,this.utilidadesPrecalculadasService=l,this.listaEmpresas=[],this.listaResultado=[],this.listaPeriodos=[],this.listaSectores=[],this.sectorSeleccionado=new P.a,this.periodoSeleccionado=new Bt,this.empresaSeleccionada=new M.a,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listaEmpresas=this.route.snapshot.data.utilidadesPreCalculo,this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtgajosTeclado()}return e.prototype.ngOnInit=function(){},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.periodoSeleccionado=null,this.listarSectores(),this.listarPeriodos(),this.limpiarResultado()},e.prototype.generarAtgajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarUtilidades");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarUtilidades");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarUtilidades");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirUtilidades");return e&&e.click(),!1}))},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.limpiarResultado(),this.listaPeriodos=[],this.cargando=!0,this.periodoUtilidadesService.listaRhUtilidadesPeriodoTO({empresa:s.a.KEY_EMPRESA_SELECT},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhUtilidadesPeriodoTO=function(e){var t=this;this.listaPeriodos=e,this.listaPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.utiDescripcion?this.listaPeriodos.find(function(e){return e.utiDescripcion===t.periodoSeleccionado.utiDescripcion}):this.listaPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas(0,0)},e.prototype.buscarUtilidades=function(e){this.limpiarResultado(),this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.filasTiempo.iniciarContador();var o={empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,desde:this.periodoSeleccionado?this.periodoSeleccionado.utiDesde:null,hasta:this.periodoSeleccionado?this.periodoSeleccionado.utiHasta:null};this.utilidadesPrecalculadasService.listautilidadesPrecalculadas(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarutilidadesPrecalculadas=function(e){this.listaResultado=e,this.cargando=!1,this.filasTiempo.finalizarContador(),this.iniciarAgGrid()},e.prototype.imprimirUtilidades=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",periodo:this.periodoSeleccionado?this.periodoSeleccionado.utiDescripcion:"",fechaDesde:this.periodoSeleccionado?this.periodoSeleccionado.utiDesde:"",fechaHasta:this.periodoSeleccionado?this.periodoSeleccionado.utiHasta:"",fechaMaxima:this.periodoSeleccionado?this.periodoSeleccionado.utiFechaMaximaPago:"",rhFunUtilidadesCalcularTOs:this.listaResultado};this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteCalcularUtilidades",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("ListadoUtilidades.pdf",t):e.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarUtilidades=function(){var e=this;if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaDesde:this.periodoSeleccionado?this.periodoSeleccionado.utiDesde:"",fechaHasta:this.periodoSeleccionado?this.periodoSeleccionado.utiHasta:"",rhFunUtilidadesCalcularTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteCalcularUtilidades",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoUtilidades_"):e.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.utilidadesPrecalculadasService.generarColumnas(this),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.screamXS=window.innerWidth<s.a.WINDOW_WIDTH_XS},xa([Object(a.HostListener)("window:resize",["$event"]),wa("design:type",Function),wa("design:paramtypes",[]),wa("design:returntype",void 0)],e.prototype,"onResize",null),e=xa([Object(a.Component)({selector:"app-utilidades-precalculadas",template:o("ipJP")}),wa("design:paramtypes",[g.ActivatedRoute,r.b,A.HotkeysService,x.a,c.a,n.a,kt,O.a,Fa.a])],e)}(),Ba=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ja=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ua=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.verificarPermiso=function(e,t){var o=!1;switch(e){case s.a.ACCION_CONSULTAR:o=!0;break;case s.a.ACCION_IMPRIMIR:o=t.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:o=t.listaSisPermisoTO.gruExportar}return o},e.prototype.listarConsolidadoIngresos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhFunFormulario107_2013",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarConsolidadoIngresos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.exportarConsumosMensuales=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteConsolidadosDeIngresos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListaConsolidadoIngresos_"):a.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){return[{headerName:s.a.TAG_TIPO,field:"f107Tipo",width:80,minWidth:80,pinned:"left"},{headerName:s.a.TAG_IDENTIFICACION,field:"f107Id",width:150,minWidth:150,pinned:"left"},{headerName:s.a.TAG_APELLIDOS,field:"f107Apellidos",width:200,minWidth:200,pinned:"left"},{headerName:s.a.TAG_NOMBRES,field:"f107Nombres",width:200,minWidth:200,pinned:"left"},{headerName:s.a.TAG_ESTABLECIMIENTO,field:"f107Establecimiento",width:100,minWidth:100},{headerName:s.a.TAG_T_RESIDENCIA,field:"f107ResidenciaTipo",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_TIPO_RESIDENCIA,text:s.a.TAG_T_RESIDENCIA}},{headerName:s.a.TAG_P_RESIDENCIA,field:"f107ResidenciaPais",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_PAIS_RESIDENCIA,text:s.a.TAG_P_RESIDENCIA}},{headerName:s.a.TAG_CONVENIO,field:"f107Convenio",width:100,minWidth:100},{headerName:s.a.TAG_T_DISCAPACIDAD,field:"f107DiscapacidadTipo",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_TIPO_DISCAPACIDAD,text:s.a.TAG_T_DISCAPACIDAD}},{headerName:s.a.TAG_N_DISCAPACIDAD,field:"f107DiscapacidadIdNumero",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_NUMERO_DISCAPACIDAD,text:s.a.TAG_N_DISCAPACIDAD}},{headerName:s.a.TAG_SUELDO,field:"f107Sueldo",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_BONOS,field:"f107Bonos",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_UTILIDADES,field:"f107Utilidades",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_O_SUELDOS,field:"f107SueldoOtrosEmpleadores",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_OTROS_SUELDOS,text:s.a.TAG_O_SUELDOS},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_I_ASUMIDO,field:"f107ImpuestoAsumido",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_IMPUESTO_ASUMIDO,text:s.a.TAG_I_ASUMIDO},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_XIII_SUELDO,field:"f107XiiiSueldo",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_DECIMO_TERCER_SUELDO,text:s.a.TAG_XIII_SUELDO},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_XIV_SUELDO,field:"f107XivSueldo",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_DECIMO_CUARTO_SUELDO,text:s.a.TAG_XIV_SUELDO},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_FONDO_RESERVA,field:"f107FondoReserva",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_SALARIO_DIGNO,field:"f107SalarioDigno",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_DESAHUCIO,field:"f107Desahucio",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_SUBTOTAL,field:"f107Subtotal",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_SALARIO_NETO,field:"f107SalarioNeto",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_IESS,field:"f107Iess",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_O_IESS,field:"f107IessOtrosEmpleadores",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_OTROS_IESS,text:s.a.TAG_O_IESS},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_VIVIENDA,field:"f107Vivienda",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_SALUD,field:"f107Salud",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_EDUCACION,field:"f107Educacion",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_ALIMENTACION,field:"f107Alimentacion",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_VESTUARIO,field:"f107Vestuario",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_R_DISCAPACIDAD,field:"f107RebajaDiscapacitado",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_REBAJA_DISCAPACIDAD,text:s.a.TAG_R_DISCAPACIDAD},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_R_III_EDAD,field:"f107RebajaTerceraEdad",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_REBAJA_TERCERA_EDAD,text:s.a.TAG_R_III_EDAD},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_BASE_IMPONIBLE,field:"f107BaseImponible",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_IMP_CAUSADO,field:"f107ImpuestoCausado",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_IMPUESTO_CAUSADO,text:s.a.TAG_IMP_CAUSADO},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_O_IMP_ASUMIDO,field:"f107ImpuestoAsumidoOtrosEmpleadores",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_OTROS_IMPUESTO_ASUMIDO,text:s.a.TAG_O_IMP_ASUMIDO},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_IMP_ASUMIDO,field:"f107ImpuestoAsumido",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_IMPUESTO_ASUMIDO,text:s.a.TAG_IMP_ASUMIDO},cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_VALOR_RETENIDO,field:"f107ValorRetenido",width:100,minWidth:100,cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return null!==e.data.f107Id&&e.data.f107Id.length<13&&!e.data.f107EmpleadoInactivo?{icono:s.a.ICON_BUSCAR,tooltip:s.a.ACCION_VER_ROL_PAGO,accion:s.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:""}}]},e=Ba([Object(a.Injectable)({providedIn:"root"}),ja("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),ka=function(){function e(e){e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.f107Id=e.f107Id?e.f107Id:this.f107Id,this.f107Tipo=e.f107Tipo?e.f107Tipo:this.f107Tipo,this.f107Apellidos=e.f107Apellidos?e.f107Apellidos:this.f107Apellidos,this.f107Nombres=e.f107Nombres?e.f107Nombres:this.f107Nombres,this.f107Establecimiento=e.f107Establecimiento?e.f107Establecimiento:this.f107Establecimiento,this.f107ResidenciaTipo=e.f107ResidenciaTipo?e.f107ResidenciaTipo:this.f107ResidenciaTipo,this.f107ResidenciaPais=e.f107ResidenciaPais?e.f107ResidenciaPais:this.f107ResidenciaPais,this.f107Convenio=e.f107Convenio?e.f107Convenio:this.f107Convenio,this.f107DiscapacidadTipo=e.f107DiscapacidadTipo?e.f107DiscapacidadTipo:this.f107DiscapacidadTipo,this.f107DiscapacidadPorcentaje=e.f107DiscapacidadPorcentaje?e.f107DiscapacidadPorcentaje:this.f107DiscapacidadPorcentaje,this.f107DiscapacidadIdTipo=e.f107DiscapacidadIdTipo?e.f107DiscapacidadIdTipo:this.f107DiscapacidadIdTipo,this.f107DiscapacidadIdNumero=e.f107DiscapacidadIdNumero?e.f107DiscapacidadIdNumero:this.f107DiscapacidadIdNumero,this.f107Sueldo=e.f107Sueldo?e.f107Sueldo:this.f107Sueldo,this.f107Bonos=e.f107Bonos?e.f107Bonos:this.f107Bonos,this.f107Utilidades=e.f107Utilidades?e.f107Utilidades:this.f107Utilidades,this.f107SueldoOtrosEmpleadores=e.f107SueldoOtrosEmpleadores?e.f107SueldoOtrosEmpleadores:this.f107SueldoOtrosEmpleadores,this.f107ImpuestoAsumido=e.f107ImpuestoAsumido?e.f107ImpuestoAsumido:this.f107ImpuestoAsumido,this.f107XiiiSueldo=e.f107XiiiSueldo?e.f107XiiiSueldo:this.f107XiiiSueldo,this.f107XivSueldo=e.f107XivSueldo?e.f107XivSueldo:this.f107XivSueldo,this.f107FondoReserva=e.f107FondoReserva?e.f107FondoReserva:this.f107FondoReserva,this.f107SalarioDigno=e.f107SalarioDigno?e.f107SalarioDigno:this.f107SalarioDigno,this.f107Desahucio=e.f107Desahucio?e.f107Desahucio:this.f107Desahucio,this.f107Subtotal=e.f107Subtotal?e.f107Subtotal:this.f107Subtotal,this.f107SalarioNeto=e.f107SalarioNeto?e.f107SalarioNeto:this.f107SalarioNeto,this.f107Iess=e.f107Iess?e.f107Iess:this.f107Iess,this.f107IessOtrosEmpleadores=e.f107IessOtrosEmpleadores?e.f107IessOtrosEmpleadores:this.f107IessOtrosEmpleadores,this.f107Vivienda=e.f107Vivienda?e.f107Vivienda:this.f107Vivienda,this.f107Salud=e.f107Salud?e.f107Salud:this.f107Salud,this.f107Educacion=e.f107Educacion?e.f107Educacion:this.f107Educacion,this.f107Alimentacion=e.f107Alimentacion?e.f107Alimentacion:this.f107Alimentacion,this.f107Vestuario=e.f107Vestuario?e.f107Vestuario:this.f107Vestuario,this.f107RebajaDiscapacitado=e.f107RebajaDiscapacitado?e.f107RebajaDiscapacitado:this.f107RebajaDiscapacitado,this.f107RebajaTerceraEdad=e.f107RebajaTerceraEdad?e.f107RebajaTerceraEdad:this.f107RebajaTerceraEdad,this.f107BaseImponible=e.f107BaseImponible?e.f107BaseImponible:this.f107BaseImponible,this.f107ImpuestoCausado=e.f107ImpuestoCausado?e.f107ImpuestoCausado:this.f107ImpuestoCausado,this.f107ImpuestoAsumidoOtrosEmpleadores=e.f107ImpuestoAsumidoOtrosEmpleadores?e.f107ImpuestoAsumidoOtrosEmpleadores:this.f107ImpuestoAsumidoOtrosEmpleadores,this.f107ImpuestoAsumidoEsteEmpleador=e.f107ImpuestoAsumidoEsteEmpleador?e.f107ImpuestoAsumidoEsteEmpleador:this.f107ImpuestoAsumidoEsteEmpleador,this.f107Vestuario=e.f107ValorRetenido?e.f107ValorRetenido:this.f107ValorRetenido,this.f107EmpleadoInactivo=e.f107EmpleadoInactivo?e.f107EmpleadoInactivo:this.f107EmpleadoInactivo},e}(),Va=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Xa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ja=function(){function e(e,t,o,a,i,r,n,c,l){this.activeModal=e,this.route=t,this.utilService=o,this.filasService=a,this.consolidadoIngresosService=i,this.sistemaService=r,this.toastr=n,this.atajoService=c,this.empleadosService=l,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.classIcon=s.a.ICON_FILTRAR,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.listaResultado=[],this.activarInicial=!1,this.objetoContableEnviar=null,this.parametrosFormulario={},this.vistaRolPago=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.consolidadoIngresos,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.filaSeleccionada=new ka,this.obtenerFechaInicioFinMes(),this.generarAtajosTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.listadoConsolidadoIngresos=function(e){if(this.consolidadoIngresosService.verificarPermiso(s.a.ACCION_CONSULTAR,this.empresaSeleccionada)){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o={empresa:this.empresaSeleccionada.empCodigo,desde:this.fechaDesde,hasta:this.fechaHasta,status:"T"};this.consolidadoIngresosService.listarConsolidadoIngresos(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},e.prototype.despuesDeListarConsolidadoIngresos=function(e){e&&(this.listaResultado=e),this.cargando=!1,this.iniciarAgGrid()},e.prototype.ejecutarAccion=function(){this.verRolPago()},e.prototype.verRolPago=function(){if(null!==this.filaSeleccionada.f107Id&&this.filaSeleccionada.f107Id.length<13&&!this.filaSeleccionada.f107EmpleadoInactivo){var e=new $.a;e.rhEmpleadoPK.empId=this.filaSeleccionada.f107Id,e.empNombres=this.filaSeleccionada?this.filaSeleccionada.f107Nombres:"",this.parametrosFormulario={fechaDesde:this.fechaDesde,fechaHasta:this.fechaHasta,empleado:e,sectorSeleccionado:null,categoriaSeleccionada:null,empresaSeleccionada:this.empresaSeleccionada,visualizarSoloFechas:!0},this.vistaRolPago=!0}},e.prototype.cerrarRolPago=function(){this.parametrosFormulario=null,this.vistaRolPago=!1,this.generarAtajosTeclado()},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta),listaConsolidadoIngresos:this.listaResultado};this.consolidadoIngresosService.exportarConsumosMensuales(e,this,this.empresaSeleccionada)}},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1}))},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_VER_ROL_PAGO,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.verRolPago()}}]},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.consolidadoIngresosService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.filaSeleccionada=t?t.data:null},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.filaSeleccionada=e,null!==this.filaSeleccionada.f107Id&&this.filaSeleccionada.f107Id.length<13&&!this.filaSeleccionada.f107EmpleadoInactivo&&this.filaSeleccionada.f107Nombres&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.isScreamMd=!(this.innerWidth<=576),this.isScreamMd=!(this.innerWidth<=576)},Va([Object(a.Input)(),Xa("design:type",Boolean)],e.prototype,"isModal",void 0),Va([Object(a.Input)(),Xa("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),Va([Object(a.ViewChild)("excelDownload"),Xa("design:type",Object)],e.prototype,"excelDownload",void 0),Va([Object(a.Input)(),Xa("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Va([Object(a.ViewChild)("menuOpciones"),Xa("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Va([Object(a.HostListener)("window:resize",["$event"]),Xa("design:type",Function),Xa("design:paramtypes",[]),Xa("design:returntype",void 0)],e.prototype,"onResize",null),e=Va([Object(a.Component)({selector:"app-consolidado-ingresos",template:o("b2+5"),styles:[o("zD90")]}),Xa("design:paramtypes",[re.a,g.ActivatedRoute,n.a,x.a,Ua,v.a,r.b,A.HotkeysService,q.a])],e)}(),Ha=o("ecmD"),Wa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ya=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ka=function(){function e(e,t,o,a,i,r,n,s){this.route=e,this.utilService=t,this.categoriaService=o,this.formaPagoService=a,this.sistemaService=i,this.toastr=r,this.modalService=n,this.atajoService=s,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.estadoformulario=!1,this.isScreamMd=!0,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.mostrarListado=!1,this.listaCategorias=new Array,this.listaFormaPago=new Array,this.formaPagoSeleccionado=new Ha.a,this.trabajador=new $.a,this.codigoEmpleado=null}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.anticipoDetalle,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.obtenerFechaInicioFinMes(),this.categoriaSeleccionada=new N},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.codigoEmpleado=null,this.categoriaSeleccionada=null,this.formaPagoSeleccionado=null,this.validarEmpleado(),this.listarCategorias(),this.listarFormasPago(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.parametrosListado=null},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.listarCategorias=function(){this.cargando=!0,this.limpiarResultado(),this.listaCategorias=[];var e={empresa:s.a.KEY_EMPRESA_SELECT};this.categoriaService.listarComboRhCategoriaTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboRhCategoriaTO=function(e){this.cargando=!1,this.listaCategorias=e},e.prototype.listarFormasPago=function(){this.limpiarResultado(),this.listaFormaPago=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.formaPagoService.listarComboRhFormaPagoTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDelistarComboRhFormaPagoTO=function(e){this.cargando=!1,this.listaFormaPago=e},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.trabajador.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.trabajador.empNombres="",this.trabajador.rhEmpleadoPK.empId="",this.limpiarResultado())},e.prototype.abrirModalTrabajadores=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.trabajador.rhEmpleadoPK.empId===this.codigoEmpleado&&this.trabajador.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.trabajador.rhEmpleadoPK.empId=""===this.trabajador.rhEmpleadoPK.empId?null:this.trabajador.rhEmpleadoPK.empId,this.trabajador.rhEmpleadoPK.empId=this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId.toUpperCase():null,this.trabajador.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.trabajador.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){if(e){t.trabajador=e,t.trabajador.empNombres=e?e.empApellidos+" "+e.empNombres:"",t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null;var o=document.getElementById("trabajador");o&&o.focus(),t.generarAtajosTeclado()}},function(){var e=document.getElementById("trabajador");e&&e.focus(),t.generarAtajosTeclado()})}},e.prototype.listarDetalleAnticipos=function(e,t){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var o=this.utilService.establecerFormularioTocado(t);t&&t.valid&&o?(this.parametrosListado={empCodigo:this.empresaSeleccionada.empCodigo,fechaDesde:this.fechaDesde,fechaHasta:this.fechaHasta,empCategoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null,empId:this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId:null,formaPago:this.formaPagoSeleccionado?this.formaPagoSeleccionado.ctaCodigo:null,parametro:e},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e.prototype.ejecutarAccion=function(e){switch(e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado}},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},Wa([Object(a.Input)(),Ya("design:type",Boolean)],e.prototype,"isModal",void 0),Wa([Object(a.Input)(),Ya("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),e=Wa([Object(a.Component)({selector:"app-detalle-anticipos",template:o("aujj"),styles:[o("z++M")]}),Ya("design:paramtypes",[g.ActivatedRoute,n.a,I,oe.a,v.a,r.b,re.b,A.HotkeysService])],e)}(),za=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},qa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$a=function(){function e(e,t,o,a,i,r,n,s){this.activeModal=e,this.route=t,this.utilService=o,this.categoriaService=a,this.sistemaService=i,this.toastr=r,this.modalService=n,this.atajoService=s,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.mostrarListado=!1,this.estadoformulario=!1,this.listaCategorias=new Array,this.trabajador=new $.a,this.codigoEmpleado=null}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.prestamoDetalle,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.obtenerFechaInicioFinMes(),this.categoriaSeleccionada=null},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.codigoEmpleado=null,this.categoriaSeleccionada=null,this.validarEmpleado(),this.listarCategorias(),this.limpiarResultado()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.parametrosListado=null},e.prototype.listarCategorias=function(){this.limpiarResultado(),this.listaCategorias=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){this.cargando=!1,this.listaCategorias=e},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.trabajador.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.trabajador.empNombres="",this.trabajador.rhEmpleadoPK.empId="",this.limpiarResultado())},e.prototype.abrirModalTrabajadores=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.trabajador.rhEmpleadoPK.empId===this.codigoEmpleado&&this.trabajador.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.trabajador.rhEmpleadoPK.empId=""===this.trabajador.rhEmpleadoPK.empId?null:this.trabajador.rhEmpleadoPK.empId,this.trabajador.rhEmpleadoPK.empId=this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId.toUpperCase():null,this.trabajador.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.trabajador.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){if(e){t.trabajador=e,t.trabajador.empNombres=e?e.empApellidos+" "+e.empNombres:"",t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null;var o=document.getElementById("trabajador");o&&o.focus(),t.generarAtajosTeclado()}},function(){var e=document.getElementById("trabajador");e&&e.focus(),t.generarAtajosTeclado()})}},e.prototype.listarDetallePrestamos=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?(this.parametrosListado={empCodigo:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta),empCategoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:"",empId:this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId:""},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e.prototype.ejecutarAccion=function(e){switch(e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado}},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},za([Object(a.Input)(),qa("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),e=za([Object(a.Component)({selector:"app-detalle-prestamos",template:o("zfDg"),styles:[o("cmPQ")]}),qa("design:paramtypes",[re.a,g.ActivatedRoute,n.a,I,v.a,r.b,re.b,A.HotkeysService])],e)}(),Qa=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Za=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ei=function(){function e(e,t,o,a,i,r,n,s){this.activeModal=e,this.route=t,this.utilService=o,this.categoriaService=a,this.sistemaService=i,this.modalService=r,this.toastr=n,this.atajoService=s,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.mostrarListado=!1,this.estadoformulario=!1,this.listaCategorias=new Array,this.trabajador=new $.a,this.codigoEmpleado=null}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.anticipoPrestamoDetalle,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.definirAtajosDeTeclado(),this.obtenerFechaInicioFinMes(),this.categoriaSeleccionada=null},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.categoriaSeleccionada=null,this.codigoEmpleado=null,this.validarEmpleado(),this.listarCategorias(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.parametrosListado=null},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.listarCategorias=function(){this.limpiarResultado(),this.listaCategorias=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){this.cargando=!1,this.listaCategorias=e},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.trabajador.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.trabajador.empNombres="",this.trabajador.rhEmpleadoPK.empId="",this.limpiarResultado())},e.prototype.abrirModalTrabajadores=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.trabajador.rhEmpleadoPK.empId===this.codigoEmpleado&&this.trabajador.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.trabajador.rhEmpleadoPK.empId=""===this.trabajador.rhEmpleadoPK.empId?null:this.trabajador.rhEmpleadoPK.empId,this.trabajador.rhEmpleadoPK.empId=this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId.toUpperCase():null,this.trabajador.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.trabajador.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){if(e){t.trabajador=e,t.trabajador.empNombres=e?e.empApellidos+" "+e.empNombres:"",t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null;var o=document.getElementById("trabajador");o&&o.focus(),t.definirAtajosDeTeclado()}},function(){var e=document.getElementById("trabajador");e&&e.focus(),t.definirAtajosDeTeclado()})}},e.prototype.listarDetalleAnticiposPrestamos=function(e,t){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var o=this.utilService.establecerFormularioTocado(t);t&&t.valid&&o?(this.parametrosListado={empCodigo:this.empresaSeleccionada.empCodigo,fechaDesde:this.fechaDesde,fechaHasta:this.fechaHasta,empCategoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:"",empId:this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId:"",parametro:e},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e.prototype.ejecutarAccion=function(e){switch(e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado}},Qa([Object(a.Input)(),Za("design:type",Boolean)],e.prototype,"isModal",void 0),Qa([Object(a.Input)(),Za("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),e=Qa([Object(a.Component)({selector:"app-detalle-anticipos-prestamos",template:o("cw8D"),styles:[o("t89o")]}),Za("design:paramtypes",[re.a,g.ActivatedRoute,n.a,I,v.a,re.b,r.b,A.HotkeysService])],e)}(),ti=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},oi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ai=function(){function e(e,t,o,a,i,r,n,s){this.route=e,this.utilService=t,this.filasService=o,this.categoriaService=a,this.sistemaService=i,this.modalService=r,this.toastr=n,this.atajoService=s,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.mostrarListado=!1,this.listaCategorias=new Array,this.trabajador=new $.a,this.codigoEmpleado=null,this.estadoformulario=!1}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.consolidadosAnticiposPrestamos,this.isScreamMd=!(window.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.obtenerFechaInicioFinMes(),this.categoriaSeleccionada=null},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.categoriaSeleccionada=null,this.codigoEmpleado=null,this.validarEmpleado(),this.listarCategorias(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.parametrosListado=null,this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.listarCategorias=function(){this.limpiarResultado(),this.listaCategorias=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){this.cargando=!1,this.listaCategorias=e},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.trabajador.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.trabajador.empNombres="",this.trabajador.rhEmpleadoPK.empId="",this.limpiarResultado())},e.prototype.abrirModalTrabajadores=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.trabajador.rhEmpleadoPK.empId===this.codigoEmpleado&&this.trabajador.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.trabajador.rhEmpleadoPK.empId=""===this.trabajador.rhEmpleadoPK.empId?null:this.trabajador.rhEmpleadoPK.empId,this.trabajador.rhEmpleadoPK.empId=this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId.toUpperCase():null,this.trabajador.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.trabajador.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){if(e){t.trabajador=e,t.trabajador.empNombres=e?e.empApellidos+" "+e.empNombres:"",t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null;var o=document.getElementById("trabajador");o&&o.focus(),t.filasService.actualizarFilas("0","0"),t.generarAtajosTeclado()}},function(){var e=document.getElementById("trabajador");e&&e.focus(),t.filasService.actualizarFilas("0","0"),t.generarAtajosTeclado()})}},e.prototype.listarDetallePrestamos=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?(this.parametrosListado={empCodigo:this.empresaSeleccionada.empCodigo,fechaDesde:this.fechaDesde,fechaHasta:this.fechaHasta,empCategoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:"",empId:this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId:"",formaPago:null},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.ejecutarAccion=function(e){switch(e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado}},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},ti([Object(a.Input)(),oi("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),e=ti([Object(a.Component)({selector:"app-consolidado-anticipos-prestamos",template:o("vq8R"),styles:[o("Cz1q")]}),oi("design:paramtypes",[g.ActivatedRoute,n.a,x.a,I,v.a,re.b,r.b,A.HotkeysService])],e)}(),ii=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ri=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ni=function(){function e(e,t,o,a,i,r,n,s,c){this.activeModal=e,this.route=t,this.utilService=o,this.filasService=a,this.categoriaService=i,this.modalService=r,this.atajoService=n,this.toastr=s,this.sistemaService=c,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.mostrarListado=!1,this.estadoformulario=!1,this.listaCategorias=new Array,this.listaDeducible={},this.trabajador=new $.a,this.codigoEmpleado=null}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.bonoDetalle,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.listaDeducible=s.a.LISTA_DEDUCIBLE,this.deducibleSeleccionado=this.listaDeducible[2],this.generarAtajosTeclado(),this.obtenerFechaInicioFinMes(),this.categoriaSeleccionada=new N},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.categoriaSeleccionada=null,this.codigoEmpleado=null,this.validarEmpleado(),this.listarCategorias(),this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.parametrosListado=null,this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.listarCategorias=function(){this.limpiarResultado(),this.listaCategorias=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){this.cargando=!1,this.listaCategorias=e},e.prototype.validarEmpleado=function(){this.codigoEmpleado!==this.trabajador.rhEmpleadoPK.empId&&(this.codigoEmpleado=null,this.trabajador.empNombres="",this.trabajador.rhEmpleadoPK.empId="",this.limpiarResultado())},e.prototype.abrirModalTrabajadores=function(e){var t=this;if(this.utilService.validarTeclasAgregarFila(e.keyCode)&&(!(this.trabajador.rhEmpleadoPK.empId===this.codigoEmpleado&&this.trabajador.rhEmpleadoPK.empId&&this.codigoEmpleado)&&(this.trabajador.rhEmpleadoPK.empId=""===this.trabajador.rhEmpleadoPK.empId?null:this.trabajador.rhEmpleadoPK.empId,this.trabajador.rhEmpleadoPK.empId=this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId.toUpperCase():null,this.trabajador.rhEmpleadoPK.empId))){var o={empresa:this.empresaSeleccionada.empCodigo,buscar:this.trabajador.rhEmpleadoPK.empId,estado:!0};e.srcElement.blur(),e.preventDefault();var a=this.modalService.open(fo.a,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.parametrosBusqueda=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.isModal=!0,a.result.then(function(e){if(e){t.trabajador=e,t.trabajador.empNombres=e?e.empApellidos+" "+e.empNombres:"",t.codigoEmpleado=e?e.rhEmpleadoPK.empId:null;var o=document.getElementById("trabajador");o&&o.focus(),t.filasService.actualizarFilas("0","0"),t.definirAtajosDeTeclado()}},function(){var e=document.getElementById("trabajador");e&&e.focus(),t.filasService.actualizarFilas("0","0"),t.definirAtajosDeTeclado()})}},e.prototype.listarDetallePrestamos=function(e,t){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var o=this.utilService.establecerFormularioTocado(t);t&&t.valid&&o?(this.parametrosListado={empCodigo:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta),empCategoria:this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null,empId:this.trabajador.rhEmpleadoPK.empId?this.trabajador.rhEmpleadoPK.empId:null,nombreEmpleado:this.trabajador.rhEmpleadoPK.empId?this.trabajador.empNombres+" "+this.trabajador.empApellidos:s.a.TAG_TODOS_MAYUSCULA,estadoDeducible:this.deducibleSeleccionado,parametro:e},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e.prototype.ejecutarAccion=function(e){switch(e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado}},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},ii([Object(a.Input)(),ri("design:type",Boolean)],e.prototype,"isModal",void 0),ii([Object(a.Input)(),ri("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),e=ii([Object(a.Component)({selector:"app-detalle-bonos",template:o("OtRb"),styles:[o("FNbA")]}),ri("design:paramtypes",[re.a,g.ActivatedRoute,n.a,x.a,I,re.b,A.HotkeysService,r.b,v.a])],e)}(),si=function(){function e(e){e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.dalFecha=e.dalFecha?e.dalFecha:this.dalFecha,this.dalFecha=e.dalFecha?e.dalFecha:this.dalFecha,this.dalId=e.dalId?e.dalId:this.dalId,this.dalNombres=e.dalNombres?e.dalNombres:this.dalNombres,this.dalValor=e.dalValor?e.dalValor:this.dalValor,this.dalFormaPagoDetalle=e.dalFormaPagoDetalle?e.dalFormaPagoDetalle:this.dalFormaPagoDetalle,this.dalDocumento=e.dalDocumento?e.dalDocumento:this.dalDocumento,this.dalObservaciones=e.dalObservaciones?e.dalObservaciones:this.dalObservaciones},e}(),ci=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},li=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},di=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarSoporteContableAnticipo=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhDetalleAnticiposLoteTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarSoporteContableAnticipo(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirSoporteContableAnticipo=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteConsultaAnticiposLote",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoSoporteContableAnticipo_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.imprimirSoporteContableIndividual=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteAnticipoLoteIndividual",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoSoporteContableAnticipoIndividual_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.imprimirSoporteContablePaContable=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteContable",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ConContableReport_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarSoporteContable=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarDetalleAnticiposLoteTO",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoSoporteContableAnticipo_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:"",field:"",headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0,width:38,minWidth:38,maxWidth:38},{headerName:s.a.TAG_FECHA,width:100,minWidth:100,field:"dalFecha"},{headerName:s.a.TAG_NUMERO_IDENTIFICACION,width:200,minWidth:200,field:"dalId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"dalNombres",cellClass:function(e){return e.data.dalId?"":"tr-negrita"}},{headerName:s.a.TAG_FORMA_PAGO,width:150,minWidth:150,field:"dalFormaPagoDetalle"},{headerName:s.a.TAG_NUMERO_DOCUMENTO,width:150,minWidth:150,field:"dalDocumento"},{headerName:s.a.TAG_VALOR,width:100,minWidth:100,field:"dalValor",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.dalId?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_OBSERVACION,width:150,minWidth:150,field:"dalObservaciones"}),e&&t.push(this.utilService.getSpanSelect()),t},e.prototype.generarPinnedBottonRowData=function(){return[{dpCategoria:"",dpFecha:"",dpObservaciones:"",dpNombres:s.a.TAG_TOTAL,dpValor:0,dpFormaPago:"",dpDocumento:"",dpContable:""}]},e=ci([Object(a.Injectable)({providedIn:"root"}),li("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),pi=function(){function e(e){this.comprobante="",this.fecha="",this.cedula="",this.nombres="",this.cargo="",this.nombreSector="",this.valor=0,this.formaPago="",this.referencia="",this.observaciones="",this.sueldo=0,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.comprobante=e.comprobante?e.comprobante:this.comprobante,this.fecha=e.fecha?e.fecha:this.fecha,this.cedula=e.cedula?e.cedula:this.cedula,this.nombres=e.nombres?e.nombres:this.nombres,this.cargo=e.cargo?e.cargo:this.cargo,this.nombreSector=e.nombreSector?e.nombreSector:this.nombreSector,this.valor=e.valor?e.valor:this.valor,this.formaPago=e.formaPago?e.formaPago:this.formaPago,this.referencia=e.referencia?e.referencia:this.referencia,this.observaciones=e.observaciones?e.observaciones:this.observaciones,this.sueldo=e.sueldo?e.sueldo:this.sueldo},e}(),mi=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},ui=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hi=function(){function e(e,t,o,a,i,r,n,s,c,l,d){this.activeModal=e,this.route=t,this.utilService=o,this.filasService=a,this.atajoService=i,this.toastr=r,this.planContableService=n,this.tipoContableService=s,this.cdRef=c,this.soporteContableAnticipoService=l,this.periodoService=d,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.es={},this.mostrarListado=!1,this.numeroContable="",this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.listaTipoContable=new Array,this.listaPeriodo=new Array,this.listaResultado=new Array,this.listaResultadoTotal=new Array,this.objetoSeleccionado=new si,this.rhReporteAnticipoOprestamos=new Array,this.filtroGlobal="",this.filasTiempo=new D.a,this.columnDefs=[],this.columnDefsSelected=[],this.tamanioEstructura=0,this.enterKey=0}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.anticipoDetalleLote,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajos(),this.tipoContableSeleccionado=new Ne.a,this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){var e=this;s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.tipoContableSeleccionado=null,this.periodoSeleccionado=null,this.numeroContable=null,this.listarTipos(),this.listarPeriodos(),this.limpiarResultado(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},s.a.KEY_EMPRESA_SELECT).then(function(t){e.tamanioEstructura=t[0].estGrupo1+t[0].estGrupo2+t[0].estGrupo3+t[0].estGrupo4+t[0].estGrupo5+t[0].estGrupo6}).catch(function(t){e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.parametrosListado=null,this.filasService.actualizarFilas("0","0")},e.prototype.listarTipos=function(){this.listaTipoContable=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){var t=this;e.length>0?(this.listaTipoContable=e,this.tipoContableSeleccionado=this.tipoContableSeleccionado&&this.tipoContableSeleccionado.tipCodigo?this.listaTipoContable.find(function(e){return e.tipCodigo===t.tipoContableSeleccionado.tipCodigo}):this.listaTipoContable[0]):this.tipoContableSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.listaPeriodo=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.periodoService.listarPeriodos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPeriodos=function(e){var t=this;e.length>0?(this.listaPeriodo=e,this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.sisPeriodoPK.perCodigo?this.listaPeriodo.find(function(e){return e.sisPeriodoPK.perCodigo===t.periodoSeleccionado.sisPeriodoPK.perCodigo}):this.listaPeriodo[0]):this.periodoSeleccionado=null,this.cargando=!1},e.prototype.listarSoporteContableAnticipo=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaResultado=new Array;var o={empresa:s.a.KEY_EMPRESA_SELECT,periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable};this.soporteContableAnticipoService.listarSoporteContableAnticipo(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},e.prototype.despuesDeListarSoporteContableAnticipo=function(e){this.filasTiempo.finalizarContador(),e[0].dalId?(this.listaResultadoTotal=e.slice(),this.pinnedBottomRowData=this.soporteContableAnticipoService.generarPinnedBottonRowData(),this.pinnedBottomRowData[0].dalNombres=e[e.length-1].dalNombres,this.pinnedBottomRowData[0].dalValor=e[e.length-1].dalValor,this.listaResultado=e,this.listaResultado.pop()):this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.cargando=!1},e.prototype.soloNumeros=function(e){return this.utilService.soloNumeros(e)},e.prototype.ejecutarAccion=function(){this.consultarAnticipo()},e.prototype.verContable=function(){this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.periodoSeleccionado.sisPeriodoPK.perCodigo+"|"+this.tipoContableSeleccionado.tipCodigo+"|"+this.numeroContable,listadoSectores:[],tamanioEstructura:this.tamanioEstructura,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:this.tipoContableSeleccionado,listaPeriodos:[],volverACargar:!1},this.cdRef.detectChanges()},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones,this.filasService.actualizarFilas("0","0"),this.generarAtajos()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.consultarAnticipo=function(){this.verContable()},e.prototype.completarCeros=function(){this.numeroContable=this.utilService.completarCeros(this.numeroContable)},e.prototype.imprimir=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0))switch(this.cargando=!0,e){case s.a.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO_LOTE:this.cargando=!0;var t={listaDetalleAnticiposLoteTO:this.listaResultadoTotal,nombre:e,periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable};this.soporteContableAnticipoService.imprimirSoporteContableAnticipo(t,this,this.empresaSeleccionada);break;case s.a.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO:if(this.cargando=!0,this.utilService.getAGSelectedData(this.gridApi).length>0){this.convertirRhReporteAnticipoPrestamos();t={listaDetalleAnticiposLoteTO:this.rhReporteAnticipoOprestamos,nombre:e};this.soporteContableAnticipoService.imprimirSoporteContableIndividual(t,this,this.empresaSeleccionada)}else this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TOAST_INFORMACION),this.cargando=!1;break;case s.a.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO_FIRMA_COLECTIVA:this.cargando=!1;t={listaDetalleAnticiposLoteTO:this.utilService.getAGSelectedData(this.gridApi).length>0?this.utilService.getAGSelectedData(this.gridApi):this.listaResultado,nombre:e};break;case s.a.NOMBRE_REPORTE_COMPROBANTE_CONTABLE:if(this.cargando=!0,this.utilService.getAGSelectedData(this.gridApi).length>0){t={periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable,nombre:e};this.soporteContableAnticipoService.imprimirSoporteContablePaContable(t,this,this.empresaSeleccionada)}else this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TOAST_INFORMACION),this.cargando=!1}},e.prototype.convertirRhReporteAnticipoPrestamos=function(){var e=this;this.listaResultadoTotal.forEach(function(t){var o=new pi;o.comprobante=e.periodoSeleccionado.sisPeriodoPK.perCodigo+" | "+e.tipoContableSeleccionado.tipCodigo+" | "+e.numeroContable,o.fecha=t.dalFecha,o.cedula=t.dalId,o.nombres=t.dalNombres,o.cargo="",o.nombreSector="",o.valor=t.dalValor,o.formaPago=t.dalFormaPagoDetalle,o.referencia=t.dalDocumento,o.observaciones=t.dalObservaciones,e.rhReporteAnticipoOprestamos.push(o)})},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable,listaDetalleAnticiposLoteTO:this.listaResultadoTotal};this.soporteContableAnticipoService.exportarSoporteContable(e,this,this.empresaSeleccionada)}},e.prototype.generarAtajos=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimir");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.soporteContableAnticipoService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},mi([Object(a.Input)(),ui("design:type",Boolean)],e.prototype,"isModal",void 0),mi([Object(a.Input)(),ui("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),mi([Object(a.ViewChild)("menuOpciones"),ui("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),mi([Object(a.HostListener)("document:keydown",["$event"]),ui("design:type",Function),ui("design:paramtypes",[KeyboardEvent]),ui("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=mi([Object(a.Component)({selector:"app-soporte-contable-anticipo",template:o("auJR"),styles:[o("O6GA")]}),ui("design:paramtypes",[re.a,g.ActivatedRoute,n.a,x.a,A.HotkeysService,r.b,ne.a,J.a,a.ChangeDetectorRef,di,ia.a])],e)}(),vi=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},fi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ai=function(){function e(e,t,o,a,i,r){this.activeModal=e,this.route=t,this.utilService=o,this.atajoService=a,this.toastr=i,this.sistemaService=r,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.classIcon=s.a.ICON_FILTRAR,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.mostrarListado=!1}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.saldosConsolidadosBonosViaticos,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.obtenerFechaInicioFinMes()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.parametrosListado=null},e.prototype.listarDetalleAnticipos=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?(this.parametrosListado={empCodigo:this.empresaSeleccionada.empCodigo,fechaHasta:this.fechaHasta},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},vi([Object(a.Input)(),fi("design:type",Boolean)],e.prototype,"isModal",void 0),vi([Object(a.ViewChild)("excelDownload"),fi("design:type",Object)],e.prototype,"excelDownload",void 0),vi([Object(a.Input)(),fi("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),e=vi([Object(a.Component)({selector:"app-saldos-consolidados-bonos",template:o("1pVl"),styles:[o("YVQv")]}),fi("design:paramtypes",[re.a,g.ActivatedRoute,n.a,A.HotkeysService,r.b,v.a])],e)}(),gi=function(){function e(e){this.dblFecha="",this.dblId="",this.dblNombres="",this.dblValor=0,this.dblFormaPagoDetalle="",this.dblDocumento="",this.dblObservaciones="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.dblFecha=e.dblFecha?e.dblFecha:this.dblFecha,this.dblId=e.dblId?e.dblId:this.dblId,this.dblNombres=e.dblNombres?e.dblNombres:this.dblNombres,this.dblValor=e.dblValor?e.dblValor:this.dblValor,this.dblFormaPagoDetalle=e.dblFormaPagoDetalle?e.dblFormaPagoDetalle:this.dblFormaPagoDetalle,this.dblDocumento=e.dblDocumento?e.dblDocumento:this.dblDocumento,this.dblObservaciones=e.dblObservaciones?e.dblObservaciones:this.dblObservaciones},e}(),bi=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Si=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ci=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarSoporteContableBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhDetalleBonosLoteTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarSoporteContableBonos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirSoporteContableBonos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteDetalleBonosLote",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoSoporteContableBonos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.imprimirContable=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteContable",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ConContableReport_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarSoporteContableBonos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteSoporteContableDeBono",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoSoporteContableBonos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:"",field:"",headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0,width:38,minWidth:38,maxWidth:38},{headerName:s.a.TAG_FECHA,width:100,minWidth:100,field:"dblFecha"},{headerName:s.a.TAG_NUMERO_IDENTIFICACION,width:200,minWidth:200,field:"dblId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"dblNombres",cellClass:function(e){return e.data.dblId?"":"tr-negrita"}},{headerName:s.a.TAG_FORMA_PAGO,width:150,minWidth:150,field:"dblFormaPagoDetalle"},{headerName:s.a.TAG_NUMERO_DOCUMENTO,width:150,minWidth:150,field:"dblDocumento"},{headerName:s.a.TAG_VALOR,width:100,minWidth:100,field:"dblValor",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.dalId?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_OBSERVACION,width:150,minWidth:150,field:"dblObservaciones"}),e&&t.push(this.utilService.getSpanSelect()),t},e.prototype.generarPinnedBottonRowData=function(){return[{dblFecha:"",dblId:"",dblNombres:"",dblFormaPagoDetalle:"",dblDocumento:"",dblValor:"",dblObservaciones:""}]},e=bi([Object(a.Injectable)({providedIn:"root"}),Si("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),Ii=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ri=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Oi=function(){function e(e,t,o,a,i,r,n,s,c,l,d){this.activeModal=e,this.route=t,this.utilService=o,this.filasService=a,this.atajoService=i,this.toastr=r,this.cdRef=n,this.tipoContableService=s,this.planContableService=c,this.soporteContableBonosService=l,this.periodoService=d,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.es={},this.mostrarListado=!1,this.numeroContable="",this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.listaTipoContable=new Array,this.listaPeriodo=new Array,this.listaResultado=new Array,this.listaResultadoTotal=new Array,this.objetoSeleccionado=new gi,this.filtroGlobal="",this.filasTiempo=new D.a,this.columnDefs=[],this.columnDefsSelected=[],this.tamanioEstructura=0,this.enterKey=0}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.bonoDetalleLote,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajos(),this.tipoContableSeleccionado=new Ne.a,this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){var e=this;s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.tipoContableSeleccionado=null,this.periodoSeleccionado=null,this.numeroContable=null,this.listarTipos(),this.listarPeriodos(),this.limpiarResultado(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},s.a.KEY_EMPRESA_SELECT).then(function(t){e.tamanioEstructura=t[0].estGrupo1+t[0].estGrupo2+t[0].estGrupo3+t[0].estGrupo4+t[0].estGrupo5+t[0].estGrupo6}).catch(function(t){e.utilService.handleError(t,e)})},e.prototype.soloNumeros=function(e){return this.utilService.soloNumeros(e)},e.prototype.completarCeros=function(){this.numeroContable=this.utilService.completarCeros(this.numeroContable)},e.prototype.limpiarResultado=function(){this.parametrosListado=null,this.filasService.actualizarFilas("0","0")},e.prototype.listarTipos=function(){this.limpiarResultado(),this.listaTipoContable=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.tipoContableService.listarTipoContable(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarTipoContable=function(e){var t=this;this.listaTipoContable=e,this.listaTipoContable.length>0?this.tipoContableSeleccionado=this.tipoContableSeleccionado&&this.tipoContableSeleccionado.tipCodigo?this.listaTipoContable.find(function(e){return e.tipCodigo===t.tipoContableSeleccionado.tipCodigo}):this.listaTipoContable[0]:this.tipoContableSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.limpiarResultado(),this.listaPeriodo=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.periodoService.listarPeriodos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPeriodos=function(e){var t=this;this.listaPeriodo=e,this.listaPeriodo.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.sisPeriodoPK.perCodigo?this.listaPeriodo.find(function(e){return e.sisPeriodoPK.perCodigo===t.periodoSeleccionado.sisPeriodoPK.perCodigo}):this.listaPeriodo[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.listarSoporteContableAnticipo=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaResultado=new Array;var o={empresa:s.a.KEY_EMPRESA_SELECT,periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable};this.soporteContableBonosService.listarSoporteContableBonos(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},e.prototype.despuesDeListarSoporteContableBonos=function(e){this.filasTiempo.finalizarContador(),e[0].dblId?(this.listaResultadoTotal=e.slice(),this.pinnedBottomRowData=this.soporteContableBonosService.generarPinnedBottonRowData(),this.pinnedBottomRowData[0].dblNombres=e[e.length-1].dblNombres,this.pinnedBottomRowData[0].dblValor=e[e.length-1].dblValor,this.listaResultado=e,this.listaResultado.pop()):this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.cargando=!1},e.prototype.ejecutarAccion=function(){this.consultarAnticipo()},e.prototype.verContable=function(){this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.periodoSeleccionado.sisPeriodoPK.perCodigo+"|"+this.tipoContableSeleccionado.tipCodigo+"|"+this.numeroContable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:this.tipoContableSeleccionado,tamanioEstructura:this.tamanioEstructura,listaPeriodos:[],listadoSectores:[],volverACargar:!0},this.cdRef.detectChanges()},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones,this.filasService.actualizarFilas("0","0"),this.cdRef.detectChanges(),this.generarAtajos()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.consultarAnticipo=function(){this.verContable()},e.prototype.generarAtajos=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimir");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e.prototype.imprimir=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={};switch(e){case s.a.NOMBRE_REPORTE_COMPROBANTE_BONOS_LOTE:this.cargando=!1,t={listaDetalleBonosLoteTO:this.listaResultadoTotal,periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable,nombre:e};break;case s.a.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO:this.cargando=!1,(o=this.utilService.getAGSelectedData(this.gridApi)).length>0?t={listaDetalleAnticiposLoteTO:o,periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable,nombre:e}:(this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TOAST_INFORMACION),this.cargando=!1);break;case s.a.NOMBRE_REPORTE_DETALLE_ANTICIPOS_FIRMA_COLECTIVA:this.cargando=!1;break;case s.a.NOMBRE_REPORTE_COMPROBANTE_CONTABLE:var o;this.cargando=!0,(o=this.utilService.getAGSelectedData(this.gridApi)).length>0?(t={periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoContableSeleccionado.tipCodigo,numero:this.numeroContable,nombre:e},this.soporteContableBonosService.imprimirContable(t,this,this.empresaSeleccionada)):(this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TOAST_INFORMACION),this.cargando=!1)}}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={listaSoporteContableBonoTO:this.listaResultado};this.soporteContableBonosService.exportarSoporteContableBonos(e,this,this.empresaSeleccionada)}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.soporteContableBonosService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="multiple",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},Ii([Object(a.Input)(),Ri("design:type",Boolean)],e.prototype,"isModal",void 0),Ii([Object(a.ViewChild)("excelDownload"),Ri("design:type",Object)],e.prototype,"excelDownload",void 0),Ii([Object(a.Input)(),Ri("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Ii([Object(a.ViewChild)("menuOpciones"),Ri("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Ii([Object(a.HostListener)("document:keydown",["$event"]),Ri("design:type",Function),Ri("design:paramtypes",[KeyboardEvent]),Ri("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=Ii([Object(a.Component)({selector:"app-soporte-contable-bonos",template:o("RxlQ"),styles:[o("UgV/")]}),Ri("design:paramtypes",[re.a,g.ActivatedRoute,n.a,x.a,A.HotkeysService,r.b,a.ChangeDetectorRef,J.a,ne.a,Ci,ia.a])],e)}(),Ei=o("R9tJ"),Ti=o("OTvs"),_i=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},yi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pi=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.atajoService=t,this.utilService=o,this.sectorService=a,this.filasService=i,this.toastr=r,this.formaPagoBeneficiosService=n,this.motivoXiiiSueldoService=c,this.periodoXiiiService=l,this.listaEmpresas=[],this.listaSectores=[],this.listaFormasPagoBeneficio=[],this.listaMotivos=[],this.listaPeriodos=[],this.empresaSeleccionada=new M.a,this.sectorSeleccionado=new P.a,this.objetoSeleccionado=new Ei.a,this.formaPagoSeleccionado=new Ti.a,this.motivoXiiiSueldoSeleccionado=new it,this.periodoSeleccionado=new Ft.a,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.constantes=s.a}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.xiiiSueldoListadoTrans,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.listarPeriodos()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarXiiiSueldo");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarXiiiSueldo");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.formaPagoSeleccionado=null,this.motivoXiiiSueldoSeleccionado=null,this.limpiarResultado(),this.listarSectores(),this.listarFormaPago(),this.listarXiiiSueldoMotivo()},e.prototype.limpiarResultado=function(){this.activar=!1,this.parametrosFormulario=null,this.parametrosBusqueda=null,this.filasService.actualizarFilas(0,0)},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarFormaPago=function(){this.limpiarResultado(),this.listaFormasPagoBeneficio=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT,estado:!0};this.formaPagoBeneficiosService.listarComboFormaPagoBeneficioSocial(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboFormaPagoBeneficioSocial=function(e){var t=this;this.listaFormasPagoBeneficio=e,this.listaFormasPagoBeneficio.length>0?this.formaPagoSeleccionado=this.formaPagoSeleccionado&&this.formaPagoSeleccionado.fpCodigoMinisterial?this.listaFormasPagoBeneficio.find(function(e){return e.fpCodigoMinisterial===t.formaPagoSeleccionado.fpCodigoMinisterial}):this.listaFormasPagoBeneficio[0]:this.formaPagoSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.limpiarResultado(),this.listaPeriodos=[],this.cargando=!0,this.periodoXiiiService.listaRhXiiiSueldoPeriodoTO({},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXiiiSueldoPeriodoTO=function(e){var t=this;this.listaPeriodos=e,this.listaPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.periodoSecuencial?this.listaPeriodos.find(function(e){return e.periodoSecuencial===t.periodoSeleccionado.periodoSecuencial}):this.listaPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.listarXiiiSueldoMotivo=function(){this.limpiarResultado(),this.listaMotivos=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,inactivo:!1};this.motivoXiiiSueldoService.listarMotivoXiiiSueldo(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarMotivoXiiiSueldo=function(e){var t=this;this.listaMotivos=e,this.listaMotivos.length>0?this.motivoXiiiSueldoSeleccionado=this.motivoXiiiSueldoSeleccionado&&this.motivoXiiiSueldoSeleccionado.rhXiiiSueldoMotivoPK.motDetalle?this.listaMotivos.find(function(e){return e.rhXiiiSueldoMotivoPK.motDetalle===t.motivoXiiiSueldoSeleccionado.rhXiiiSueldoMotivoPK.motDetalle}):this.listaMotivos[0]:this.motivoXiiiSueldoSeleccionado=null,this.cargando=!1},e.prototype.buscarXiiiSueldo=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?this.listaFormasPagoBeneficio.length>0?(this.cargando=!0,this.parametrosBusqueda={empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,desde:this.periodoSeleccionado.xiiiDesde,hasta:this.periodoSeleccionado.xiiiHasta,formaPagoSeleccionado:!!this.formaPagoSeleccionado},this.parametrosFormulario={empresaSeleccionada:this.empresaSeleccionada,listaFormasPagoBeneficio:this.listaFormasPagoBeneficio,formaPagoSeleccionado:this.formaPagoSeleccionado,activarXiiiSueldo:this.activar,periodoSeleccionado:this.periodoSeleccionado}):(this.toastr.warning(s.a.MSJ_POR_LO_MENOS_1_FORMA_PAGO,s.a.TAG_AVISO),this.cargando=!1):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.accionesXiiiSueldo=function(e){this.generarAtajosTeclado();var t=e;switch(t.accion){case s.a.ACCION_ACTIVAR:this.activar=t.estado;break;case s.a.ACCION_CARGANDO:this.cargando=t.estado;break;case s.a.ACCION_LIMPIAR_RESULTADO:this.limpiarResultado()}},e=_i([Object(a.Component)({selector:"app-xiii-sueldo",template:o("Bs0i"),styles:[o("7akF")]}),yi("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,n.a,O.a,x.a,r.b,ue.a,ot,Lt])],e)}(),Mi=o("3xZc"),Ni=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Di=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Li=function(){function e(e,t,o,a,i,r,n,c,l){this.route=e,this.atajoService=t,this.filasService=o,this.utilService=a,this.sectorService=i,this.toastr=r,this.formaPagoBeneficiosService=n,this.motivoxivSueldoService=c,this.periodoxivService=l,this.listaEmpresas=[],this.listaSectores=[],this.listaResultado=[],this.listaFormasPagoBeneficio=[],this.listaMotivos=[],this.listaPeriodos=[],this.empresaSeleccionada=new M.a,this.sectorSeleccionado=new P.a,this.objetoSeleccionado=new Mi.a,this.formaPagoSeleccionado=new Ti.a,this.motivoxivSueldoSeleccionado=new lt,this.periodoSeleccionado=new _t.a,this.constantes=s.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.constantes=s.a}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.xivSueldoListadoTrans,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.listarPeriodos()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new f.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarxivSueldo");return e&&e.click(),!1})),this.atajoService.add(new f.Hotkey(s.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarxivSueldo");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.formaPagoSeleccionado=null,this.motivoxivSueldoSeleccionado=null,this.limpiarResultado(),this.listarSectores(),this.listarFormaPago(),this.listarPeriodos(),this.listarxivSueldoMotivo()},e.prototype.limpiarResultado=function(){this.activar=!1,this.parametrosFormulario=null,this.parametrosBusqueda=null,this.filasService.actualizarFilas(0,0)},e.prototype.listarSectores=function(){this.limpiarResultado(),this.listaSectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.listaSectores=e,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarFormaPago=function(){this.limpiarResultado(),this.listaFormasPagoBeneficio=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT,estado:!0};this.formaPagoBeneficiosService.listarComboFormaPagoBeneficioSocial(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboFormaPagoBeneficioSocial=function(e){var t=this;this.listaFormasPagoBeneficio=e,this.listaFormasPagoBeneficio.length>0?this.formaPagoSeleccionado=this.formaPagoSeleccionado&&this.formaPagoSeleccionado.fpCodigoMinisterial?this.listaFormasPagoBeneficio.find(function(e){return e.fpCodigoMinisterial===t.formaPagoSeleccionado.fpCodigoMinisterial}):this.listaFormasPagoBeneficio[0]:this.formaPagoSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.limpiarResultado(),this.listaPeriodos=[],this.cargando=!0,this.periodoxivService.listaRhXivSueldoPeriodoTO({},this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXivSueldoPeriodoTO=function(e){var t=this;this.listaPeriodos=e,this.listaPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.periodoSecuencial?this.listaPeriodos.find(function(e){return e.periodoSecuencial===t.periodoSeleccionado.periodoSecuencial}):this.listaPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.listarxivSueldoMotivo=function(){this.limpiarResultado(),this.listaMotivos=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,inactivo:!1};this.motivoxivSueldoService.listaRhXivSueldoMotivo(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhXivSueldoMotivo=function(e){var t=this;this.listaMotivos=e,this.listaMotivos.length>0?this.motivoxivSueldoSeleccionado=this.motivoxivSueldoSeleccionado&&this.motivoxivSueldoSeleccionado.rhXivSueldoMotivoPK.motDetalle?this.listaMotivos.find(function(e){return e.rhXivSueldoMotivoPK.motDetalle===t.motivoxivSueldoSeleccionado.rhXivSueldoMotivoPK.motDetalle}):this.listaMotivos[0]:this.motivoxivSueldoSeleccionado=null,this.cargando=!1},e.prototype.buscarxivSueldo=function(e){this.limpiarResultado();var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?this.listaFormasPagoBeneficio.length>0?(this.cargando=!0,this.parametrosBusqueda={empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,desde:this.periodoSeleccionado.xivDesde,hasta:this.periodoSeleccionado.xivHasta,formaPagoSeleccionado:!!this.formaPagoSeleccionado},this.parametrosFormulario={empresaSeleccionada:this.empresaSeleccionada,listaFormasPagoBeneficio:this.listaFormasPagoBeneficio,formaPagoSeleccionado:this.formaPagoSeleccionado,activarXivSueldo:this.activar,periodoSeleccionado:this.periodoSeleccionado}):(this.toastr.warning(s.a.MSJ_POR_LO_MENOS_1_FORMA_PAGO,s.a.TAG_AVISO),this.cargando=!1):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.accionesXivSueldo=function(e){this.generarAtajosTeclado();var t=e;switch(t.accion){case s.a.ACCION_ACTIVAR:this.activar=t.estado;break;case s.a.ACCION_CARGANDO:this.cargando=t.estado;break;case s.a.ACCION_LIMPIAR_RESULTADO:this.limpiarResultado()}},e=Ni([Object(a.Component)({selector:"app-xiv-sueldo",template:o("LwJt"),styles:[o("jtZF")]}),Di("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,x.a,n.a,O.a,r.b,ue.a,mt,Tt])],e)}(),Fi=o("udyK"),xi=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},wi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gi=function(){function e(e,t,o,a,i,r,n,c,l,d,p){this.route=e,this.atajoService=t,this.filasService=o,this.utilService=a,this.anticipoService=i,this.sectorService=r,this.categoriaService=n,this.motivoService=c,this.formaPagoService=l,this.periodoService=d,this.toastr=p,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.sectores=new Array,this.categorias=new Array,this.motivos=new Array,this.formasDePago=new Array,this.motivoSeleccionado=new Oe,this.parametrosFormulario={},this.constantes=s.a,this.isScreamMd=!0,this.vistaFormulario=!1,this.cargando=!1,this.activar=!1,this.isFechaValido=!1,this.es={},this.fechaActual=new Date,L.locale("es"),this.es=this.utilService.setLocaleDate()}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.anticipoListadoTrans,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.definirAtajosDeTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.obtenerDatosParaCrudAnticipos(),this.limpiarResultado()},e.prototype.obtenerDatosParaCrudAnticipos=function(){this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.anticipoService.obtenerDatosParaCrudAnticipos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeObtenerDatosParaCrudAnticipos=function(e){this.cargando=!1,this.fechaActual=new Date(e.fechaActual),this.validarFechaPorPeriodo(),this.sectores=e.sectores,this.categorias=e.categorias,this.motivos=e.motivos,this.motivoSeleccionado=this.motivos[0],this.formasDePago=e.formasDePago},e.prototype.listarSectores=function(){this.sectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.sectores=e,this.sectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.sectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarCategorias=function(){this.categorias=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,activo:!0};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){var t=this;this.categorias=e,this.categorias.length>0?this.categoriaSeleccionada=this.categoriaSeleccionada&&this.categoriaSeleccionada.catNombre?this.categorias.find(function(e){return e.catNombre===t.categoriaSeleccionada.catNombre}):null:this.categoriaSeleccionada=null,this.cargando=!1},e.prototype.listarMotivos=function(){this.motivos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT,estado:!0};this.motivoService.listarMotivoAnticipos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarMotivoAnticipos=function(e){var t=this;this.motivos=e,this.motivos.length>0?this.motivoSeleccionado=this.motivoSeleccionado&&this.motivoSeleccionado.rhAnticipoMotivoPK.motDetalle?this.motivos.find(function(e){return e.rhAnticipoMotivoPK.motDetalle===t.motivoSeleccionado.rhAnticipoMotivoPK.motDetalle}):this.motivos[0]:this.motivoSeleccionado=null,this.cargando=!1},e.prototype.listarFormasDePago=function(){this.formasDePago=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.formaPagoService.listarComboFormasPago(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboFormasPago=function(e){var t=this;this.formasDePago=e,this.formasDePago.length>0?this.fpSeleccionada=this.fpSeleccionada&&this.fpSeleccionada.fpDetalle?this.formasDePago.find(function(e){return e.fpDetalle===t.fpSeleccionada.fpDetalle}):null:this.fpSeleccionada=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.vistaFormulario=!1},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("buscar");return t&&t.click(),!1}))},e.prototype.validarFechaPorPeriodo=function(){this.isFechaValido=!1;var e={fecha:L(this.fechaActual).format("YYYY-MM-DD"),empresa:s.a.KEY_EMPRESA_SELECT};this.periodoService.getPeriodoPorFecha(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeGetPeriodoPorFecha=function(e){e&&!e.perCerrado?this.isFechaValido=!0:this.isFechaValido=!1},e.prototype.cambioLaFecha=function(){this.fechaActual?this.validarFechaPorPeriodo():this.isFechaValido=!1},e.prototype.buscar=function(e){this.validarAntesDeEnviar(e)&&(this.parametrosFormulario={},this.parametrosFormulario.empresa=s.a.KEY_EMPRESA_SELECT,this.parametrosFormulario.sector=this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,this.parametrosFormulario.categoria=this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null,this.parametrosFormulario.listar=!0,this.parametrosFormulario.fechaHasta=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaActual),this.parametrosFormulario.fecha=this.utilService.convertirFechaStringDDMMYYYY(this.fechaActual),this.parametrosFormulario.formaPago=this.fpSeleccionada?this.fpSeleccionada.fpDetalle:null,this.parametrosFormulario.fpSeleccionada=this.fpSeleccionada,this.parametrosFormulario.motivo=this.motivoSeleccionado?this.motivoSeleccionado.rhAnticipoMotivoPK.motDetalle:null,this.vistaFormulario=!0)},e.prototype.validarAntesDeEnviar=function(e){var t=!0;return this.utilService.establecerFormularioTocado(e)&&e&&e.valid&&this.isFechaValido||(this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.formasDePago&&0!=this.formasDePago.length||(this.toastr.warning(s.a.MSJ_NO_EXISTEN_FORMAS_PAGO,s.a.MSJ_TITULO_INVALIDOS),t=!1),t},e.prototype.ejecutarAccion=function(e){switch(this.definirAtajosDeTeclado(),e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado;break;case s.a.ACCION_CANCELAR:this.activar=!1,this.vistaFormulario=!1}},e=xi([Object(a.Component)({selector:"app-anticipos",template:o("EnGM")}),wi("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,x.a,n.a,Fi.a,O.a,I,Ie,oe.a,ia.a,r.b])],e)}(),Bi=o("cagF"),ji=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ui=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ki=function(){function e(e,t,o,a,i,r,n,c,l,d){this.route=e,this.atajoService=t,this.filasService=o,this.utilService=a,this.utilidadService=i,this.sectorService=r,this.periodoService=n,this.motivoService=c,this.formaPagoService=l,this.toastr=d,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.sectores=new Array,this.periodos=new Array,this.motivos=new Array,this.formasDePago=new Array,this.sectorSeleccionado=new P.a,this.periodoSeleccionado=new Bt,this.motivoSeleccionado=new At,this.parametrosFormulario={},this.constantes=s.a,this.isScreamMd=!0,this.vistaFormulario=!1,this.cargando=!1,this.activar=!1,this.es={},this.fechaActual=new Date,L.locale("es"),this.es=this.utilService.setLocaleDate()}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.utilidadListadoTrans,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.definirAtajosDeTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.obtenerDatosParaCrudUtilidades(),this.limpiarResultado()},e.prototype.obtenerDatosParaCrudUtilidades=function(){this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.utilidadService.obtenerDatosParaCrudUtilidades(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeObtenerDatosParaCrudUtilidades=function(e){this.cargando=!1,this.sectores=e.sectores,this.sectorSeleccionado=this.sectores[0],this.periodos=e.periodos,this.periodoSeleccionado=this.periodos[0],this.motivos=e.motivos,this.motivoSeleccionado=this.motivos[0],this.formasDePago=e.formasDePago},e.prototype.listarSectores=function(){this.sectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.sectores=e,this.sectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.sectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):this.sectores[0]:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.periodos=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,activo:!0};this.periodoService.listaRhUtilidadesPeriodoTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListaRhUtilidadesPeriodoTO=function(e){var t=this;this.periodos=e,this.periodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.utiDescripcion?this.periodos.find(function(e){return e.utiDescripcion===t.periodoSeleccionado.utiDescripcion}):this.periodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.listarMotivos=function(){this.motivos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT,estado:!0};this.motivoService.listaRhUtilidadMotivo(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarRhUtilidadMotivo=function(e){var t=this;this.motivos=e,this.motivos.length>0?this.motivoSeleccionado=this.motivoSeleccionado&&this.motivoSeleccionado.rhUtilidadMotivoPK.motDetalle?this.motivos.find(function(e){return e.rhUtilidadMotivoPK.motDetalle===t.motivoSeleccionado.rhUtilidadMotivoPK.motDetalle}):this.motivos[0]:this.motivoSeleccionado=null,this.cargando=!1},e.prototype.listarFormasDePago=function(){this.formasDePago=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.formaPagoService.listarComboFormaPagoBeneficioSocial(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboFormaPagoBeneficioSocial=function(e){var t=this;this.formasDePago=e,this.formasDePago.length>0?this.fpSeleccionada=this.fpSeleccionada&&this.fpSeleccionada.fpDetalle?this.formasDePago.find(function(e){return e.fpDetalle===t.fpSeleccionada.fpDetalle}):null:this.fpSeleccionada=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.vistaFormulario=!1},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("buscar");return t&&t.click(),!1}))},e.prototype.buscar=function(e){this.validarAntesDeEnviar(e)&&(this.parametrosFormulario={},this.parametrosFormulario.listar=!0,this.parametrosFormulario.empresa=s.a.KEY_EMPRESA_SELECT,this.parametrosFormulario.sector=this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,this.parametrosFormulario.desde=this.periodoSeleccionado?this.periodoSeleccionado.utiDesde:null,this.parametrosFormulario.hasta=this.periodoSeleccionado?this.periodoSeleccionado.utiHasta:null,this.parametrosFormulario.totalDias=this.periodoSeleccionado?this.periodoSeleccionado.utiTotalDias:null,this.parametrosFormulario.totalCargas=this.periodoSeleccionado?this.periodoSeleccionado.utiTotalCargas:null,this.parametrosFormulario.totalPagar=this.periodoSeleccionado?this.periodoSeleccionado.utiTotalPagar:null,this.parametrosFormulario.fechaMaximaPago=this.periodoSeleccionado?this.utilService.convertirFechaStringDDMMYYYY(this.periodoSeleccionado.utiFechaMaximaPago):null,this.parametrosFormulario.fpSeleccionada=this.fpSeleccionada,this.vistaFormulario=!0)},e.prototype.validarAntesDeEnviar=function(e){var t=!0;return this.utilService.establecerFormularioTocado(e)&&e&&e.valid||(this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.formasDePago&&0!=this.formasDePago.length||(this.toastr.warning(s.a.MSJ_NO_EXISTEN_FORMAS_PAGO,s.a.MSJ_TITULO_INVALIDOS),t=!1),t},e.prototype.ejecutarAccion=function(e){switch(this.definirAtajosDeTeclado(),e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado;break;case s.a.ACCION_CANCELAR:this.activar=!1,this.vistaFormulario=!1}},e=ji([Object(a.Component)({selector:"app-participacion-utilidades",template:o("7eiZ")}),Ui("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,x.a,n.a,Bi.a,O.a,kt,St,ue.a,r.b])],e)}(),Vi=o("1rW1"),Xi=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ji=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Hi=function(){function e(e,t,o,a,i,r,n,c,l,d,p){this.route=e,this.atajoService=t,this.filasService=o,this.utilService=a,this.rolesPagoService=i,this.sectorService=r,this.categoriaService=n,this.motivoService=c,this.formaPagoService=l,this.periodoService=d,this.toastr=p,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.sectores=new Array,this.categorias=new Array,this.motivos=new Array,this.formasDePago=new Array,this.periodos=new Array,this.motivoSeleccionado=new qe,this.periodoSeleccionado=new ra.a,this.parametrosFormulario={},this.constantes=s.a,this.isScreamMd=!0,this.vistaFormulario=!1,this.cargando=!1,this.activar=!1}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.rolListadoTrans,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.definirAtajosDeTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.activar=!1,this.obtenerDatosParaRolesDePago(),this.limpiarResultado()},e.prototype.obtenerDatosParaRolesDePago=function(){this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.rolesPagoService.obtenerDatosParaRolesDePago(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeObtenerDatosParaRolesDePago=function(e){this.cargando=!1,this.sectores=e.sectores,this.categorias=e.categorias,this.motivos=e.motivos,this.motivoSeleccionado=this.motivos[0],this.despuesDeListarComboFormasPago(e.formasDePago),this.periodos=e.periodos,this.periodoSeleccionado=this.periodos[0]},e.prototype.listarSectores=function(){this.sectores=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){var t=this;this.sectores=e,this.sectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.sectores.find(function(e){return e.secCodigo===t.sectorSeleccionado.secCodigo}):null:this.sectorSeleccionado=null,this.cargando=!1},e.prototype.listarCategorias=function(){this.categorias=[],this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,activo:!0};this.categoriaService.listarCategorias(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarCategorias=function(e){var t=this;this.categorias=e,this.categorias.length>0?this.categoriaSeleccionada=this.categoriaSeleccionada&&this.categoriaSeleccionada.catNombre?this.categorias.find(function(e){return e.catNombre===t.categoriaSeleccionada.catNombre}):null:this.categoriaSeleccionada=null,this.cargando=!1},e.prototype.listarMotivos=function(){this.motivos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT,estado:!0};this.motivoService.listarMotivoRolPago(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarMotivoRolPago=function(e){var t=this;this.motivos=e,this.motivos.length>0?this.motivoSeleccionado=this.motivoSeleccionado&&this.motivoSeleccionado.rhRolMotivoPK.motDetalle?this.motivos.find(function(e){return e.rhRolMotivoPK.motDetalle===t.motivoSeleccionado.rhRolMotivoPK.motDetalle}):this.motivos[0]:this.motivoSeleccionado=null,this.cargando=!1},e.prototype.listarFormasDePago=function(){this.formasDePago=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.formaPagoService.listarComboFormasPago(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComboFormasPago=function(e){var t=this;this.formasDePago=e,this.formasDePago.push(this.rolesPagoService.fpPorPagar()),this.formasDePago.length>0?this.fpSeleccionada=this.fpSeleccionada&&this.fpSeleccionada.fpDetalle?this.formasDePago.find(function(e){return e.fpDetalle===t.fpSeleccionada.fpDetalle}):null:this.fpSeleccionada=null,this.cargando=!1},e.prototype.listarPeriodos=function(){this.periodos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.periodoService.listarPeriodos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPeriodos=function(e){var t=this;this.periodos=e,this.periodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.sisPeriodoPK.perCodigo?this.periodos.find(function(e){return e.sisPeriodoPK.perCodigo===t.periodoSeleccionado.sisPeriodoPK.perCodigo}):this.periodos[0]:this.periodoSeleccionado=null,this.cargando=!1},e.prototype.limpiarResultado=function(){this.filasService.actualizarFilas("0","0"),this.vistaFormulario=!1},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("buscar");return t&&t.click(),!1}))},e.prototype.buscar=function(e){this.validarAntesDeEnviar(e)&&(this.parametrosFormulario={},this.parametrosFormulario.empresa=s.a.KEY_EMPRESA_SELECT,this.parametrosFormulario.sector=this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,this.parametrosFormulario.categoria=this.categoriaSeleccionada?this.categoriaSeleccionada.catNombre:null,this.parametrosFormulario.listar=!0,this.parametrosFormulario.rol=!0,this.parametrosFormulario.perHasta=this.periodoSeleccionado?this.utilService.convertirFechaStringDDMMYYYY(new Date(this.periodoSeleccionado.perHasta)):null,this.parametrosFormulario.fechaHasta=this.periodoSeleccionado?this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.periodoSeleccionado.perHasta)+"\xac"+this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.periodoSeleccionado.perDesde):null,this.parametrosFormulario.fpSeleccionada=this.fpSeleccionada,this.parametrosFormulario.periodoSeleccionado=this.periodoSeleccionado,this.parametrosFormulario.motivo=this.motivoSeleccionado?this.motivoSeleccionado.rhRolMotivoPK.motDetalle:null,this.vistaFormulario=!0)},e.prototype.validarAntesDeEnviar=function(e){var t=!0;return this.utilService.establecerFormularioTocado(e)&&e&&e.valid||(this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.formasDePago&&0!=this.formasDePago.length||(this.toastr.warning(s.a.MSJ_NO_EXISTEN_FORMAS_PAGO,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.periodoSeleccionado&&this.periodoSeleccionado.sisPeriodoPK.perCodigo||(this.toastr.warning(s.a.MSJ_NO_EXISTE_PERIODO_SELECCIONADO,s.a.MSJ_TITULO_INVALIDOS),t=!1),t},e.prototype.ejecutarAccion=function(e){switch(this.definirAtajosDeTeclado(),e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado;break;case s.a.ACCION_CANCELAR:this.activar=!1,this.vistaFormulario=!1}},e=Xi([Object(a.Component)({selector:"app-rol-pago",template:o("FHIV")}),Ji("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,x.a,n.a,Vi.a,O.a,I,Ke,oe.a,ia.a,r.b])],e)}(),Wi=o("A8Rz"),Yi=function(){function e(e){this.empresa="",this.sector="",this.periodo="",this.estado="",this.datePeriodoHasta=new Date,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.empresa=e.empresa?e.empresa:this.empresa,this.sector=e.sector?e.sector:this.sector,this.periodo=e.periodo?e.periodo:this.periodo,this.estado=e.estado?e.estado:this.estado,this.datePeriodoHasta=e.datePeriodoHasta?e.datePeriodoHasta:this.datePeriodoHasta},e}(),Ki=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},zi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qi=function(){function e(e,t,o,a,i,r,n){this.activeModal=e,this.route=t,this.toastr=o,this.atajoService=a,this.sectorService=i,this.periodoService=r,this.utilService=n,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.mostrarListado=!1,this.listaSectores=[],this.listaPeriodos=[],this.periodoSeleccionado=new ra.a,this.listaEstados=s.a.LISTA_ESTADOS_PROVISIONES,this.provisionesListadoTransTO=new Yi}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.listaEmpresas=this.route.snapshot.data.provisionesListadoTrans,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.provisionesListadoTransTO.empresa=s.a.KEY_EMPRESA_SELECT,this.listarSectores(),this.listarPeriodos(),this.limpiarResultado(),this.provisionesListadoTransTO.estado=this.listaEstados[0],this.accion=null},e.prototype.listarSectores=function(){this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSectores=function(e){e.length>0?(this.listaSectores=e,this.provisionesListadoTransTO.sector=this.listaSectores?this.listaSectores[0].secCodigo:null):(this.listaSectores=[],this.provisionesListadoTransTO.sector=null),this.cargando=!1},e.prototype.listarPeriodos=function(){this.listaPeriodos=[],this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.periodoService.listarPeriodos(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPeriodos=function(e){e.length>0?(this.listaPeriodos=e,this.periodoSeleccionado=this.listaPeriodos?this.listaPeriodos[0]:null):(this.listaSectores=[],this.periodoSeleccionado=null),this.cargando=!1},e.prototype.limpiarResultado=function(){this.parametrosListado=null,this.mostrarListado=!1},e.prototype.listarProvisiones=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?(this.provisionesListadoTransTO.periodo=this.periodoSeleccionado.sisPeriodoPK.perCodigo,this.provisionesListadoTransTO.datePeriodoHasta=this.periodoSeleccionado.perHasta,this.parametrosListado={provisionesListadoTransTO:this.provisionesListadoTransTO,contableProvision:""},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.ejecutarAccion=function(e){e.accion===s.a.ACCION_CANCELAR&&this.limpiarResultado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e=Ki([Object(a.Component)({selector:"app-provisiones",template:o("yU1X"),styles:[o("SdbC")]}),zi("design:paramtypes",[re.a,g.ActivatedRoute,r.b,A.HotkeysService,O.a,ia.a,n.a])],e)}(),$i=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Qi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Zi=function(){function e(e,t,o){this.route=e,this.atajoService=t,this.utilService=o,this.listaEmpresas=[],this.constantes={},this.accion=null,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.vistaFormulario=!1,this.es={},this.parametrosFormulario={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.prestamoListadoTrans,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.abrirFormularioPrestamo(),this.generarAtajos()},e.prototype.abrirFormularioPrestamo=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.parametrosFormulario={empresaSeleccionada:this.empresaSeleccionada},this.vistaFormulario=!0},e.prototype.ejecutarAccion=function(e){switch(this.generarAtajos(),e.accion){case s.a.ACCION_ACTIVAR:this.activar=e.estado;break;case s.a.ACCION_CANCELAR:this.activar=!1,this.vistaFormulario=!1}},e.prototype.limpiarFormulario=function(){this.parametrosFormulario=null,this.vistaFormulario=!1},e.prototype.cancelar=function(){this.accion=null},e.prototype.generarAtajos=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_NUEVO,function(){var e=document.getElementById("btnNuevo");return e&&e.click(),!1}))},$i([Object(a.Input)(),Qi("design:type",Boolean)],e.prototype,"isModal",void 0),$i([Object(a.Input)(),Qi("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),$i([Object(a.Input)(),Qi("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),e=$i([Object(a.Component)({selector:"app-prestamos",template:o("o/K1"),styles:[o("WQVJ")]}),Qi("design:paramtypes",[g.ActivatedRoute,A.HotkeysService,n.a])],e)}(),er=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},tr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},or=function(){function e(e,t,o,a){this.api=e,this.utilService=t,this.toastr=o,this.archivoService=a}return e.prototype.obtenerDatosParaCrudOrdenesBancarias=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/obtenerDatosParaCrudOrdenesBancarias",e,o).then(function(e){e&&e.extraInfo?t.despuesDeObtenerDatosParaCrudOrdenesBancarias(e.extraInfo):t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.generarOrdenBancaria=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhListaOrdenBancariaTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeGenerarOrdenBancaria(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.exportarExcelOrdenBancaria=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteOrdenBancaria",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoOrdenBancaria_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.exportarTxtOrdenBancaria=function(e,t,o){var a=this;this.archivoService.postTxt("todocompuWS/rrhhWebController/exportarReporteTxtOrdenBancaria",e,o).then(function(e){e?t.descargarArchivoTxt(e._body):a.toastr.warning(s.a.MSJ_NO_DATA),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnasBolivariano=function(){var e=this,t=[];return t.push({headerName:s.a.TAG_TIPO_REGISTRO,width:120,minWidth:120,field:"preTipoRegistro"},{headerName:s.a.TAG_SECUENCIAL,width:100,minWidth:100,field:"preSecuencial"},{headerName:s.a.TAG_CODIGO_BENEFICIARIO,width:140,minWidth:140,field:"preBeneficiarioCodigo"},{headerName:s.a.TAG_TIPO_ID_BENEFICIARIO,width:150,minWidth:150,field:"preBeneficiarioTipoId"},{headerName:s.a.TAG_NUMERO_BENEFICIARIO,width:150,minWidth:150,field:"preBeneficiarioNumeroId"},{headerName:s.a.TAG_NOMBRE_BENEFICIARIO,width:200,minWidth:200,field:"preBeneficiarioNombre"},{headerName:s.a.TAG_FORMA_PAGO,width:125,minWidth:125,field:"preFormaPago"},{headerName:s.a.TAG_CODIGO_PAIS,width:120,minWidth:120,field:"preCodigoPais"},{headerName:s.a.TAG_CODIGO_BANCO,width:150,minWidth:150,field:"preCodigoBanco"},{headerName:s.a.TAG_TIPO_CUENTA,width:120,minWidth:120,field:"preCuentaTipo"},{headerName:s.a.TAG_NUMERO_CUENTA,width:150,minWidth:150,field:"preCuentaNumero"},{headerName:s.a.TAG_CODIGO_MONEDA,width:150,minWidth:150,field:"preCodigoMoneda",cellClass:function(e){return e.node.rowPinned?"text-right tr-negrita":"text-right"}},{headerName:s.a.TAG_TOTAL_PAGADO,width:150,minWidth:150,field:"preTotalPagado",cellClass:function(e){return e.node.rowPinned?"text-right tr-negrita":"text-right"},valueFormatter:function(t){return t.node.rowPinned?e.formatearA2Decimales(t):null}},{headerName:s.a.TAG_CONCEPTO,width:120,minWidth:120,field:"preConcepto"},{headerName:s.a.TAG_CODIGO_BANCARIO,width:140,minWidth:140,field:"preCodigoBancario"},{headerName:s.a.TAG_CODIGO_SERVICIO,width:150,minWidth:150,field:"preCodigoServicio"},{headerName:s.a.TAG_MOTIVO_PAGO,width:150,minWidth:150,field:"preMotivoPago"}),t},e.prototype.generarFilaTotalBolivariano=function(){return[{preTipoRegistro:null,preSecuencial:null,preBeneficiarioCodigo:null,preBeneficiarioTipoId:null,preBeneficiarioNumeroId:null,preBeneficiarioNombre:null,preFormaPago:null,preCodigoPais:null,preCodigoBanco:null,preCuentaTipo:null,preCuentaNumero:null,preCodigoMoneda:s.a.TAG_TOTAL_PUNTOS,preTotalPagado:0,preConcepto:null,preCodigoBancario:null,preCodigoServicio:null,preMotivoPago:null}]},e.prototype.generarColumnasPichincha=function(){var e=this,t=[];return t.push({headerName:s.a.TAG_TIPO_REGISTRO,width:120,minWidth:120,field:"preTipoRegistro"},{headerName:s.a.TAG_SECUENCIAL,width:100,minWidth:100,field:"preSecuencial"},{headerName:s.a.TAG_MONEDA,width:100,minWidth:100,field:"preMoneda",cellClass:function(e){return e.node.rowPinned?"text-right tr-negrita":"text-right"}},{headerName:s.a.TAG_TOTAL_PAGADO,width:120,minWidth:120,field:"preTotalPagado",cellClass:function(e){return e.node.rowPinned?"text-right tr-negrita":"text-right"},valueFormatter:function(t){return t.value?e.formatearA2Decimales(t):null}},{headerName:s.a.TAG_CUENTA,width:100,minWidth:100,field:"preCuenta"},{headerName:s.a.TAG_CUENTA_TIPO,width:120,minWidth:120,field:"preCuentaTipo"},{headerName:s.a.TAG_NUMERO_CUENTA,width:150,minWidth:150,field:"preCuentaNumero"},{headerName:s.a.TAG_REFERENCIA,width:150,minWidth:150,field:"preReferencia"},{headerName:s.a.TAG_TIPO_ID_BENEFICIARIO,width:150,minWidth:150,field:"preBeneficiarioTipoId"},{headerName:s.a.TAG_NUMERO_BENEFICIARIO,width:150,minWidth:150,field:"preBeneficiarioNumeroId"},{headerName:s.a.TAG_NOMBRE_BENEFICIARIO,width:200,minWidth:200,field:"preBeneficiarioNombre"},{headerName:s.a.TAG_CODIGO_BANCO,width:150,minWidth:150,field:"preCodigoBanco"}),t},e.prototype.generarFilaTotalPichincha=function(){return[{preTipoRegistro:null,preSecuencial:null,preMoneda:s.a.TAG_TOTAL_PUNTOS,preTotalPagado:0,preCuenta:null,preCuentaTipo:null,preCuentaNumero:null,preReferencia:null,preBeneficiarioTipoId:null,preBeneficiarioNumeroId:null,preBeneficiarioNombre:null,preCodigoBanco:null}]},e.prototype.formatearA2Decimales=function(e){var t=e.value?e.value.toString().replace(/,/gi,""):0;return new Yt.DecimalPipe("en-US").transform(t,"1.2-2")},e=er([Object(a.Injectable)({providedIn:"root"}),tr("design:paramtypes",[i.a,n.a,r.b,c.a])],e)}(),ar=o("3vq3"),ir=o("Il6u"),rr=function(){function e(e){e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.empresa=e.empresa?e.empresa:this.empresa,this.orden=e.orden?e.orden:this.orden,this.banco=e.banco?e.banco:this.banco,this.cuentabancaria=e.cuentabancaria?e.cuentabancaria:this.cuentabancaria,this.nombreCuenta=e.nombreCuenta?e.nombreCuenta:this.nombreCuenta,this.fecha=e.fecha?e.fecha:this.fecha,this.tipoServicio=e.tipoServicio?e.tipoServicio:this.tipoServicio},e}(),nr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},sr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cr=function(){function e(e,t,o,a,i,r,n){this.ordenBancariaService=e,this.cuentaService=t,this.route=o,this.utilService=a,this.sistemaService=i,this.atajoService=r,this.toastr=n,this.listaEmpresas=new Array,this.empresaSeleccionada=new M.a,this.constantes=s.a,this.isScreamMd=!0,this.activar=!1,this.cargando=!1,this.vistaFormulario=!1,this.es={},this.mostrarListado=!1,this.ordenBancariaTO=new rr,this.listadoBancoCuenta=new Array,this.cuentaComboSeleccionado=new ar.a,this.listaTipoOrden=new Array,this.listaTipoServicio=new Array,this.fechaActual=new Date}return e.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.ordenesBancarias,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.es=this.utilService.setLocaleDate(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada();var e={empresa:s.a.KEY_EMPRESA_SELECT};this.ordenBancariaService.obtenerDatosParaCrudOrdenesBancarias(e,this,s.a.KEY_EMPRESA_SELECT),this.generarAtajosTeclado(),this.seleccionarFechas()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.ordenBancariaTO.empresa=s.a.KEY_EMPRESA_SELECT,this.activar=!1,this.listadoCuentaBancos(),this.limpiarResultado()},e.prototype.despuesDeObtenerDatosParaCrudOrdenesBancarias=function(e){this.listaTipoOrden=e.tiposOrden,this.listaTipoServicio=e.tiposServicios,this.ordenBancariaTO.orden=this.listaTipoOrden?this.listaTipoOrden[0].clave:null,this.ordenBancariaTO.tipoServicio=this.listaTipoServicio?this.listaTipoServicio[0].clave:null},e.prototype.seleccionarFechas=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.ordenBancariaTO.fecha=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.parametrosListado=null,this.vistaFormulario=!1},e.prototype.listadoCuentaBancos=function(){this.cargando=!0;var e={empresa:s.a.KEY_EMPRESA_SELECT};this.cuentaService.listarGetBanComboBancoTO(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeGetBanComboBancoTO=function(e){e.length>0?(this.listadoBancoCuenta=e,this.cuentaComboSeleccionado=this.listadoBancoCuenta?this.listadoBancoCuenta[0]:null):(this.listadoBancoCuenta=[],this.cuentaComboSeleccionado=null,this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_CUENTAS,s.a.TAG_AVISO)),this.cargando=!1},e.prototype.generarOrdenBancaria=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_CONSULTAR,this,!0)){var t=this.utilService.establecerFormularioTocado(e);e&&e.valid&&t?(this.ordenBancariaTO.banco=null,this.ordenBancariaTO.cuentabancaria=this.cuentaComboSeleccionado.ctaContable,this.ordenBancariaTO.nombreCuenta=this.cuentaComboSeleccionado.banNombre+" "+this.cuentaComboSeleccionado.ctaNumero,this.parametrosListado={empresa:this.empresaSeleccionada.empCodigo,ordenBancariaTO:this.ordenBancariaTO},this.mostrarListado=!0):(this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)}},e.prototype.ejecutarAccion=function(e){this.parametrosListado=null,this.mostrarListado=!1},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},e=nr([Object(a.Component)({selector:"app-ordenes-bancarias",template:o("Xlfe"),styles:[o("7BTQ")]}),sr("design:paramtypes",[or,ir.a,g.ActivatedRoute,n.a,v.a,A.HotkeysService,r.b])],e)}(),lr=o("IY89"),dr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},pr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mr=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.verificarPermiso=function(e,t){var o=!1;switch(e){case s.a.ACCION_CONSULTAR:o=!0;break;case s.a.ACCION_IMPRIMIR:o=t.listaSisPermisoTO.gruImprimir;break;case s.a.ACCION_EXPORTAR:o=t.listaSisPermisoTO.gruExportar}return o},e.prototype.listarConsolidadoBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhConsolidadoBonosTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarConsolidadoBonos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirConsolidadoBonos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteConsolidadoBonosViatico",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoSoporteContableAnticipoIndividual_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarConsolidadoBonos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteConsolidadoBonos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListaConsolidadoBonos_"):a.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(){var e=[];return e.push({headerName:s.a.TAG_CATEGORIA,width:150,minWidth:100,field:"cbvCategoria"},{headerName:s.a.TAG_IDENTIFICACION,width:200,minWidth:200,field:"cbvId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"cbvNombres",cellClass:function(e){return e.data.cbvId?"":"tr-negrita"}},{headerName:s.a.TAG_HORAS_EXTRAS,width:120,minWidth:120,field:"cbvHorasExtras",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.cbvId?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_HORAS_EXTRAS_100,width:130,minWidth:130,field:"cbvHorasExtras100",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:"text-right"},{headerName:s.a.TAG_BONOS,width:100,minWidth:100,field:"cbvBonos",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:"text-right"},{headerName:s.a.TAG_BONOS_ND,width:120,minWidth:120,field:"cbvBonosND",cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_BONOS_NO_DEDUCIBLE,text:s.a.TAG_BONOS_ND}},{headerName:s.a.TAG_BONOS_FIJO,width:100,minWidth:100,field:"cbvBonoFijo",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:"text-right"},{headerName:s.a.TAG_BONOS_FIJO_ND,width:110,minWidth:110,field:"cbvBonoFijoND",cellClass:"text-right",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:s.a.TAG_BONOS_FIJO_NO_DEDUCIBLE,text:s.a.TAG_BONOS_FIJO_ND}},{headerName:s.a.TAG_TOTAL,width:100,minWidth:100,field:"cbvTotal",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:"text-right"}),e},e=dr([Object(a.Injectable)({providedIn:"root"}),pr("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),ur=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},hr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vr=function(){function e(e,t,o,a,i,r,n,c){this.activeModal=e,this.route=t,this.utilService=o,this.filasService=a,this.consolidadoBonosService=i,this.sistemaService=r,this.toastr=n,this.atajoService=c,this.listaEmpresas=[],this.constantes={},this.accion=null,this.tituloForm=s.a.TITULO_FILTROS,this.classIcon=s.a.ICON_FILTRAR,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.filasTiempo=new D.a,this.filtroGlobal="",this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.listaResultado=[],this.columnDefs=[],this.columnDefsSelected=[],this.components={}}return e.prototype.ngOnInit=function(){this.constantes=s.a,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.consolidadosBonosViaticos,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.filaSeleccionada=null,this.obtenerFechaInicioFinMes(),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.cambiarEmpresaSeleccionada=function(){s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,s.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.listadoConsolidadoBonos=function(e){if(this.consolidadoBonosService.verificarPermiso(s.a.ACCION_CONSULTAR,this.empresaSeleccionada)){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var o={empCodigo:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta)};this.consolidadoBonosService.listarConsolidadoBonos(o,this,s.a.KEY_EMPRESA_SELECT)}else this.toastr.error(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},e.prototype.despuesDeListarConsolidadoBonos=function(e){e&&(this.listaResultado=e),this.cargando=!1},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta),listaConsolidadoBonosViaticosTO:this.listaResultado};this.consolidadoBonosService.imprimirConsolidadoBonos(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaHasta),listaConsolidadoBonosTO:this.listaResultado};this.consolidadoBonosService.exportarConsolidadoBonos(e,this,this.empresaSeleccionada)}},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_BUSCAR,function(e){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimir");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1}))},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.consolidadoBonosService.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.frameworkComponents={toolTip:Me.a},this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.filaSeleccionada=t?t.data:null},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.onResize=function(){this.isScreamMd=!(this.innerWidth<=576),this.isScreamMd=!(this.innerWidth<=576)},ur([Object(a.Input)(),hr("design:type",Boolean)],e.prototype,"isModal",void 0),ur([Object(a.Input)(),hr("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),ur([Object(a.ViewChild)("excelDownload"),hr("design:type",Object)],e.prototype,"excelDownload",void 0),ur([Object(a.Input)(),hr("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),ur([Object(a.ViewChild)("menuOpciones"),hr("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),ur([Object(a.HostListener)("window:resize",["$event"]),hr("design:type",Function),hr("design:paramtypes",[]),hr("design:returntype",void 0)],e.prototype,"onResize",null),e=ur([Object(a.Component)({selector:"app-consolidado-bonos",template:o("jSad"),styles:[o("O133")]}),hr("design:paramtypes",[re.a,g.ActivatedRoute,n.a,x.a,mr,v.a,r.b,A.HotkeysService])],e)}(),fr=o("SMKp"),Ar=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},gr=[{path:"",component:V,children:[{path:"categoria",component:Y,resolve:{categoria:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"empleadoListado",component:te,resolve:{empleadoListado:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"formaPago",component:me,resolve:{formaPago:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"formaPagoBeneficioSocial",component:ge,resolve:{formaPagoBeneficioSocial:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"anticipoMotivo",component:ye,resolve:{anticipoMotivo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"bonoMotivo",component:Fe,resolve:{bonoMotivo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"conceptoBono",component:Be,resolve:{conceptoBono:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"prestamoMotivo",component:He,resolve:{prestamoMotivo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"rolMotivo",component:Ze,resolve:{rolMotivo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"xiiiSueldoMotivo",component:st,resolve:{xiiiSueldoMotivo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"xivSueldoMotivo",component:vt,resolve:{xivSueldoMotivo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"utilidadMotivo",component:Rt,resolve:{utilidadMotivo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"periodoUtilidad",component:Jt,resolve:{periodoUtilidad:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"periodoXiiiSueldo",component:Gt,resolve:{periodoXiiiSueldo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"periodoXivSueldo",component:Mt,resolve:{periodoXivSueldo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"consolidadoIngresos",component:Ja,resolve:{consolidadoIngresos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"anticipoDetalle",component:Ka,resolve:{anticipoDetalle:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"anticipoDetalleLote",component:hi,resolve:{anticipoDetalleLote:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"prestamoDetalle",component:$a,resolve:{prestamoDetalle:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"anticipoPrestamoDetalle",component:ei,resolve:{anticipoPrestamoDetalle:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"bonoDetalle",component:ni,resolve:{bonoDetalle:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"bonoDetalleLote",component:Oi,resolve:{bonoDetalleLote:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"consolidadosBonosViaticos",component:vr,resolve:{consolidadosBonosViaticos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"consolidadosAnticiposPrestamos",component:ai,resolve:{consolidadosAnticiposPrestamos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"saldosConsolidadosBonosViaticos",component:Ai,resolve:{saldosConsolidadosBonosViaticos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"xiiiSueldoListado",component:eo,resolve:{xiiiSueldoListado:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"xivSueldoListado",component:La,resolve:{xivSueldoListado:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"utilidadesPreCalculo",component:Ga,resolve:{utilidadesPreCalculo:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"saldosConsolidadosSueldosPorPagar",component:so,resolve:{saldosConsolidadosSueldosPorPagar:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"consolidadoIngresosTabulado",component:vo,resolve:{consolidadoIngresosTabulado:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"consolidadoRol",component:Oo,resolve:{consolidadoRol:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"detalleVacacionesPagadas",component:fa,resolve:{vacaciones:K.a,breadcrumb:z.a,tipo:"P"},runGuardsAndResolvers:"always"},{path:"rolListado",component:Mo,resolve:{rolListado:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"detalleVacacionesGozadas",component:fa,resolve:{vacaciones:K.a,breadcrumb:z.a,tipo:"G"},runGuardsAndResolvers:"always"},{path:"provisionPorFechaXiv",component:Ia,resolve:{provision:K.a,breadcrumb:z.a,agrupacion:"XIV"},runGuardsAndResolvers:"always"},{path:"saldosConsolidadosAnticiposPrestamos",component:jo,resolve:{saldosConsolidadosAnticiposPrestamos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"provisionPorFechaXiii",component:Ia,resolve:{provision:K.a,breadcrumb:z.a,agrupacion:"XIII"},runGuardsAndResolvers:"always"},{path:"provisionPorFechaSecap",component:Ia,resolve:{provision:K.a,breadcrumb:z.a,agrupacion:"SECAP"},runGuardsAndResolvers:"always"},{path:"provisionPorFechaIece",component:Ia,resolve:{provision:K.a,breadcrumb:z.a,agrupacion:"IECE"},runGuardsAndResolvers:"always"},{path:"provisionPorFechaAportePatronal",component:Ia,resolve:{provision:K.a,breadcrumb:z.a,agrupacion:"APORTE_PATRONAL"},runGuardsAndResolvers:"always"},{path:"saldosIndividualAnticipos",component:Yo,resolve:{saldosIndividualAnticipos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"saldosIndividualPrestamos",component:qo,resolve:{saldosIndividualPrestamos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"saldosIndividualAnticiposPrestamos",component:Zo,resolve:{saldosIndividualAnticiposPrestamos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"provisionesComprobanteContable",component:la,resolve:{provisionesComprobanteContable:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"empleadoListadoExportar",component:Ta,resolve:{empleadoListadoExportar:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"bonoListadoTrans",component:j,resolve:{bonoListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"xiiiSueldoListadoTrans",component:Pi,resolve:{xiiiSueldoListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"anticipoListadoTrans",component:Gi,resolve:{anticipoListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"utilidadListadoTrans",component:ki,resolve:{utilidadListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"rolListadoTrans",component:Hi,resolve:{rolListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"contableListadoRRHHTrans",component:lr.a,resolve:{contableListado:K.a,breadcrumb:z.a,referencia:"recursoshumanos."},runGuardsAndResolvers:"always"},{path:"xivSueldoListadoTrans",component:Li,resolve:{xivSueldoListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"prestamoListadoTrans",component:Zi,resolve:{prestamoListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"provisionesListadoTrans",component:qi,resolve:{provisionesListadoTrans:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"ordenesBancarias",component:cr,resolve:{ordenesBancarias:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"chequesNoImpresosTrans",component:Wi.a,resolve:{chequesNoImpresos:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"},{path:"liquidacion",component:fr.a,resolve:{liquidacion:K.a,breadcrumb:z.a},runGuardsAndResolvers:"always"}]}],br=function(){function e(){}return e=Ar([Object(a.NgModule)({imports:[g.RouterModule.forChild(gr)],exports:[g.RouterModule],providers:[{provide:"recursoshumanos.",useValue:function(e,t){return"recursoshumanos."}},{provide:"G",useValue:function(e,t){return"G"}},{provide:"P",useValue:function(e,t){return"P"}},{provide:"SECAP",useValue:function(e,t){return"SECAP"}},{provide:"IECE",useValue:function(e,t){return"IECE"}},{provide:"APORTE_PATRONAL",useValue:function(e,t){return"APORTE_PATRONAL"}},{provide:"XIV",useValue:function(e,t){return"XIV"}},{provide:"XIII",useValue:function(e,t){return"XIII"}}]})],e)}(),Sr=o("Q8hO"),Cr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Ir=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Rr=function(){function e(e,t,o,i,r,n,c){this.utilService=e,this.modalService=t,this.categoriaService=o,this.planContableService=i,this.toastr=r,this.atajoService=n,this.auth=c,this.empresaSeleccionada=new M.a,this.categoria=new b(null),this.categoriaCopia=new b(null),this.tiposContables=new Array,this.enviarAccion=new a.EventEmitter,this.constantes=s.a,this.isScreamMd=!0,this.categoriaNombres=new b(null),this.tipoSeleccionado=new u.a,this.cargando=!1,this.tamanioEstructura=0,this.activarCategoriaForm=!1}return e.prototype.ngOnInit=function(){this.definirAtajosDeTeclado(),this.obtenerEstructura(),this.isScreamMd=!(window.innerWidth<=576),this.accion!==s.a.ACCION_CREAR&&this.formatearDatos(this.categoria),(this.accion===s.a.ACCION_CREAR||this.accion===s.a.ACCION_EDITAR)&&this.extraerValoresIniciales(),this.tipoSeleccionado=this.tiposContables[0]?this.tiposContables[0]:null},e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardar");return e&&e.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelar");return e&&e.click(),!1}))},e.prototype.formatearDatos=function(e){this.cargando=!0,this.categoria=new b("cuenta",e),this.categoriaNombres=new b("nombre",e),this.categoriaCopia=JSON.parse(JSON.stringify(this.categoria)),this.cargando=!1},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmDatos?e.frmDatos.value:null)),e.focusInput("catNombre")},50)},e.prototype.cancelar=function(){var e=this;switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_CREAR:if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmDatos))this.categoria=this.categoriaService.volverAOriginal(this.categoria,this.categoriaNombres),this.enviarAccion.emit({accion:s.a.ACCION_CANCELAR});else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&(e.categoria=e.categoriaService.volverAOriginal(e.categoria,e.categoriaNombres),e.enviarAccion.emit({accion:s.a.ACCION_CANCELAR}))})}break;default:this.categoria=this.categoriaService.volverAOriginal(this.categoria,this.categoriaNombres),this.enviarAccion.emit({accion:s.a.ACCION_CANCELAR})}},e.prototype.modificar=function(e){if(this.validarAntesDeEnviar(e))if(this.utilService.puedoCancelar(this.valoresIniciales,e))this.toastr.warning(s.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,s.a.TOAST_INFORMACION),this.categoria=this.categoriaService.volverAOriginal(this.categoria,this.categoriaNombres),this.cargando=!1,this.enviarAccion.emit({accion:s.a.ACCION_CANCELAR});else{this.cargando=!0;var t={rhCategoriaTO:this.categoria,accion:"M"};this.categoriaService.accionCategorias(t,this,s.a.KEY_EMPRESA_SELECT)}},e.prototype.insertar=function(e){if(this.validarAntesDeEnviar(e)){this.cargando=!0,this.categoria.empCodigo=s.a.KEY_EMPRESA_SELECT,this.categoria.usrInsertaCategoria=this.auth.getCodigoUser();var t={rhCategoriaTO:this.categoria,accion:"I"};this.categoriaService.accionCategorias(t,this,s.a.KEY_EMPRESA_SELECT)}},e.prototype.verificarPermiso=function(e){return this.categoriaService.verificarPermiso(this.accion,this.empresaSeleccionada,e)},e.prototype.validarAntesDeEnviar=function(e){var t=!0;return this.verificarPermiso(!0)?(this.utilService.establecerFormularioTocado(e)&&e&&e.valid||(this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_TITULO_INVALIDOS),t=!1),this.cargando=t,t):(this.cargando=!1,!1)},e.prototype.despuesDeAccionCategorias=function(e){switch(this.categoria=this.categoriaService.volverAOriginal(this.categoria,this.categoriaNombres),this.toastr.info(e.operacionMensaje,s.a.TAG_AVISO),this.accion){case s.a.ACCION_CREAR:case s.a.ACCION_EDITAR:this.enviarAccion.emit({objetoSeleccionado:this.categoria,accion:s.a.ACCION_CREADO})}this.cargando=!1},e.prototype.abrirModalDeCuentas=function(e,t,o,a){var i=this,r=t&&t===this.categoriaCopia[o];if(this.utilService.validarKeyBuscar(e.keyCode)&&!r){var n={empresa:s.a.KEY_EMPRESA_SELECT,buscar:t};e.srcElement.blur(),e.preventDefault();var c=this.modalService.open(se.a,{size:"lg",windowClass:"miSize",backdrop:"static"});c.componentInstance.filtrosBusquedaPlanCuenta=n,c.componentInstance.tamanioEstructura=this.tamanioEstructura,c.result.then(function(e){e?(i.categoriaCopia[o]=e.cuentaCodigo?e.cuentaCodigo.trim():null,i.categoriaNombres[o]=e.cuentaDetalle?e.cuentaDetalle.trim():null,i.categoria[o]=e.cuentaCodigo?e.cuentaCodigo.trim():null,i.focusInput(a)):i.focusInput(o)},function(){i.focusInput(o)})}},e.prototype.validarCuentas=function(e){this.categoria[e]!==this.categoriaCopia[e]&&(this.categoria[e]="",this.categoriaCopia[e]="",this.categoriaNombres[e]="")},e.prototype.focusInput=function(e){var t=document.getElementById(e);t&&t.focus()},e.prototype.obtenerEstructura=function(){var e=this;this.cargando=!0,this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},s.a.KEY_EMPRESA_SELECT).then(function(t){e.tamanioEstructura=t[0].estGrupo1+t[0].estGrupo2+t[0].estGrupo3+t[0].estGrupo4+t[0].estGrupo5+t[0].estGrupo6,e.cargando=!1}).catch(function(t){e.utilService.handleError(t,e)})},e.prototype.cambiarActivar=function(){this.activarCategoriaForm=!this.activarCategoriaForm,this.enviarAccion.emit({accion:s.a.ACCION_ACTIVAR,estado:this.activarCategoriaForm})},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},Cr([Object(a.Input)(),Ir("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Cr([Object(a.Input)(),Ir("design:type",String)],e.prototype,"accion",void 0),Cr([Object(a.Input)(),Ir("design:type",b)],e.prototype,"categoria",void 0),Cr([Object(a.Input)(),Ir("design:type",b)],e.prototype,"categoriaCopia",void 0),Cr([Object(a.Input)(),Ir("design:type",Array)],e.prototype,"tiposContables",void 0),Cr([Object(a.Output)(),Ir("design:type",Object)],e.prototype,"enviarAccion",void 0),Cr([Object(a.ViewChild)("frmDatos"),Ir("design:type",ie.NgForm)],e.prototype,"frmDatos",void 0),Cr([Object(a.HostListener)("window:beforeunload",["$event"]),Ir("design:type",Function),Ir("design:paramtypes",[Event]),Ir("design:returntype",void 0)],e.prototype,"unloadHandler",null),Cr([Object(a.HostListener)("window:resize",["$event"]),Ir("design:type",Function),Ir("design:paramtypes",[]),Ir("design:returntype",void 0)],e.prototype,"onResize",null),e=Cr([Object(a.Component)({selector:"app-categoria-formulario",template:o("FYxX")}),Ir("design:paramtypes",[n.a,re.b,I,ne.a,r.b,A.HotkeysService,Ee.a])],e)}(),Or=function(){function e(e){this.daCategoria="",this.daFecha="",this.daId="",this.daNombres="",this.daValor=0,this.daReverso=!1,this.daFormaPago="",this.daDocumento="",this.daContable="",this.daAnulado=!1,this.daPendiente=!1,this.daObservaciones="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.daCategoria=e.daCategoria?e.daCategoria:this.daCategoria,this.daFecha=e.daFecha?e.daFecha:this.daFecha,this.daId=e.daId?e.daId:this.daId,this.daNombres=e.daNombres?e.daNombres:this.daNombres,this.daValor=e.daValor?e.daValor:this.daValor,this.daReverso=e.daReverso?e.daReverso:this.daReverso,this.daFormaPago=e.daFormaPago?e.daFormaPago:this.daFormaPago,this.daDocumento=e.daDocumento?e.daDocumento:this.daDocumento,this.daContable=e.daContable?e.daContable:this.daContable,this.daAnulado=e.daAnulado?e.daAnulado:this.daAnulado,this.daPendiente=e.daPendiente?e.daPendiente:this.daPendiente,this.daObservaciones=e.daObservaciones?e.daObservaciones:this.daObservaciones},e}(),Er=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Tr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_r=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarDetalleAnticipos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhDetalleAnticiposFiltradoTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarDetalleAnticipos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirDetalleAnticipos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteDetalleAnticipos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoDetalleAnticipos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.imprimirComprobanteAnticipo=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteAnticipo",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ComprobanteAnticipo_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.imprimirDetalleAnticipoContable=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteAnticipoContable",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("DetalleAnticipoContable_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarDetalleAncitipos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteAnticipo",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoDetalleAnticipos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:"",field:"",headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0,width:38,minWidth:38,maxWidth:38},{headerName:s.a.TAG_CATEGORIA,width:150,minWidth:150,field:"daCategoria"},{headerName:s.a.TAG_FECHA,width:150,minWidth:150,field:"daFecha"},{headerName:s.a.TAG_IDENTIFICACION,width:200,minWidth:200,field:"daId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"daNombres",cellClass:function(e){return e.data.daId?"":"tr-negrita"}},{headerName:s.a.TAG_VALOR,width:100,minWidth:100,field:"daValor",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.daId?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_FORMA_PAGO,width:150,minWidth:150,field:"daFormaPago"},{headerName:s.a.TAG_NUMERO_DOCUMENTO,width:150,minWidth:150,field:"daDocumento"},{headerName:s.a.TAG_CONTABLE,width:170,minWidth:170,field:"daContable"},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.daCategoria?{icono:s.a.ICON_BUSCAR,tooltip:s.a.ACCION_VER_CONTABLE,accion:s.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:""}}),e&&t.push(this.utilService.getSpanSelect()),t},e.prototype.generarPinnedBottonRowData=function(){return[{daCategoria:"",daFecha:"",daId:"",daNombres:s.a.TAG_TOTAL,daValor:0,daFormaPago:"",daDocumento:"",daContable:"",observacion:""}]},e=Er([Object(a.Injectable)({providedIn:"root"}),Tr("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),yr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Pr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mr=function(){function e(e,t,o,i,r,n,c){this.detalleAnticiposService=e,this.activeModal=t,this.toastr=o,this.filasService=i,this.atajoService=r,this.utilService=n,this.cdRef=c,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.estadoformulario=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.objetoSeleccionado=new Or,this.listaDetalleAnticipos=new Array,this.listaDetalleAnticiposTotal=new Array,this.filaTotal=new Array,this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.generarAtajos(),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda.currentValue?(this.buscarAnticipos(),this.generarAtajos()):this.listaDetalleAnticipos=new Array},e.prototype.ejecutarAccion=function(){this.verContable()},e.prototype.verContable=function(){this.objetoSeleccionado.daContable&&(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.objetoSeleccionado.daContable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0},this.cdRef.detectChanges())},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.cambiarActivarPaContable(),this.cambiarEstadoFormulario(e.mostrarContilidadAcciones),this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones,this.generarAtajos(),this.cdRef.detectChanges()},e.prototype.regresar=function(){this.enviarAccion.emit({accion:null})},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges(),this.cambiarActivarPaContable()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.consultarAnticipo=function(){this.verContable()},e.prototype.buscarAnticipos=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaDetalleAnticipos=new Array,this.detalleAnticiposService.listarDetalleAnticipos(this.parametrosBusqueda,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarDetalleAnticipos=function(e){this.filasTiempo.finalizarContador(),e[0].daId&&e[0].daFecha?(this.listaDetalleAnticiposTotal=e.slice(),this.pinnedBottomRowData=this.detalleAnticiposService.generarPinnedBottonRowData(),this.pinnedBottomRowData[0].daNombres=e[e.length-1].daNombres,this.pinnedBottomRowData[0].daValor=e[e.length-1].daValor,this.listaDetalleAnticipos=e,this.listaDetalleAnticipos.pop()):(this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.parametrosBusqueda&&this.regresar()),this.cargando=!1},e.prototype.consultar=function(){this.emitirAccion(s.a.ACCION_CONSULTAR,this.objetoSeleccionado)},e.prototype.imprimirDetalleAnticipos=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){var t={};if(e===s.a.NOMBRE_REPORTE_DETALLE_ANTICIPOS_FIRMA_COLECTIVA){this.cargando=!0;var o=this.utilService.getAGSelectedData(this.gridApi).length>0?this.utilService.getAGSelectedData(this.gridApi):this.listaDetalleAnticipos,a={empId:this.parametrosBusqueda.empId?this.parametrosBusqueda.empId:s.a.TAG_TODOS_MAYUSCULA,empCodigo:s.a.KEY_EMPRESA_SELECT,empCategoria:this.parametrosBusqueda.empCategoria?this.parametrosBusqueda.empCategoria:s.a.TAG_TODOS_MAYUSCULA,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetalleAnticiposTO:o,nombre:e};this.detalleAnticiposService.imprimirDetalleAnticipos(a,this,this.empresaSeleccionada)}else if(e===s.a.NOMBRE_REPORTE_DETALLE_ANTICIPOS){this.cargando=!0;var i={empId:this.parametrosBusqueda.empId?this.parametrosBusqueda.empId:s.a.TAG_TODOS_MAYUSCULA,empCodigo:s.a.KEY_EMPRESA_SELECT,empCategoria:this.parametrosBusqueda.empCategoria?this.parametrosBusqueda.empCategoria:s.a.TAG_TODOS_MAYUSCULA,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetalleAnticiposTO:this.listaDetalleAnticiposTotal,nombre:e};this.detalleAnticiposService.imprimirDetalleAnticipos(i,this,this.empresaSeleccionada)}else if(e===s.a.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO){this.cargando=!0,(o=this.utilService.getAGSelectedData(this.gridApi)).length>0?(t={listaDetalleAnticiposTO:o,nombre:e},this.detalleAnticiposService.imprimirComprobanteAnticipo(t,this,this.empresaSeleccionada)):(this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TOAST_INFORMACION),this.cargando=!1)}else if(e===s.a.NOMBRE_REPORTE_DETALLE_ANTICIPOS_CONTABLE){if(this.cargando=!0,(o=this.utilService.getAGSelectedData(this.gridApi)).length>0){var r={listaDetalleAnticiposTO:o,nombre:e};this.detalleAnticiposService.imprimirDetalleAnticipoContable(r,this,this.empresaSeleccionada)}else this.toastr.warning(s.a.MSJ_DEBE_SELECCIONAR_UNA_FILA,s.a.TOAST_INFORMACION),this.cargando=!1}}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetalleAnticiposTO:this.listaDetalleAnticiposTotal};this.detalleAnticiposService.exportarDetalleAncitipos(e,this,this.empresaSeleccionada)}},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.ejecutarSpanAccion=function(e,t){this.enviarItem(t)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.emitirAccion=function(e,t){var o={accion:e,objetoSeleccionado:t};this.enviarAccion.emit(o)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.cambiarActivarPaContable=function(){this.enviarActivar.emit(this.activar)},e.prototype.cambiarEstadoFormulario=function(e){this.estadoformulario.emit(e)},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivarAnticipos");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportarAnticipos");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimirAnticipos");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){if(e.parametrosBusqueda.accion===s.a.ACCION_CONSULTAR){var t=document.getElementById("btnCancelar");t&&t.click()}return!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CONSULTAR,function(){return e.listaDetalleAnticipos.length>0&&e.verContable(),!1}))},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_VER_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.verContable()}}]},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.detalleAnticiposService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="multiple",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.objetoSeleccionado.daContable&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},yr([Object(a.Input)(),Pr("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),yr([Object(a.Input)(),Pr("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),yr([Object(a.Input)(),Pr("design:type",Boolean)],e.prototype,"isModal",void 0),yr([Object(a.Output)(),Pr("design:type",Object)],e.prototype,"enviarActivar",void 0),yr([Object(a.Output)(),Pr("design:type",Object)],e.prototype,"estadoformulario",void 0),yr([Object(a.Output)(),Pr("design:type",Object)],e.prototype,"enviarAccion",void 0),yr([Object(a.ViewChild)("menuOpciones"),Pr("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),yr([Object(a.HostListener)("document:keydown",["$event"]),Pr("design:type",Function),Pr("design:paramtypes",[KeyboardEvent]),Pr("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=yr([Object(a.Component)({selector:"app-detalle-anticipos-listado",template:o("Hvr9"),styles:[o("O/oI")]}),Pr("design:paramtypes",[_r,re.a,r.b,x.a,A.HotkeysService,n.a,a.ChangeDetectorRef])],e)}(),Nr=function(){function e(e){this.dpCategoria="",this.dpFecha="",this.dpId="",this.dpNombres="",this.dpValor=0,this.dpFormaPago="",this.dpDocumento="",this.dpContable="",this.dpObservaciones="",this.dpPendiente=!1,this.dpReversado=!1,this.dpAnulado=!1,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.dpCategoria=e.dpCategoria?e.dpCategoria:this.dpCategoria,this.dpFecha=e.dpFecha?e.dpFecha:this.dpFecha,this.dpId=e.dpId?e.dpId:this.dpId,this.dpNombres=e.dpNombres?e.dpNombres:this.dpNombres,this.dpValor=e.dpValor?e.dpValor:this.dpValor,this.dpFormaPago=e.dpFormaPago?e.dpFormaPago:this.dpFormaPago,this.dpDocumento=e.dpDocumento?e.dpDocumento:this.dpDocumento,this.dpContable=e.dpContable?e.dpContable:this.dpContable,this.dpObservaciones=e.dpObservaciones?e.dpObservaciones:this.dpObservaciones,this.dpPendiente=e.dpPendiente?e.dpPendiente:this.dpPendiente,this.dpReversado=e.dpReversado?e.dpReversado:this.dpReversado,this.dpAnulado=e.dpAnulado?e.dpAnulado:this.dpAnulado},e}(),Dr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Lr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fr=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarDetallePrestamos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhDetallePrestamosTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarDetalleAnticipos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirDetallePrestamos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteDetallePrestamos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoDetallePrestamos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarDetallePrestamos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteDetallePrestamos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoDetallePrestamos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:s.a.TAG_CATEGORIA,width:150,minWidth:150,field:"dpCategoria"},{headerName:s.a.TAG_FECHA,width:150,minWidth:150,field:"dpFecha"},{headerName:s.a.TAG_OBSERVACIONES,width:180,minWidth:180,field:"dpObservaciones"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"dpNombres",cellClass:function(e){return e.data.dpCategoria?"":"tr-negrita"}},{headerName:s.a.TAG_VALOR,width:100,minWidth:100,field:"dpValor",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.dpCategoria?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_FORMA_PAGO,width:150,minWidth:150,field:"dpFormaPago"},{headerName:s.a.TAG_NUMERO_DOCUMENTO,width:150,minWidth:150,field:"dpDocumento"},{headerName:s.a.TAG_CONTABLE,width:150,minWidth:150,field:"dpContable"},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.dpCategoria?{icono:s.a.ICON_BUSCAR,tooltip:s.a.ACCION_VER_CONTABLE,accion:s.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:""}}),e&&t.push(this.utilService.getSpanSelect()),t},e.prototype.generarPinnedBottonRowData=function(){return[{dalFecha:"",dalId:"",dalNombres:s.a.TAG_TOTAL,dalFormaPagoDetalle:"",dalDocumento:"",dalValor:0,dalObservaciones:""}]},e=Dr([Object(a.Injectable)({providedIn:"root"}),Lr("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),xr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},wr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gr=function(){function e(e,t){this.api=e,this.atajoService=t}return e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivarPrestamo");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportarPrestamo");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimirPrestamo");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(e){var t=document.getElementById("btnCancelar");return t&&t.click(),!1}))},e=xr([Object(a.Injectable)({providedIn:"root"}),wr("design:paramtypes",[i.a,A.HotkeysService])],e)}(),Br=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},jr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ur=function(){function e(e,t,o,i,r,n,c){this.detallePrestamosService=e,this.detalleAnticiposListadoService=t,this.activeModal=o,this.filasService=i,this.utilService=r,this.toastr=n,this.cdRef=c,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.estadoformulario=new a.EventEmitter,this.objetoSeleccionado=new Nr,this.listaDetallePrestamos=new Array,this.listaDetallePrestamosTotal=new Array,this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.detalleAnticiposListadoService.definirAtajosDeTeclado(),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda.currentValue?(this.detalleAnticiposListadoService.definirAtajosDeTeclado(),this.buscarDetallePrestamos()):this.listaDetallePrestamos=new Array},e.prototype.ejecutarAccion=function(){this.consultarAnticipo()},e.prototype.verContable=function(){this.objetoSeleccionado.dpContable&&(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.objetoSeleccionado.dpContable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0},this.cdRef.detectChanges())},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.cambiarActivarPaContable(),this.cambiarEstadoFormulario(e.mostrarContilidadAcciones),this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones,this.cdRef.detectChanges(),this.detalleAnticiposListadoService.definirAtajosDeTeclado()},e.prototype.regresar=function(){this.enviarAccion.emit({accion:null})},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges(),this.cambiarActivarPaContable()},e.prototype.cambiarActivarPaContable=function(){this.enviarActivar.emit(this.activar)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.consultarAnticipo=function(){this.verContable()},e.prototype.buscarDetallePrestamos=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaDetallePrestamos=new Array,this.detallePrestamosService.listarDetallePrestamos(this.parametrosBusqueda,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarDetalleAnticipos=function(e){this.filasTiempo.finalizarContador(),e[0].dpId?(this.listaDetallePrestamosTotal=e.slice(),this.pinnedBottomRowData=this.detallePrestamosService.generarPinnedBottonRowData(),this.pinnedBottomRowData[0].dpNombres=e[e.length-1].dpNombres,this.pinnedBottomRowData[0].dpValor=e[e.length-1].dpValor,this.listaDetallePrestamos=e,this.listaDetallePrestamos.pop()):(this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.parametrosBusqueda&&this.regresar()),this.cargando=!1},e.prototype.consultar=function(){this.emitirAccion(s.a.ACCION_CONSULTAR,this.objetoSeleccionado)},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={empId:this.parametrosBusqueda.empId,empCodigo:this.parametrosBusqueda.empCodigo,empCategoria:this.parametrosBusqueda.empCategoria,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetallePrestamosTO:this.listaDetallePrestamosTotal};this.detallePrestamosService.imprimirDetallePrestamos(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetallePrestamosTO:this.listaDetallePrestamosTotal};this.detallePrestamosService.exportarDetallePrestamos(e,this,this.empresaSeleccionada)}},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.ejecutarSpanAccion=function(e,t){this.enviarItem(t)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.emitirAccion=function(e,t){var o={accion:e,objetoSeleccionado:t};this.enviarAccion.emit(o)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.cambiarEstadoFormulario=function(e){this.estadoformulario.emit(e)},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_VER_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.verContable()}}]},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.detallePrestamosService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.objetoSeleccionado.dpContable&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},Br([Object(a.Input)(),jr("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),Br([Object(a.Input)(),jr("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Br([Object(a.Input)(),jr("design:type",Boolean)],e.prototype,"isModal",void 0),Br([Object(a.Output)(),jr("design:type",Object)],e.prototype,"enviarActivar",void 0),Br([Object(a.Output)(),jr("design:type",Object)],e.prototype,"enviarAccion",void 0),Br([Object(a.Output)(),jr("design:type",Object)],e.prototype,"estadoformulario",void 0),Br([Object(a.ViewChild)("menuOpciones"),jr("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Br([Object(a.HostListener)("document:keydown",["$event"]),jr("design:type",Function),jr("design:paramtypes",[KeyboardEvent]),jr("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=Br([Object(a.Component)({selector:"app-detalle-prestamos-listado",template:o("ksXY"),styles:[o("PMxB")]}),jr("design:paramtypes",[Fr,Gr,re.a,x.a,n.a,r.b,a.ChangeDetectorRef])],e)}(),kr=function(){function e(e){this.dapTipo="",this.dapCategoria="",this.dapFecha="",this.dapId="",this.dapNombres="",this.dapValor=0,this.dapReverso=!1,this.dapFormaPago="",this.dapDocumento="",this.dapContable="",this.dapAnulado=!1,this.dapPendiente=!1,this.dapObservaciones="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.dapTipo=e.dapTipo?e.dapTipo:this.dapTipo,this.dapCategoria=e.dapCategoria?e.dapCategoria:this.dapCategoria,this.dapFecha=e.dapFecha?e.dapFecha:this.dapFecha,this.dapId=e.dapId?e.dapId:this.dapId,this.dapNombres=e.dapNombres?e.dapNombres:this.dapNombres,this.dapValor=e.dapValor?e.dapValor:this.dapValor,this.dapReverso=e.dapReverso?e.dapReverso:this.dapReverso,this.dapFormaPago=e.dapFormaPago?e.dapFormaPago:this.dapFormaPago,this.dapDocumento=e.dapDocumento?e.dapDocumento:this.dapDocumento,this.dapContable=e.dapContable?e.dapContable:this.dapContable,this.dapAnulado=e.dapAnulado?e.dapAnulado:this.dapAnulado,this.dapPendiente=e.dapPendiente?e.dapPendiente:this.dapPendiente,this.dapObservaciones=e.dapObservaciones?e.dapObservaciones:this.dapObservaciones},e}(),Vr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Xr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jr=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarDetallePrestamos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhDetalleAnticiposPrestamosTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarDetalleAnticipos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirDetalleAnticiposPrestamos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteDetalleAnticiposPrestamos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoAnticiposPrestamos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarDetalleAnticiposPrestamos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteDetalleAnticiposPrestamos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoAnticiposPrestamos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:"",field:"",headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0,width:38,minWidth:38,maxWidth:38},{headerName:s.a.TAG_TIPO,width:150,minWidth:150,field:"dapTipo"},{headerName:s.a.TAG_CATEGORIA,width:150,minWidth:150,field:"dapCategoria"},{headerName:s.a.TAG_FECHA,width:150,minWidth:150,field:"dapFecha"},{headerName:s.a.TAG_IDENTIFICACION,width:180,minWidth:180,field:"dapId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"dapNombres",cellClass:function(e){return e.data.dapTipo?"":"tr-negrita"}},{headerName:s.a.TAG_VALOR,width:100,minWidth:100,field:"dapValor",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.dapTipo?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_FORMA_PAGO,width:150,minWidth:150,field:"dapFormaPago"},{headerName:s.a.TAG_NUMERO_DOCUMENTO,width:150,minWidth:150,field:"dapDocumento"},{headerName:s.a.TAG_CONTABLE,width:150,minWidth:150,field:"dapContable"},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.dapTipo?{icono:s.a.ICON_BUSCAR,tooltip:s.a.ACCION_VER_CONTABLE,accion:s.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:""}}),e&&t.push(this.utilService.getSpanSelect()),t},e.prototype.generarPinnedBottonRowData=function(){return[{dapTipo:"",dapCategoria:"",dapFecha:"",dapId:"",dapNombres:"",dapValor:0,dapFormaPago:"",dapDocumento:"",dapContable:""}]},e=Vr([Object(a.Injectable)({providedIn:"root"}),Xr("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),Hr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Wr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yr=function(){function e(e,t){this.api=e,this.atajoService=t}return e.prototype.definirAtajosDeTeclado=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivarAntiPres");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportarAntiPres");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimirAntiPres");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(e){var t=document.getElementById("btnCancelar");return t&&t.click(),!1}))},e=Hr([Object(a.Injectable)({providedIn:"root"}),Wr("design:paramtypes",[i.a,A.HotkeysService])],e)}(),Kr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},zr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qr=function(){function e(e,t,o,i,r,n,c){this.detalleAnticiposPrestamoService=e,this.detalleAnticiposPrestamosListadoService=t,this.activeModal=o,this.filasService=i,this.toastr=r,this.cdRef=n,this.utilService=c,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.estadoformulario=new a.EventEmitter,this.objetoSeleccionado=new kr,this.listaDetalleAnticiposPrestamos=new Array,this.listaDetalleAnticiposPrestamosTotal=new Array,this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.detalleAnticiposPrestamosListadoService.definirAtajosDeTeclado(),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda.currentValue?(this.detalleAnticiposPrestamosListadoService.definirAtajosDeTeclado(),this.buscarDetalleAnticiposPrestamos()):this.listaDetalleAnticiposPrestamos=new Array},e.prototype.ejecutarAccion=function(){this.verContable()},e.prototype.verContable=function(){this.objetoSeleccionado.dapContable&&(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.objetoSeleccionado.dapContable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0},this.cdRef.detectChanges())},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.cambiarActivarPaContable(),this.cambiarEstadoFormulario(e.mostrarContilidadAcciones),this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones,this.detalleAnticiposPrestamosListadoService.definirAtajosDeTeclado(),this.cdRef.detectChanges()},e.prototype.regresar=function(){this.enviarAccion.emit({accion:null})},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges(),this.cambiarActivarPaContable()},e.prototype.cambiarActivarPaContable=function(){this.enviarActivar.emit(this.activar)},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.consultarAnticipo=function(){this.verContable()},e.prototype.buscarDetalleAnticiposPrestamos=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaDetalleAnticiposPrestamos=new Array,this.detalleAnticiposPrestamoService.listarDetallePrestamos(this.parametrosBusqueda,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarDetalleAnticipos=function(e){this.filasTiempo.finalizarContador(),e[0].dapId?(this.listaDetalleAnticiposPrestamosTotal=e.slice(),this.pinnedBottomRowData=this.detalleAnticiposPrestamoService.generarPinnedBottonRowData(),this.pinnedBottomRowData[0].dapNombres=e[e.length-1].dapNombres,this.pinnedBottomRowData[0].dapValor=e[e.length-1].dapValor,e.pop(),this.listaDetalleAnticiposPrestamos=e):(this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.parametrosBusqueda&&this.regresar()),this.cargando=!1},e.prototype.consultar=function(){this.emitirAccion(s.a.ACCION_CONSULTAR,this.objetoSeleccionado)},e.prototype.imprimir=function(e){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={empId:this.parametrosBusqueda.empId,empCodigo:this.parametrosBusqueda.empCodigo,empCategoria:this.parametrosBusqueda.empCategoria,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetalleAnticiposPrestamosTO:this.listaDetalleAnticiposPrestamosTotal};this.detalleAnticiposPrestamoService.imprimirDetalleAnticiposPrestamos(t,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetalleAnticiposPrestamosTO:this.listaDetalleAnticiposPrestamosTotal};this.detalleAnticiposPrestamoService.exportarDetalleAnticiposPrestamos(e,this,this.empresaSeleccionada)}},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.ejecutarSpanAccion=function(e,t){this.enviarItem(t)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.emitirAccion=function(e,t){var o={accion:e,objetoSeleccionado:t};this.enviarAccion.emit(o)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.cambiarEstadoFormulario=function(e){this.estadoformulario.emit(e)},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_VER_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.verContable()}}]},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.detalleAnticiposPrestamoService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="multiple",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.objetoSeleccionado.dapContable&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},Kr([Object(a.Input)(),zr("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),Kr([Object(a.Input)(),zr("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Kr([Object(a.Input)(),zr("design:type",Boolean)],e.prototype,"isModal",void 0),Kr([Object(a.Output)(),zr("design:type",Object)],e.prototype,"enviarActivar",void 0),Kr([Object(a.Output)(),zr("design:type",Object)],e.prototype,"enviarAccion",void 0),Kr([Object(a.Output)(),zr("design:type",Object)],e.prototype,"estadoformulario",void 0),Kr([Object(a.ViewChild)("menuOpciones"),zr("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Kr([Object(a.HostListener)("document:keydown",["$event"]),zr("design:type",Function),zr("design:paramtypes",[KeyboardEvent]),zr("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=Kr([Object(a.Component)({selector:"app-detalle-anticipos-prestamos-listado",template:o("dC5x"),styles:[o("v6A1")]}),zr("design:paramtypes",[Jr,Yr,re.a,x.a,r.b,a.ChangeDetectorRef,n.a])],e)}(),$r=function(){function e(e){this.capCategoria="",this.capId="",this.capNombres="",this.capAnticipos=0,this.capPrestamos=0,this.capTotal=0,this.capOrden="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.capCategoria=e.capCategoria?e.capCategoria:this.capCategoria,this.capId=e.capId?e.capId:this.capId,this.capNombres=e.capNombres?e.capNombres:this.capNombres,this.capAnticipos=e.capAnticipos?e.capAnticipos:this.capAnticipos,this.capPrestamos=e.capPrestamos?e.capPrestamos:this.capPrestamos,this.capTotal=e.capTotal?e.capTotal:this.capTotal,this.capOrden=e.capOrden?e.capOrden:this.capOrden},e}(),Qr=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Zr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},en=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarDetallePrestamos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhConsolidadoAnticiposPrestamosTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarDetalleAnticipos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirConsolidadoAnticiposPrestamos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteConsolidadoAnticiposPrestamos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoConsolidadoAnticiposPrestamos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarConsolidadoAnticiposPrestamos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteConsolidadosAnticiposPrestamos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoConsolidadoAnticiposPrestamos_"):a.toastr.warning(s.a.MSJ_ERROR_EXPORTAR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:s.a.TAG_CATEGORIA,width:150,minWidth:150,field:"capCategoria"},{headerName:s.a.TAG_IDENTIFICACION,width:150,minWidth:150,field:"capId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"capNombres",cellClass:function(e){return e.data.capId?"":"tr-negrita"}},{headerName:s.a.TAG_ANTICIPOS,width:100,minWidth:100,field:"capAnticipos",valueFormatter:tn,cellClass:function(e){return(e.data.capId?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_PRESTAMOS,width:100,minWidth:100,field:"capPrestamos",valueFormatter:tn,cellClass:function(e){return(e.data.capId?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_TOTAL,width:100,minWidth:100,field:"capTotal",valueFormatter:tn,cellClass:function(e){return(e.data.capId?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",cellClass:function(e){return e.data.capId?"text-center":"d-none"},width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRendererFramework:Pe.a,headerComponentFramework:Me.a,headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:"",enableSorting:!1},pinnedRowCellRenderer:No.a}),e&&t.push(this.utilService.getSpanSelect()),t},e.prototype.generarPinnedBottonRowData=function(){return[{capCategoria:"",capId:"",capNombres:"",capAnticipos:"",capPrestamos:"",capTotal:""}]},e=Qr([Object(a.Injectable)({providedIn:"root"}),Zr("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}();function tn(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}var on=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},an=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rn=function(){function e(e,t,o,i,r){this.consolidadoAnticiposPrestamosService=e,this.activeModal=t,this.filasService=o,this.utilService=i,this.atajoService=r,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.objetoSeleccionado=new $r,this.listaConsolidadoAnticiposPrestamos=new Array,this.listaConsolidadoAnticiposPrestamosTotal=new Array,this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.parametrosListado={},this.accionVista=null,this.estadoformulario=new a.EventEmitter,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.generarAtajos(),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda.currentValue?this.buscarConsolidadoAnticiposPrestamos():this.listaConsolidadoAnticiposPrestamos=new Array},e.prototype.ejecutarAccion=function(e){null===e.accion&&(this.parametrosListado={},this.accionVista=null,this.cambiarEstadoFormulario(!1),this.generarAtajos())},e.prototype.buscarConsolidadoAnticiposPrestamos=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaConsolidadoAnticiposPrestamos=new Array,this.consolidadoAnticiposPrestamosService.listarDetallePrestamos(this.parametrosBusqueda,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarDetalleAnticipos=function(e){this.filasTiempo.finalizarContador(),this.listaConsolidadoAnticiposPrestamosTotal=e.slice(),this.pinnedBottomRowData=this.consolidadoAnticiposPrestamosService.generarPinnedBottonRowData(),this.pinnedBottomRowData[0].capNombres=e[e.length-1].capNombres,this.pinnedBottomRowData[0].capAnticipos=e[e.length-1].capAnticipos,this.pinnedBottomRowData[0].capPrestamos=e[e.length-1].capPrestamos,this.pinnedBottomRowData[0].capTotal=e[e.length-1].capTotal,this.listaConsolidadoAnticiposPrestamos=e,this.listaConsolidadoAnticiposPrestamos.pop(),this.cargando=!1},e.prototype.consultar=function(){this.emitirAccion(s.a.ACCION_CONSULTAR,this.objetoSeleccionado)},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaConsolidadoAnticiposPrestamosTO:this.listaConsolidadoAnticiposPrestamosTotal};this.consolidadoAnticiposPrestamosService.imprimirConsolidadoAnticiposPrestamos(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaConsolidadoAnticiposPrestamosTO:this.listaConsolidadoAnticiposPrestamosTotal};this.consolidadoAnticiposPrestamosService.exportarConsolidadoAnticiposPrestamos(e,this,this.empresaSeleccionada)}},e.prototype.cambiarEstadoFormulario=function(e){this.estadoformulario.emit(e)},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.ejecutarSpanAccion=function(e,t){this.enviarItem(t)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.emitirAccion=function(e,t){var o={accion:e,objetoSeleccionado:t};this.enviarAccion.emit(o)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.cambiarActivarVista=function(e){this.activar=e,this.enviarActivar.emit(e)},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.TAG_ANTICIPOS,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.operacionesOpciones(s.a.TAG_ANTICIPOS)}},{label:s.a.TAG_PRESTAMOS,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.operacionesOpciones(s.a.TAG_PRESTAMOS)}},{label:s.a.TAG_AMBOS,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.operacionesOpciones(s.a.TAG_AMBOS)}}]},e.prototype.operacionesOpciones=function(e){this.objetoSeleccionado.capId&&(this.accionVista=e,this.parametrosListado={empCodigo:this.empresaSeleccionada.empCodigo,fechaDesde:this.parametrosBusqueda.fechaDesde,fechaHasta:this.parametrosBusqueda.fechaHasta,empCategoria:this.parametrosBusqueda.empCategoria,empId:this.objetoSeleccionado.capId,formaPago:this.parametrosBusqueda.formaPago,accion:s.a.ACCION_CONSULTAR,parametro:"TODOS"},this.cambiarEstadoFormulario(!0))},e.prototype.generarAtajos=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimir");return t&&t.click(),!1}))},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.consolidadoAnticiposPrestamosService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.objetoSeleccionado.capId&&(this.generarOpciones(),this.menuOpciones.show(t)),t.stopPropagation()},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},on([Object(a.Input)(),an("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),on([Object(a.Input)(),an("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),on([Object(a.Input)(),an("design:type",Boolean)],e.prototype,"isModal",void 0),on([Object(a.Output)(),an("design:type",Object)],e.prototype,"enviarActivar",void 0),on([Object(a.Output)(),an("design:type",Object)],e.prototype,"enviarAccion",void 0),on([Object(a.Output)(),an("design:type",Object)],e.prototype,"estadoformulario",void 0),on([Object(a.ViewChild)("menuOpciones"),an("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),on([Object(a.HostListener)("document:keydown",["$event"]),an("design:type",Function),an("design:paramtypes",[KeyboardEvent]),an("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=on([Object(a.Component)({selector:"app-consolidado-anticipos-prestamos-listado",template:o("tq2N"),styles:[o("qmJD")]}),an("design:paramtypes",[en,re.a,x.a,n.a,A.HotkeysService])],e)}(),nn=function(){function e(e){this.dbCategoria="",this.dbFecha="",this.dbId="",this.dbNombres="",this.dbConcepto="",this.dbSector="",this.dbPiscina="",this.dbValor=0,this.dbDeducible=!1,this.dbPendiente=!1,this.dbReversado=!1,this.dbAnulado=!1,this.dbContable="",this.dbObservaciones="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.dbCategoria=e.dbCategoria?e.dbCategoria:this.dbCategoria,this.dbFecha=e.dbFecha?e.dbFecha:this.dbFecha,this.dbId=e.dbId?e.dbId:this.dbId,this.dbNombres=e.dbNombres?e.dbNombres:this.dbNombres,this.dbConcepto=e.dbConcepto?e.dbConcepto:this.dbConcepto,this.dbSector=e.dbSector?e.dbSector:this.dbSector,this.dbPiscina=e.dbPiscina?e.dbPiscina:this.dbPiscina,this.dbValor=e.dbValor?e.dbValor:this.dbValor,this.dbDeducible=e.dbDeducible?e.dbDeducible:this.dbDeducible,this.dbPendiente=e.dbPendiente?e.dbPendiente:this.dbPendiente,this.dbReversado=e.dbReversado?e.dbReversado:this.dbReversado,this.dbAnulado=e.dbAnulado?e.dbAnulado:this.dbAnulado,this.dbContable=e.dbContable?e.dbContable:this.dbContable,this.dbObservaciones=e.dbObservaciones?e.dbObservaciones:this.dbObservaciones},e}(),sn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},cn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ln=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarDetalleBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhListaDetalleBonosFiltradoTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarDetalleBonos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirDetalleBonos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteDetalleBonos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoDetalleBonos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarDetalleBonos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteDetalleDeBono",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoDetalleBonos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:s.a.TAG_CATEGORIA,width:150,minWidth:150,field:"dbCategoria"},{headerName:s.a.TAG_FECHA,width:150,minWidth:150,field:"dbFecha"},{headerName:s.a.TAG_IDENTIFICACION,width:150,minWidth:150,field:"dbId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"dbNombres",cellClass:function(e){return e.data.dbCategoria?"":"tr-negrita"}},{headerName:s.a.TAG_CONCEPTO,width:150,minWidth:150,field:"dbConcepto"},{headerName:s.a.TAG_VALOR,width:100,minWidth:100,field:"dbValor",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.dbCategoria?"":"tr-negrita")+" text-right"}},{headerName:s.a.TAG_DEDUCIBLE,width:110,minWidth:110,field:"dbDeducible",valueFormatter:function(e){var t="NO";return e.data.dbDeducible&&e.data.dbCategoria.dbId&&(t="SI"),null==e.data.dbCategoria.dbId&&(t=""),t}},{headerName:s.a.TAG_CONTABLE,width:180,minWidth:180,field:"dbContable"},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.dbId?{icono:s.a.ICON_BUSCAR,tooltip:s.a.ACCION_VER_CONTABLE,accion:s.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:""}}),e&&t.push(this.utilService.getSpanSelect()),t},e.prototype.generarPinnedBottonRowData=function(){return[{dbCategoria:"",dbFecha:"",dbId:"",dbNombres:"",dbConcepto:"",dbValor:"",dbDeducible:"",dbContable:""}]},e=sn([Object(a.Injectable)({providedIn:"root"}),cn("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),dn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},pn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mn=function(){function e(e,t,o,i,r,n,c){this.detalleBonosService=e,this.activeModal=t,this.filasService=o,this.utilService=i,this.toastr=r,this.cdRef=n,this.atajoService=c,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.estadoformulario=new a.EventEmitter,this.objetoSeleccionado=new nn,this.listaDetalleBonos=new Array,this.listaDetalleBonosTotal=new Array,this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda.currentValue?(this.generarAtajos(),this.buscarDetalleBonos()):this.listaDetalleBonos=new Array},e.prototype.ejecutarAccion=function(){this.consultarAnticipo()},e.prototype.verContable=function(){this.objetoSeleccionado.dbContable&&(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:this.objetoSeleccionado.dbContable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0},this.cdRef.detectChanges())},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.cambiarActivarPaContable(),this.cambiarEstadoFormulario(e.mostrarContilidadAcciones),this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones,this.cdRef.detectChanges(),this.generarAtajos()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges(),this.cambiarActivarPaContable()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.cambiarActivarPaContable=function(){this.enviarActivar.emit(this.activar)},e.prototype.consultarAnticipo=function(){this.verContable()},e.prototype.buscarDetalleBonos=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaDetalleBonos=new Array,this.detalleBonosService.listarDetalleBonos(this.parametrosBusqueda,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarDetalleBonos=function(e){this.filasTiempo.finalizarContador(),e[0].dbId&&e[0].dbContable?(this.listaDetalleBonosTotal=e.slice(),this.parametrosBusqueda.parametro===s.a.TAG_TODOS_MAYUSCULA?(this.pinnedBottomRowData=this.detalleBonosService.generarPinnedBottonRowData(),this.pinnedBottomRowData[0].dbNombres=e[e.length-1].dbNombres,this.pinnedBottomRowData[0].dbValor=e[e.length-1].dbValor,this.listaDetalleBonos=e,this.listaDetalleBonos.pop()):(this.listaDetalleBonos=e,this.pinnedBottomRowData[0].dbNombres="",this.pinnedBottomRowData[0].dbValor="")):this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.cargando=!1},e.prototype.consultar=function(){this.emitirAccion(s.a.ACCION_CONSULTAR,this.objetoSeleccionado)},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={nombreEmpleado:this.parametrosBusqueda.nombreEmpleado,empCategoria:this.parametrosBusqueda.empCategoria,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetalleBonosTO:this.listaDetalleBonosTotal};this.detalleBonosService.imprimirDetalleBonos(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaDesde),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaDetalleBonosTO:this.listaDetalleBonosTotal};this.detalleBonosService.exportarDetalleBonos(e,this,this.empresaSeleccionada)}},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.ejecutarSpanAccion=function(e,t){this.enviarItem(t)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.emitirAccion=function(e,t){var o={accion:e,objetoSeleccionado:t};this.enviarAccion.emit(o)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.cambiarEstadoFormulario=function(e){this.estadoformulario.emit(e)},e.prototype.generarAtajos=function(){this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimir");return t&&t.click(),!1}))},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_VER_CONTABLE,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.verContable()}}]},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.detalleBonosService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.objetoSeleccionado.dbContable&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},dn([Object(a.Input)(),pn("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),dn([Object(a.Input)(),pn("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),dn([Object(a.Input)(),pn("design:type",Boolean)],e.prototype,"isModal",void 0),dn([Object(a.Output)(),pn("design:type",Object)],e.prototype,"enviarActivar",void 0),dn([Object(a.Output)(),pn("design:type",Object)],e.prototype,"enviarAccion",void 0),dn([Object(a.Output)(),pn("design:type",Object)],e.prototype,"estadoformulario",void 0),dn([Object(a.ViewChild)("menuOpciones"),pn("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),dn([Object(a.HostListener)("document:keydown",["$event"]),pn("design:type",Function),pn("design:paramtypes",[KeyboardEvent]),pn("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=dn([Object(a.Component)({selector:"app-detalle-bonos-listado",template:o("7FTB"),styles:[o("VSMe")]}),pn("design:paramtypes",[ln,re.a,x.a,n.a,r.b,a.ChangeDetectorRef,A.HotkeysService])],e)}(),un=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},hn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vn=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarSaldosConsolidadosBonos=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhSaldoConsolidadoBonosTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarSaldosConsolidadosBonos(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirSaldosConsolidadoBonos=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/rrhhWebController/generarReporteSaldoConsolidadoBonosViaticos",e,o).then(function(e){e._body.byteLength>0?a.utilService.descargarArchivoPDF("ListadoSaldoConsolidadoBonos_"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){a.utilService.handleError(e,a),t.cargando=!1})},e.prototype.exportarSaldosConsolidadoBonos=function(e,t,o){var a=this;this.archivoService.postExcel("todocompuWS/rrhhWebController/exportarReporteSaldoConsolidadoBonosViaticos",e,o).then(function(e){e?a.utilService.descargarArchivoExcel(e._body,"ListadoSaldoConsolidadoBonos_"):a.toastr.warning(s.a.MSJ_NO_DATA,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:s.a.TAG_CATEGORIA,width:150,minWidth:150,field:"scbvCategoria"},{headerName:s.a.TAG_NUMERO_IDENTIFICACION,width:200,minWidth:200,field:"scbvId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"scbvNombres",cellClass:function(e){return e.data.scbvId?"":"tr-negrita"}},{headerName:s.a.TAG_BONOS,width:100,minWidth:100,field:"scbvBonos",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return(e.data.scbvId?"":"tr-negrita")+" text-right"}}),e&&t.push(this.utilService.getSpanSelect()),t},e=un([Object(a.Injectable)({providedIn:"root"}),hn("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),fn=function(){function e(e){this.scbvCategoria="",this.scbvId="",this.scbvNombres="",this.scbvBonos=0,this.scbvViaticos=0,this.scbvTotal=0,this.scbvOrden="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.scbvCategoria=e.dbCategoria?e.scbvCategoria:this.scbvCategoria,this.scbvId=e.scbvId?e.scbvId:this.scbvId,this.scbvNombres=e.scbvNombres?e.scbvNombres:this.scbvNombres,this.scbvBonos=e.scbvBonos?e.scbvBonos:this.scbvBonos,this.scbvViaticos=e.scbvViaticos?e.scbvViaticos:this.scbvViaticos,this.scbvTotal=e.scbvTotal?e.scbvTotal:this.scbvTotal,this.scbvOrden=e.scbvOrden?e.scbvOrden:this.scbvOrden},e}(),An=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},gn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bn=function(){function e(e,t,o,i,r){this.saldoConsolidadoBonosService=e,this.activeModal=t,this.filasService=o,this.atajoService=i,this.utilService=r,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.objetoSeleccionado=new fn,this.listaConsolidadoBonos=new Array,this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.parametrosBusqueda&&this.buscarSaldosBonos(),this.generarAtajos(),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda.currentValue?(this.generarAtajos(),this.buscarSaldosBonos()):this.listaConsolidadoBonos=new Array},e.prototype.buscarSaldosBonos=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaConsolidadoBonos=new Array,this.saldoConsolidadoBonosService.listarSaldosConsolidadosBonos(this.parametrosBusqueda,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarSaldosConsolidadosBonos=function(e){this.filasTiempo.finalizarContador(),this.listaConsolidadoBonos=e,this.cargando=!1},e.prototype.consultar=function(){this.emitirAccion(s.a.ACCION_CONSULTAR,this.objetoSeleccionado)},e.prototype.imprimir=function(){if(this.utilService.verificarPermiso(s.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaSaldoConsolidadoBonosViaticosTO:this.listaConsolidadoBonos};this.saldoConsolidadoBonosService.imprimirSaldosConsolidadoBonos(e,this,this.empresaSeleccionada)}},e.prototype.exportar=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.parametrosBusqueda.fechaHasta),listaSaldoConsolidadoBonosViaticosTO:this.listaConsolidadoBonos};this.saldoConsolidadoBonosService.exportarSaldosConsolidadoBonos(e,this,this.empresaSeleccionada)}},e.prototype.regresar=function(){this.enviarAccion.emit(null)},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.ejecutarSpanAccion=function(e,t){this.enviarItem(t)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.emitirAccion=function(e,t){var o={accion:e,objetoSeleccionado:t};this.enviarAccion.emit(o)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_IMPRIMIR,function(e){var t=document.getElementById("btnImprimir");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){if(e.parametrosBusqueda.accion===s.a.ACCION_CONSULTAR){var t=document.getElementById("btnCancelar");t&&t.click()}return!1}))},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.saldoConsolidadoBonosService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},An([Object(a.Input)(),gn("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),An([Object(a.Input)(),gn("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),An([Object(a.Input)(),gn("design:type",Boolean)],e.prototype,"isModal",void 0),An([Object(a.Output)(),gn("design:type",Object)],e.prototype,"enviarActivar",void 0),An([Object(a.Output)(),gn("design:type",Object)],e.prototype,"enviarAccion",void 0),An([Object(a.HostListener)("document:keydown",["$event"]),gn("design:type",Function),gn("design:paramtypes",[KeyboardEvent]),gn("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=An([Object(a.Component)({selector:"app-saldos-consolidados-bonos-listado",template:o("k4JG"),styles:[o("v6oB")]}),gn("design:paramtypes",[vn,re.a,x.a,A.HotkeysService,n.a])],e)}(),Sn=o("RC2U"),Cn=function(){function e(e){this.paisCodigo="",this.paisNombre="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.paisCodigo=e.paisCodigo?e.paisCodigo:this.paisCodigo,this.paisNombre=e.paisNombre?e.paisNombre:this.paisNombre},e}(),In=o("3hy1"),Rn=o("flmD"),On=function(){function e(e){this.parSecuencial=0,this.parDesde=null,this.parHasta=null,this.parIessPorcentajeAporteIndividual=0,this.parIessPorcentajeAporteExtendido=0,this.parIessPorcentajeAportePatronal=0,this.parIessPorcentajeIece=0,this.parIessPorcentajeSecap=0,this.parSalarioMinimoVital=0,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.parSecuencial=e.parSecuencial?e.parSecuencial:this.parSecuencial,this.parDesde=e.parDesde?e.parDesde:this.parDesde,this.parHasta=e.parHasta?e.parHasta:this.parHasta,this.parIessPorcentajeAporteIndividual=e.parIessPorcentajeAporteIndividual?e.parIessPorcentajeAporteIndividual:this.parIessPorcentajeAporteIndividual,this.parIessPorcentajeAporteExtendido=e.parIessPorcentajeAporteExtendido?e.parIessPorcentajeAporteExtendido:this.parIessPorcentajeAporteExtendido,this.parIessPorcentajeAportePatronal=e.parIessPorcentajeAportePatronal?e.parIessPorcentajeAportePatronal:this.parIessPorcentajeAportePatronal,this.parIessPorcentajeIece=e.parIessPorcentajeIece?e.parIessPorcentajeIece:this.parIessPorcentajeIece,this.parIessPorcentajeSecap=e.parIessPorcentajeSecap?e.parIessPorcentajeSecap:this.parIessPorcentajeSecap,this.parSalarioMinimoVital=e.parSalarioMinimoVital?e.parSalarioMinimoVital:this.parSalarioMinimoVital},e}(),En=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},_n=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},yn=function(){function e(e,t,o,i,r){this.empleadoService=e,this.utilService=t,this.api=o,this.toastr=i,this.cantonService=r,this.empresaSeleccionada=new M.a,this.enviarAccion=new a.EventEmitter,this.rptaCedula=null,this.rptaRepetido=null,this.fechaNacimientoValido=!0,this.cargaFamiliarValida=!0,this.sueldoValido=!0,this.archivoPerfilByte=null,this.visualizarImagen=!1,this.paisLocal=new Cn,this.tipoIdentidadLocal=new Sn.a,this.constantes=s.a,this.accion=null,this.isScreamMd=!0,this.cargando=!1,this.activar=!1,this.es={},this.idOriginal="",this.correos=[],this.empleado=new $.a,this.descuentos=new Array,this.motivosDeAnticipos=new Array,this.provincias=new Array,this.paises=new Array,this.residencias=new Array,this.tiposIdentidad=new Array,this.tiposIdentidadDiscapacidad=new Array,this.generos=new Array,this.estadosCivil=new Array,this.discapacidades=new Array,this.cuentasBancarias=new Array,this.fechaActual=new Date,this.formasDePago=new Array,this.sectores=new Array,this.sectorSeleccionado=new Rn.a,this.categorias=new Array,this.categoriaSeleccionada=new In.a,this.cantones=new Array,this.bancos=new Array,this.motivos=new Array,this.rhParametros=new On,L.locale("es"),this.es=this.utilService.setLocaleDate(),this.autonumeric92=this.empleadoService.autonumeric92(),this.autonumeric30=this.empleadoService.autonumeric30(),this.autonumeric30Cargas=this.empleadoService.autonumeric30()}return e.prototype.ngOnInit=function(){if(this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS),s.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.accion=this.parametrosFormulario.accion,this.empleado=En({},this.parametrosFormulario.objetoSeleccionado),this.fechasDateSinZonaHoraria(),this.data){var e=En({},this.data);this.despuesDeObtenerDatosParaCrudEmpleados(e)}else{this.cargando=!0;var t={empresa:s.a.KEY_EMPRESA_SELECT};this.empleadoService.obtenerDatosParaCrudEmpleados(t,this,s.a.KEY_EMPRESA_SELECT)}this.empleado&&""!=this.empleado.empCorreoElectronico&&(this.correos=this.empleado.empCorreoElectronico.split(";"),this.tamanioChico()),this.empleadoService.definirAtajosDeTeclado(this)},e.prototype.cambiarActivar=function(e){this.activar=!e,this.enviarAccion.emit({accion:s.a.ACCION_ACTIVAR,estado:!e})},e.prototype.fechasDateSinZonaHoraria=function(){this.empleado.empFechaNacimiento=this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.empleado.empFechaNacimiento),this.empleado.empFechaPrimerIngreso=this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.empleado.empFechaPrimerIngreso),this.empleado.empFechaPrimeraSalida=this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.empleado.empFechaPrimeraSalida),this.empleado.empFechaAfiliacionIess=this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.empleado.empFechaAfiliacionIess),this.empleado.empFechaUltimoSueldo=this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.empleado.empFechaUltimoSueldo)},e.prototype.cancelar=function(){var e=this;switch(this.gridApi&&this.gridApi.stopEditing(),this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:case s.a.ACCION_CREAR:if(this.sePuedeCancelar())this.enviarAccion.emit({accion:s.a.ACCION_CANCELAR});else{var t={title:s.a.MSJ_TITULO_CANCELAR,texto:s.a.MSJ_PREGUNTA_CANCELAR,type:s.a.SWAL_QUESTION,confirmButtonText:s.a.MSJ_SI_ACEPTAR,cancelButtonText:s.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.enviarAccion.emit({accion:s.a.ACCION_CANCELAR})})}break;default:this.enviarAccion.emit({accion:s.a.ACCION_CANCELAR})}},e.prototype.sePuedeCancelar=function(){return this.utilService.puedoCancelar(this.valoresIniciales,this.frmDatos)&&this.utilService.compararObjetos(this.empleadoInicial,this.empleado)},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmDatos?e.frmDatos.value:null)),e.empleadoInicial=JSON.parse(JSON.stringify(e.empleado?e.empleado:null))},50)},e.prototype.clickear=function(){var e=new RegExp(s.a.EXP_REGULAR_EMAIL),t=this.correos[this.correos.length-1];t=t.toLowerCase(),e.test(t)?this.correos[this.correos.length-1]=t:(this.toastr.warning(s.a.MSJ_CORREO_NO_VALIDO),this.correos.splice(this.correos.length-1))},e.prototype.agregarEmail=function(){this.empleado.empCorreoElectronico="";for(var e=0;e<this.correos.length;e++)e<this.correos.length-1?this.empleado.empCorreoElectronico+=this.correos[e]+";":e==this.correos.length-1&&(this.empleado.empCorreoElectronico+=this.correos[e])},e.prototype.tamanioChico=function(){document.querySelector("#correosolo input").className="chico form-control form-control-sm"},e.prototype.tamanioGrande=function(){0==this.correos.length&&(document.querySelector("#correosolo input").className="grande form-control form-control-sm")},e.prototype.cambioAvisoDeEntrada=function(){var e=this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.empleado.empFechaAfiliacionIess),t=this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.fechaActual);e&&t&&e.getTime()<=t.getTime()&&this.obtenerParametros(e)},e.prototype.obtenerParametros=function(e){var t={fechaHasta:e};this.empleadoService.getRhParametros(t,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeGetRhParametros=function(e){this.rhParametros=e},e.prototype.despuesDeObtenerDatosParaCrudEmpleados=function(e){if(this.rhParametros=e.rhParametros,this.motivos=e.motivos,this.motivosDeAnticipos=e.motivosAnticipos,this.provincias=e.provincias,this.tiposIdentidadDiscapacidad=e.tiposIdentidaddiscapacidad,this.tiposIdentidad=e.tiposIdentidad,this.tipoIdentidadLocal=e.identidadLocal,this.paises=e.paises,this.paisLocal=e.paisLocal,this.residencias=e.residencias,this.generos=e.generos,this.estadosCivil=e.estadosCivil,this.discapacidades=e.discapacidades,this.cuentasBancarias=e.cuentasBancarias,this.fechaActual=e.fechaActual,this.formasDePago=e.formasDePago,this.sectores=e.sectores,this.categorias=e.categorias,this.bancos=e.bancos,this.fechaActual=this.utilService.formatoDateSinZonaHorariaYYYMMDD(e.fechaActual),this.definirDatosLocales(),this.accion==s.a.ACCION_CREAR?(this.empleado.empProvincia=this.provincias?this.provincias[0].codigo:"",this.empleado.empTipoId=this.tiposIdentidad?this.tiposIdentidad[0].clave:null,this.empleado.empResidenciaPais=this.paises?this.paises[0].paisCodigo:"",this.empleado.empResidenciaTipo=this.residencias?this.residencias[0].clave:"",this.cambioResidencia(),this.cambioProvincia(),this.empleado.empGenero=this.generos?this.generos[0].clave:"",this.empleado.empEstadoCivil=this.estadosCivil[0]?this.estadosCivil[0].clave:null,this.empleado.empDiscapacidadTipo=this.discapacidades[0]?this.discapacidades[0].clave:null,this.empleado.empFormaPago=this.formasDePago?"MENSUAL":null,this.sectorSeleccionado=this.sectores[0],this.categoriaSeleccionada=this.categorias[0],this.empleado.empFechaAfiliacionIess=this.fechaActual,this.empleado.empRetencion=!0):(this.sectorSeleccionado=this.empleado.prdSector,this.categoriaSeleccionada=this.empleado.rhCategoria,this.cambioProvincia()),this.empleado.empBanco=this.empleado.empBanco?this.empleado.empBanco:"",this.cargando=!1,this.idOriginal=this.empleado.rhEmpleadoPK.empId,this.accion!=s.a.ACCION_CREAR){this.cargando=!0;var t={empresa:s.a.KEY_EMPRESA_SELECT,empleado:this.empleado.rhEmpleadoPK.empId,apellidos:this.empleado.empApellidos,nombres:this.empleado.empNombres};this.empleadoService.obtenerComplementosEmpleado(t,this,s.a.KEY_EMPRESA_SELECT)}else this.extraerValoresIniciales()},e.prototype.despuesDeObtenerComplementosEmpleado=function(e){this.cargando=!1,this.descuentos=e.descuentos,this.archivoPerfilByte=e.foto?"data:image/jpeg;base64,"+e.foto:null,this.extraerValoresIniciales()},e.prototype.validarSueldo=function(){this.sueldoValido=this.utilService.quitarComasNumero(this.empleado.empSueldoIess)>this.rhParametros.parSalarioMinimoVital},e.prototype.definirDatosLocales=function(){if(this.paises&&this.paises.find(function(e){return"593"==e.paisCodigo})){var e=this.paises.findIndex(function(e){return"593"===e.paisCodigo});this.paises.splice(e,1)}},e.prototype.cambioResidencia=function(){"01"==this.empleado.empResidenciaTipo?(this.empleado.empResidenciaPais="593",this.empleado.empTipoId="C"):(this.empleado.empResidenciaPais=null,this.empleado.empTipoId=null),this.validarIdentificacion(this.empleado.empTipoId)},e.prototype.cambioProvincia=function(){this.cantones=new Array;var e={provincia:this.empleado.empProvincia};this.cantonService.listarComboAnxCantonTO(e,this,this.empresaSeleccionada.empCodigo)},e.prototype.despuesDeListarComboAnxCantonTO=function(e){this.cantones=e,this.cargando=!1},e.prototype.cambioCargasFamiliares=function(){"CASADO"===this.empleado.empEstadoCivil&&this.empleado.empCargasFamiliares<=0?this.cargaFamiliarValida=!1:this.cargaFamiliarValida=!0},e.prototype.compareSectores=function(e,t){return e&&t?e.prdSectorPK.secCodigo===t.prdSectorPK.secCodigo:e===t},e.prototype.compareCategorias=function(e,t){return e&&t?e.rhCategoriaPK.catNombre===t.rhCategoriaPK.catNombre:e===t},e.prototype.validarFechaDeNacimiento=function(){this.fechaNacimientoValido=this.utilService.calcularEdad(this.empleado.empFechaNacimiento)},e.prototype.soloNumeros=function(e){return e.charCode>=48&&e.charCode<=57},e.prototype.validarIdentificacion=function(e){if(this.rptaRepetido=null,this.rptaCedula=null,this.empleado.rhEmpleadoPK.empId)switch(e){case"C":this.validarCedula();break;default:this.validarRepetido()}},e.prototype.validarRepetido=function(){var e=this;if(this.idOriginal!=this.empleado.rhEmpleadoPK.empId){var t={empresa:s.a.KEY_EMPRESA_SELECT,buscar:this.empleado.rhEmpleadoPK.empId,estado:!1};this.api.post("todocompuWS/rrhhWebController/getListaEmpleado",t,s.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo&&(e.rptaRepetido="EMPLEADO YA EXISTE")}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.validarCedula=function(){var e=this;if(this.empleado.rhEmpleadoPK.empId.length>9){var t={cedula:this.empleado.rhEmpleadoPK.empId};this.api.post("todocompuWS/appWebController/validarCedula",t,s.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo&&"T"!=t.extraInfo&&(e.rptaCedula=t.extraInfo,e.toastr.warning(t.extraInfo,s.a.TAG_CEDULA))}).catch(function(t){return e.utilService.handleError(t,e)})}else this.rptaCedula=s.a.MSJ_CEDULA_NO_VALIDA},e.prototype.insertar=function(e){this.gridApi&&this.gridApi.stopEditing(),this.cargando=!0,this.validarAntesDeEnviar(e)&&this.continuarInsersion()},e.prototype.validarAntesDeEnviar=function(e){if(this.rptaCedula)return this.toastr.warning(this.rptaCedula,s.a.TAG_CEDULA),this.cargando=!1,!1;if(!e.valid)return this.utilService.establecerFormularioTocado(e),this.toastr.warning(s.a.MSJ_CAMPOS_INVALIDOS,s.a.MSJ_CAMPOS_INVALIDOS),this.cargando=!1,!1;if(!this.fechaNacimientoValido)return this.toastr.warning(s.a.TAG_FECHA_NACIMIENTO_INVALIDO,s.a.TAG_AVISO),this.cargando=!1,!1;if(this.empleado.empSueldoIess<this.rhParametros.parSalarioMinimoVital)return this.toastr.warning(s.a.TAG_SUELDO_MINIMO_INVALIDO,s.a.TAG_AVISO),this.cargando=!1,!1;if("CASADO"==this.empleado.empEstadoCivil&&this.empleado.empCargasFamiliares<=0)return this.toastr.warning(s.a.TAG_CARGAS_FAMILIARES_INVALIDO,s.a.TAG_AVISO),this.cargando=!1,!1;if(("03"==this.empleado.empDiscapacidadTipo||"04"==this.empleado.empDiscapacidadTipo)&&this.empleado.rhEmpleadoPK.empId==this.empleado.empDiscapacidadIdNumero)return this.toastr.warning(s.a.TAG_EMPLEADO_ES_DISCAPACITADO,s.a.TAG_AVISO),this.cargando=!1,!1;if("01"!=this.empleado.empDiscapacidadTipo&&this.empleado.empDiscapacidadPorcentaje<=0)return this.toastr.warning(s.a.TAG_PORCENTAJE_DISCAPACIDAD_INVALIDO,s.a.TAG_AVISO),this.cargando=!1,!1;if(this.descuentos)for(var t=0;t<this.descuentos.length;t++)if(this.descuentos[t].descValor&&this.descuentos[t].descValor>this.utilService.quitarComasNumero(this.empleado.empSueldoIess))return this.toastr.warning(s.a.TAG_VALOR_DESCUENTO_NO_SUPERARA_SUELDO,s.a.TAG_AVISO),this.cargando=!1,!1;return this.agregarEmail(),!0},e.prototype.continuarInsersion=function(){this.completarDatos();var e={rhEmpleado:this.empleado,listEmpleadoDescuentosFijos:this.descuentos,imagen:this.archivoPerfilByte?this.archivoPerfilByte.split("base64,")[1]:null};this.empleadoService.insertarModificarRhEmpleado(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeInsertarModificarRhEmpleado=function(e){this.cargando=!1,this.enviarAccion.emit({accion:s.a.ACCION_CREADO,objetoSeleccionado:this.empleado,empresa:this.empresaSeleccionada})},e.prototype.completarDatos=function(){this.empleado.prdSector=this.sectorSeleccionado,this.empleado.rhCategoria=this.categoriaSeleccionada,this.empleado.rhEmpleadoPK.empEmpresa=s.a.KEY_EMPRESA_SELECT,"01"==this.empleado.empDiscapacidadTipo&&(this.empleado.empDiscapacidadIdTipo="N",this.empleado.empDiscapacidadIdNumero="999",this.empleado.empDiscapacidadPorcentaje=0),this.empleado.empBanco||(this.empleado.empCuentaTipo="",this.empleado.empCuentaNumero="")},e.prototype.unloadHandler=function(e){switch(this.accion){case s.a.ACCION_EDITAR:case s.a.ACCION_NUEVO:e.returnValue=!1;break;default:return!0}},e.prototype.onResize=function(){this.isScreamMd=!(window.innerWidth<=s.a.WINDOW_WIDTH_XS)},e.prototype.seleccionarImagenes=function(e){if(e&&e.files)for(var t=0;t<e.files.length;t++)this.convertirFiles(e.files[t])},e.prototype.convertirFiles=function(e){var t=this;if(e.size<=1e6){var o=new FileReader;o.readAsDataURL(e),o.onload=function(){o&&o.result&&(t.archivoPerfilByte=o.result)}}},e.prototype.eliminarItem=function(){this.archivoPerfilByte=null},e.prototype.visualizar=function(e){this.archivoPerfilByte=e,this.visualizarImagen=!0},Tn([Object(a.Input)(),_n("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Tn([Object(a.Input)(),_n("design:type",Object)],e.prototype,"parametrosFormulario",void 0),Tn([Object(a.Input)(),_n("design:type",Object)],e.prototype,"data",void 0),Tn([Object(a.Output)(),_n("design:type",Object)],e.prototype,"enviarAccion",void 0),Tn([Object(a.ViewChild)("frmDatos"),_n("design:type",ie.NgForm)],e.prototype,"frmDatos",void 0),Tn([Object(a.HostListener)("window:beforeunload",["$event"]),_n("design:type",Function),_n("design:paramtypes",[Event]),_n("design:returntype",void 0)],e.prototype,"unloadHandler",null),Tn([Object(a.HostListener)("window:resize",["$event"]),_n("design:type",Function),_n("design:paramtypes",[]),_n("design:returntype",void 0)],e.prototype,"onResize",null),e=Tn([Object(a.Component)({selector:"app-empleados-formulario",template:o("aPqq")}),_n("design:paramtypes",[q.a,n.a,i.a,r.b,Ra.a])],e)}(),Pn=o("Akc3"),Mn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Nn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Dn=function(){function e(e,t,o,a){this.api=e,this.toastr=t,this.utilService=o,this.archivoService=a}return e.prototype.listarProvisiones=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/getRhListaProvisionesTO",e,o).then(function(e){e&&e.extraInfo?t.despuesDeListarProvisiones(e.extraInfo):(a.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.insertarProvision=function(e,t,o){var a=this;this.api.post("todocompuWS/rrhhWebController/insertarModificarRhProvisiones",e,o).then(function(e){e&&e.extraInfo?t.despuesDeInsertarProvison(e):(a.toastr.warning(e.operacionMensaje,s.a.TOAST_ADVERTENCIA),t.cargando=!1)}).catch(function(e){return a.utilService.handleError(e,t)})},e.prototype.imprimirProvision=function(e,t,o){var a=this;this.archivoService.postPDF("todocompuWS/produccionWebController/generarReporteProvision",e,o).then(function(e){e?a.utilService.descargarArchivoPDF("ListaProvision"+a.utilService.obtenerHorayFechaActual()+".pdf",e):a.toastr.warning(s.a.MSJ_ERROR_IMPRIMIR,s.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return a.utilService.handleError(e,a)})},e.prototype.generarColumnas=function(e){var t=[];return t.push({headerName:s.a.TAG_CATEGORIA,width:150,minWidth:150,field:"provCategoria",cellClass:function(e){return e.data.provCategoria?"tr-negrita":""}},{headerName:s.a.TAG_NUMERO_IDENTIFICACION,width:200,minWidth:200,field:"provId"},{headerName:s.a.TAG_APELLIDOS_Y_NOMBRES,width:250,minWidth:250,field:"provNombres",cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_SUELDO,width:100,minWidth:100,field:"provSueldo",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_DIAS_PAGADOS,width:120,minWidth:120,field:"provDiasPagados",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_APORTE_INDIVIDUAL,width:140,minWidth:140,field:"provAporteIndividual",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_APORTE_PATRONAL,width:140,minWidth:140,field:"provAportePatronal",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_IECE,width:100,minWidth:100,field:"provIece",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_SECAP,width:100,minWidth:100,field:"provSecap",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_XIII,width:100,minWidth:100,field:"provXiii",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_XIV,width:100,minWidth:100,field:"provXiv",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_FONDO_RESERVA,width:130,minWidth:130,field:"provFondoReserva",valueFormatter:function(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")},cellClass:function(e){return e.data.provId?"":"tr-negrita"}},{headerName:s.a.TAG_CONTABLE_ROL,width:190,minWidth:190,field:"provContableRol"},{headerName:s.a.TAG_CONTABLE_PROVISION,width:190,minWidth:190,field:"provContableProvision"},{headerName:s.a.TAG_OPCIONES,headerClass:"cell-header-center",cellClass:function(e){return e.data.provId?"text-center":"d-none"},width:s.a.WIDTH_OPCIONES,minWidth:s.a.WIDTH_OPCIONES,cellRendererFramework:Pe.a,headerComponentFramework:Me.a,headerComponentParams:{class:s.a.ICON_OPCIONES,tooltip:s.a.TAG_OPCIONES,text:"",enableSorting:!1},pinnedRowCellRenderer:No.a}),e&&t.push(this.utilService.getSpanSelect()),t},e=Mn([Object(a.Injectable)({providedIn:"root"}),Nn("design:paramtypes",[i.a,r.b,n.a,c.a])],e)}(),Ln=o("0uIf"),Fn=o("9v1L"),xn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},wn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gn=function(){function e(e,t,o,i,r,n,c){this.activeModal=e,this.toastr=t,this.modalService=o,this.filasService=i,this.atajoService=r,this.provisionesService=n,this.cdRef=c,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.estadoformulario=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.listaProvisiones=[],this.listaProvisionesImprimir=[],this.objetoSeleccionado=new na,this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.objetoContableEnviar={},this.mostrarAccionesContabilidad=!1,this.disableGuardar=!0,this.conContable=new Ln.a,this.contablePk=new Ht.a,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.generarAtajos(),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda?(this.buscarProvisiones(),this.generarAtajos()):this.listaProvisiones=new Array},e.prototype.regresar=function(){this.enviarAccion.emit(null)},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.buscarProvisiones=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaProvisiones=new Array;var e={provisionesListadoTransTO:this.parametrosBusqueda.provisionesListadoTransTO};this.provisionesService.listarProvisiones(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarProvisiones=function(e){e.length>1?(this.filasTiempo.finalizarContador(),this.listaProvisiones=e,this.verificarProvisionesAntesGuardar(),this.cargando=!1):(this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.cargando=!1)},e.prototype.verificarProvisionesAntesGuardar=function(){var e=!!this.listaProvisiones.find(function(e){return null!==e.provContableProvision});this.disableGuardar=e},e.prototype.guardarProvision=function(){this.cargando=!0;var e={listaProvisionesTO:this.listaProvisiones,provisionesListadoTransTO:this.parametrosBusqueda.provisionesListadoTransTO,contableProvision:this.parametrosBusqueda.contableProvision};this.provisionesService.insertarProvision(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeInsertarProvison=function(e){e&&(this.contablePk=e.extraInfo.contablePk,this.listaProvisionesImprimir=e.extraInfo.listaProvisionesImprimir,this.enviarAccion.emit({accion:s.a.ACCION_CANCELAR}),this.preguntarImprimir(e.operacionMensaje)),this.cargando=!1},e.prototype.preguntarImprimir=function(e){var t=this,o=this.modalService.open(Fn.a,{backdrop:"static"});o.componentInstance.empresaSeleccionada=this.empresaSeleccionada;var a=[];a.push(this.contablePk),o.componentInstance.parametrosImprimir={listadoPK:a},o.componentInstance.nombreRutaImprimir="todocompuWS/contabilidadWebController/generarReporteContableIndividual",o.componentInstance.nombreArchivoPDFImprimir="reportComprobanteContable",o.componentInstance.parametrosImprimirCombo={listaProvisionesTO:this.listaProvisionesImprimir,contablePK:this.contablePk,periodo:this.parametrosBusqueda.provisionesListadoTransTO.periodo},o.componentInstance.nombrerutaImprimirCombo="todocompuWS/rrhhWebController/generarReporteProvisionesComprobanteContableProvision",o.componentInstance.nombreArchivoPDFImprimirCombo="reportComprobanteProvisiones",o.componentInstance.textoImprimirCombo=s.a.LABEL_IMPRIMIR_COMPROBANTE_PROVISION,o.componentInstance.mensaje=e,o.componentInstance.mostrarCombo=!0,o.result.then(function(e){},function(){t.cargando=!1,t.enviarAccion.emit({accion:s.a.ACCION_CANCELAR})})},e.prototype.consultar=function(){this.emitirAccion(s.a.ACCION_CONSULTAR,this.objetoSeleccionado)},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.emitirAccion=function(e,t){var o={accion:e,objetoSeleccionado:t};this.enviarAccion.emit(o)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.cambiarActivarPaContable=function(){this.enviarActivar.emit(this.activar)},e.prototype.cambiarEstadoFormulario=function(e){this.estadoformulario.emit(e)},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivarAnticipos");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_GUARDAR,function(e){var t=document.getElementById("btnGuardarProvision");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){if(e.parametrosBusqueda.accion===s.a.ACCION_CONSULTAR){var t=document.getElementById("btnCancelar");t&&t.click()}return!1}))},e.prototype.generarOpciones=function(){var e=this,t=!this.objetoSeleccionado.provContableProvision;this.opciones=[{label:s.a.TAG_CONTABLE_ROL,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.visualizarVista(s.a.TAG_CONTABLE_ROL)}},{label:s.a.TAG_CONTABLE_PROVISION,icon:s.a.ICON_BUSCAR,disabled:t,command:function(){return e.visualizarVista(s.a.TAG_CONTABLE_PROVISION)}},{label:s.a.TAG_COMPROBANTE_ROL,icon:s.a.ICON_BUSCAR,disabled:!1,command:function(){return e.visualizarVista(s.a.TAG_COMPROBANTE_ROL)}}]},e.prototype.visualizarVista=function(e){if(this.objetoSeleccionado.provId)switch(e){case s.a.TAG_CONTABLE_ROL:this.verContable(this.objetoSeleccionado.provContableRol);break;case s.a.TAG_CONTABLE_PROVISION:this.verContable(this.objetoSeleccionado.provContableProvision);break;case s.a.TAG_COMPROBANTE_ROL:this.consultarComprobante()}},e.prototype.verContable=function(e){e?(this.mostrarAccionesContabilidad=!0,this.cargando=!0,this.objetoContableEnviar={accion:s.a.ACCION_CONSULTAR,contable:e,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0},this.cdRef.detectChanges()):this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso")},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=!!e.objetoEnviar&&e.objetoEnviar.activar,this.cambiarActivarPaContable(),this.cambiarEstadoFormulario(e.mostrarContilidadAcciones),this.objetoContableEnviar=e.objetoEnviar,this.mostrarAccionesContabilidad=e.mostrarContilidadAcciones,this.generarAtajos(),this.cdRef.detectChanges()},e.prototype.cambiarEstadoActivarContable=function(e){this.activar=e,this.cdRef.detectChanges(),this.cambiarActivarPaContable()},e.prototype.consultarComprobante=function(){var e=this;if(this.objetoSeleccionado.provContableRol){var t=new Ht.a;t.conEmpresa=this.empresaSeleccionada.empCodigo,t.conNumero=this.objetoSeleccionado.provContableRol.split("|")[2].trim(),t.conPeriodo=this.objetoSeleccionado.provContableRol.split("|")[0].trim(),t.conTipo=this.objetoSeleccionado.provContableRol.split("|")[1].trim();var o={empresa:this.empresaSeleccionada.empCodigo,idEmpleado:this.objetoSeleccionado.provId,conContablePK:t},a=this.modalService.open(_o.a,{size:"lg",backdrop:"static"});a.componentInstance.parametros=o,a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.accion=s.a.ACCION_CONSULTAR,a.componentInstance.rutaImprimir="todocompuWS/rrhhWebController/imprimirComprobanteRolListado",a.result.then(function(){e.generarAtajos()},function(){e.generarAtajos()})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.provisionesService.generarColumnas(this.isModal),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="multiple",this.frameworkComponents={botonOpciones:$t.a,toolTip:Me.a},this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.objetoSeleccionado.provId&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},xn([Object(a.Input)(),wn("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),xn([Object(a.Input)(),wn("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),xn([Object(a.Input)(),wn("design:type",Boolean)],e.prototype,"isModal",void 0),xn([Object(a.Output)(),wn("design:type",Object)],e.prototype,"enviarActivar",void 0),xn([Object(a.Output)(),wn("design:type",Object)],e.prototype,"estadoformulario",void 0),xn([Object(a.Output)(),wn("design:type",Object)],e.prototype,"enviarAccion",void 0),xn([Object(a.ViewChild)("menuOpciones"),wn("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),xn([Object(a.HostListener)("document:keydown",["$event"]),wn("design:type",Function),wn("design:paramtypes",[KeyboardEvent]),wn("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=xn([Object(a.Component)({selector:"app-provisiones-listado",template:o("nDCR"),styles:[o("Pe4f")]}),wn("design:paramtypes",[re.a,r.b,re.b,x.a,A.HotkeysService,Dn,a.ChangeDetectorRef])],e)}(),Bn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},jn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Un=function(){function e(e,t,o,i,r,n,c){this.activeModal=e,this.toastr=t,this.filasService=o,this.atajoService=i,this.utilService=r,this.ordenBancariaService=n,this.cdRef=c,this.parametrosBusqueda=null,this.enviarActivar=new a.EventEmitter,this.enviarAccion=new a.EventEmitter,this.listaOrdenBancario=[],this.constantes=s.a,this.enterKey=0,this.filtroGlobal="",this.accion="",this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.columnDefs=[],this.columnDefsSelected=[]}return e.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.generarAtajos(),this.iniciarAgGrid()},e.prototype.ngOnChanges=function(e){e.parametrosBusqueda.currentValue?(this.iniciarAgGrid(),this.generarOrdenBancaria(),this.generarAtajos()):this.listaOrdenBancario=new Array},e.prototype.regresar=function(){this.enviarAccion.emit(null)},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e},e.prototype.generarOrdenBancaria=function(){this.filasTiempo.iniciarContador(),this.cargando=!0,this.listaOrdenBancario=new Array;var e={empresa:this.parametrosBusqueda.empresa,ordenBancariaTO:this.parametrosBusqueda.ordenBancariaTO};this.ordenBancariaService.generarOrdenBancaria(e,this,s.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeGenerarOrdenBancaria=function(e){e.length>=1?(this.filasTiempo.finalizarContador(),this.listaOrdenBancario=e,this.actualizarPinned(),this.exportarTxtOrdenBancaria()):this.toastr.warning(s.a.MSJ_NO_SE_ENCONTRARON_RESULTADOS,"Aviso"),this.cargando=!1},e.prototype.filaSeleccionar=function(){this.enviarItem(this.objetoSeleccionado)},e.prototype.ejecutarSpanAccion=function(e,t){this.enviarItem(t)},e.prototype.enviarItem=function(e){this.activeModal.close(e)},e.prototype.cambiarActivar=function(){this.activar=!this.activar,this.enviarActivar.emit(this.activar)},e.prototype.exportarExcel=function(){if(this.utilService.verificarPermiso(s.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ordenBancariaTO:this.parametrosBusqueda.ordenBancariaTO};this.ordenBancariaService.exportarExcelOrdenBancaria(e,this,this.empresaSeleccionada)}},e.prototype.exportarTxtOrdenBancaria=function(){this.cargando=!0;var e={ordenBancariaTO:this.parametrosBusqueda.ordenBancariaTO};this.ordenBancariaService.exportarTxtOrdenBancaria(e,this,this.empresaSeleccionada)},e.prototype.descargarArchivoTxt=function(e){var t=new Blob([e],{type:"data:text/plain;charset=utf-8"}),o=URL.createObjectURL(t),a=document.createElement("a");document.body.appendChild(a),a.href=o,a.download="OrdenBancaria_"+this.utilService.obtenerHorayFechaActual()+".txt",a.click()},e.prototype.generarAtajos=function(){var e=this;this.atajoService.add(new A.Hotkey(s.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_EXPORTAR,function(e){var t=document.getElementById("btnExportar");return t&&t.click(),!1})),this.atajoService.add(new A.Hotkey(s.a.ATAJO_CANCELAR,function(){if(e.parametrosBusqueda.accion===s.a.ACCION_CONSULTAR){var t=document.getElementById("btnCancelar");t&&t.click()}return!1}))},e.prototype.iniciarAgGrid=function(){this.parametrosBusqueda&&(this.parametrosBusqueda.ordenBancariaTO.nombreCuenta.includes(s.a.TAG_BANCO_BOLIVARIANO)?(this.pinnedBottomRowData=this.ordenBancariaService.generarFilaTotalBolivariano(),this.columnDefs=this.ordenBancariaService.generarColumnasBolivariano()):(this.pinnedBottomRowData=this.ordenBancariaService.generarFilaTotalPichincha(),this.columnDefs=this.ordenBancariaService.generarColumnasPichincha())),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimensionarColumnas()},e.prototype.actualizarPinned=function(){for(var e=0,t=0;t<this.listaOrdenBancario.length;t++)this.matRound2(this.listaOrdenBancario[t].preTotalPagado)&&(e=this.matRound2(e+this.matRound2(this.listaOrdenBancario[t].preTotalPagado)));this.pinnedBottomRowData[0].preTotalPagado=e},e.prototype.matRound2=function(e){return e=this.utilService.quitarComasNumero(e),Math.round(100*e)/100},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.objetoSeleccionado=t?t.data:null},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.handleKeyboardEvent=function(e){this.isModal&&13===e.keyCode&&(this.enterKey>0&&this.enviarItem(this.objetoSeleccionado),this.enterKey=this.enterKey+1)},Bn([Object(a.Input)(),jn("design:type",Object)],e.prototype,"parametrosBusqueda",void 0),Bn([Object(a.Input)(),jn("design:type",M.a)],e.prototype,"empresaSeleccionada",void 0),Bn([Object(a.Input)(),jn("design:type",Boolean)],e.prototype,"isModal",void 0),Bn([Object(a.Output)(),jn("design:type",Object)],e.prototype,"enviarActivar",void 0),Bn([Object(a.Output)(),jn("design:type",Object)],e.prototype,"enviarAccion",void 0),Bn([Object(a.ViewChild)("menuOpciones"),jn("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),Bn([Object(a.HostListener)("document:keydown",["$event"]),jn("design:type",Function),jn("design:paramtypes",[KeyboardEvent]),jn("design:returntype",void 0)],e.prototype,"handleKeyboardEvent",null),e=Bn([Object(a.Component)({selector:"app-ordenes-bancarias-listado",template:o("O/ob"),styles:[o("RO9G")]}),jn("design:paramtypes",[re.a,r.b,x.a,A.HotkeysService,n.a,or,a.ChangeDetectorRef])],e)}(),kn=function(){function e(e){this.descSecuencial=0,this.descValor=0,this.rhEmpleado=new $.a,this.rhAnticipoMotivo=new Oe,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.descSecuencial=e.descSecuencial?e.descSecuencial:this.descSecuencial,this.descValor=e.descValor?e.descValor:this.descValor,this.rhEmpleado=e.rhEmpleado?e.rhEmpleado:this.rhEmpleado,this.rhAnticipoMotivo=e.rhAnticipoMotivo?e.rhAnticipoMotivo:this.rhAnticipoMotivo},e}(),Vn=o("y2/l"),Xn=o("chRk"),Jn=o("mozY"),Hn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},Wn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yn=function(){function e(e){this.utilService=e,this.descuentos=new Array,this.motivosDeAnticipos=new Array,this.empleado=new $.a,this.accion=null,this.objetoSeleccionado=new kn,this.constantes=s.a,this.columnDefs=[],this.components={}}return e.prototype.ngOnInit=function(){this.iniciarAgGrid()},e.prototype.construirDescuentos=function(){var e=this;if(this.descuentos)for(var t=function(t){var a=o.motivosDeAnticipos.find(function(o){return o.rhAnticipoMotivoPK.motDetalle===e.descuentos[t].rhAnticipoMotivo.rhAnticipoMotivoPK.motDetalle});o.descuentos[t].rhAnticipoMotivo=a},o=this,a=0;a<this.descuentos.length;a++)t(a)},e.prototype.nuevo=function(){var e=new kn;this.descuentos.push(e)},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.generarColumnas(this),this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.redimensionarColumnas(),this.seleccionarFila(0),this.construirDescuentos()},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.accion!=s.a.ACCION_CONSULTAR&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.generarOpciones=function(){var e=this;this.opciones=[{label:s.a.ACCION_AGREGAR_FILA_ARRIBA,icon:s.a.ICON_FLECHA_ARRIBA,disabled:!1,command:function(){return e.agregarFila("up")}},{label:s.a.ACCION_AGREGAR_FILA_ABAJO,icon:s.a.ICON_FLECHA_ABAJO,disabled:!1,command:function(){return e.agregarFila("down")}},{label:s.a.ACCION_ELIMINAR_FILA,icon:s.a.ICON_ELIMINAR,disabled:!1,command:function(){return e.eliminarFila()}}]},e.prototype.agregarFila=function(e,t){var o=this.descuentos.indexOf(this.objetoSeleccionado);if(o>=0){o="up"===e?o:o+1;var a=new kn;this.descuentos.splice(o,0,a),this.gridApi&&this.gridApi.updateRowData({add:[a],addIndex:o}),!t&&this.focusedProducto(o),this.refreshGrid()}},e.prototype.eliminarFila=function(){if(this.descuentos.length>1){var e=this.descuentos.indexOf(this.objetoSeleccionado);this.quitarElementoDeFila(e)}},e.prototype.quitarElementoDeFila=function(e){this.descuentos.splice(e,1),this.gridApi&&this.gridApi.updateRowData({remove:[this.objetoSeleccionado],addIndex:e}),this.refreshGrid()},e.prototype.focusedProducto=function(e){var t=this;setTimeout(function(){t.productoFocusAndEditingCell(e)},50)},e.prototype.productoFocusAndEditingCell=function(e){this.gridApi&&(this.gridApi.setFocusedCell(e,"rhAnticipoMotivo"),this.gridApi.startEditingCell({rowIndex:e,colKey:"rhAnticipoMotivo"}))},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null,o=this.gridApi?this.gridApi.getFocusedCell():null,a=o?o.column:null;this.gridApi&&(a&&this.gridApi.startEditingCell({rowIndex:e.rowIndex,colKey:a.getId()})),this.objetoSeleccionado=t?t.data:null},e.prototype.redimensionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.autoSizeAll=function(){var e=[];this.gridColumnApi.getAllColumns().forEach(function(t){e.push(t.colId)}),this.gridColumnApi.autoSizeColumns(e)},e.prototype.seleccionarFila=function(e){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(e,t)}},e.prototype.refreshGrid=function(){this.gridApi&&this.gridApi.refreshCells()},e.prototype.generarColumnas=function(e){var t=this,o=e.empleado,a=[];return a.push({headerName:s.a.TAG_DETALLE,field:"rhAnticipoMotivo",width:180,minWidth:180,maxWidth:180,editable:!0,cellEditorFramework:Xn.a,suppressKeyboardEvent:function(o){if(o.editing)return t.utilService.desplazarTablaArribaAbajo(o.event.keyCode,o.node.rowIndex,e.descuentos)||t.utilService.desplazarseInputIzquierdaDerecha(o.event.keyCode)},valueFormatter:function(e){return e.data.rhAnticipoMotivo?e.data.rhAnticipoMotivo.rhAnticipoMotivoPK.motDetalle:""},cellEditorParams:function(t){return{value:t.data.rhAnticipoMotivo&&t.data.rhAnticipoMotivo.rhAnticipoMotivoPK&&t.data.rhAnticipoMotivo.rhAnticipoMotivoPK.motDetalle?t.data.rhAnticipoMotivo:null,name:"rhAnticipoMotivo",obligatorio:!0,ejecutarMetodoChange:!1,listValues:e.motivosDeAnticipos,fieldsShow:["rhAnticipoMotivoPK.motDetalle"]}},cellClassRules:{"cell-with-errors":function(e){return!e.data.rhAnticipoMotivo||!e.data.rhAnticipoMotivo.rhAnticipoMotivoPK.motDetalle}}},{headerName:s.a.TAG_DESCUENTO,field:"descValor",valueFormatter:Kn,suppressKeyboardEvent:function(o){if(o.editing)return t.utilService.desplazarTablaArribaAbajo(o.event.keyCode,o.node.rowIndex,e.descuentos)||t.utilService.desplazarseInputIzquierdaDerecha(o.event.keyCode)},width:110,minWidth:110,editable:!0,cellClass:"text-right",cellClassRules:{"cell-with-errors":function(e){return!!(e.data.descValor&&e.data.descValor>t.utilService.quitarComasNumero(o.empSueldoIess))||!(e.data.descValor&&e.data.descValor>=0)}},cellEditorFramework:Jn.a,cellEditorParams:{name:"descValor",maxlength:12,placeholder:"0.00",configAutonumeric:e.autonumeric92}},this.utilService.getColumnaOpciones()),a},Hn([Object(a.Input)(),Wn("design:type",Array)],e.prototype,"descuentos",void 0),Hn([Object(a.Input)(),Wn("design:type",Array)],e.prototype,"motivosDeAnticipos",void 0),Hn([Object(a.Input)(),Wn("design:type",Object)],e.prototype,"autonumeric92",void 0),Hn([Object(a.Input)(),Wn("design:type",$.a)],e.prototype,"empleado",void 0),Hn([Object(a.Input)(),Wn("design:type",String)],e.prototype,"accion",void 0),Hn([Object(a.Input)(),Wn("design:type",Vn.GridApi)],e.prototype,"gridApi",void 0),Hn([Object(a.ViewChild)("menuOpciones"),Wn("design:type",X.ContextMenu)],e.prototype,"menuOpciones",void 0),e=Hn([Object(a.Component)({selector:"app-descuentos",template:o("zTs9")}),Wn("design:paramtypes",[n.a])],e)}();function Kn(e){return new Yt.DecimalPipe("en-US").transform(e.value,"1.2-2")}o.d(t,"RrhhModule",function(){return qn});var zn=function(e,t,o,a){var i,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(r<3?i(n):r>3?i(t,o,n):i(t,o))||n);return r>3&&n&&Object.defineProperty(t,o,n),n},qn=function(){function e(){}return e=zn([Object(a.NgModule)({imports:[Sr.a,br],declarations:[V,Y,te,me,ge,ye,Fe,Be,He,Ze,st,vt,Gt,Mt,Jt,Rt,Rr,fo.a,Yo,qo,Zo,Mo,vo,Oo,jo,so,eo,la,fa,Ia,Ta,La,Ga,Ja,Ka,$a,ei,ai,Mr,Ur,qr,hi,rn,ni,mn,Ai,bn,Oi,Zi,Pi,Li,_o.a,qi,cr,j,Gi,yn,ki,Hi,Gn,Pn.a,vr,Un,Yn],exports:[],providers:[re.a],entryComponents:[fo.a,_o.a,Pn.a]})],e)}()},WMKs:function(e,t){e.exports=""},WQVJ:function(e,t){e.exports=""},WolB:function(e,t){e.exports='<div class="row">\r\n  \x3c!--Filtro--\x3e\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5" *ngIf="!isModal">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEmpresa=\'ngForm\' name="frmEmpresa">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="buscarMotivosBono(false)"\r\n              title="{{constantes.ATAJO_BUSCAR}}" [disabled]="accion">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              [disabled]="accion">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="buscarMotivosBono(true)"> {{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" id="btnNuevo" class="btn btn-sm btn-primary" (click)="operacionesMotivoBonos(constantes.ACCION_CREAR)"\r\n            title="{{constantes.ATAJO_NUEVO}}" [disabled]="accion">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_NUEVO}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar || isModal}">\r\n    \x3c!--formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardar" type="button" (click)="insertarMotivoBono(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardar" type="button" (click)="modificarMotivoBono(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion !== constantes.ACCION_CONSULTAR" id="btnCancelar" type="button" (click)="cancelar()"\r\n              class="btn btn-sm btn-default mr-1" [disabled]="cargando" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion===constantes.ACCION_CONSULTAR" id="btnCancelar" type="button" (click)="cancelar()"\r\n              class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmMotivo="ngForm" name="frmMotivo" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_DETALLE}}</b>\r\n                </label>\r\n                <input class="form-control form-control-sm mousetrap text-uppercase" name="detalle" maxlength="150"\r\n                  [appFocus]="accion === constantes.ACCION_CREAR" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                  [(ngModel)]="motivoBonoSeleccinado.rhBonoMotivoPK.motDetalle" appUppercase id="detalle" required\r\n                  [disabled]="accion!==constantes.ACCION_CREAR">\r\n              </div>\r\n              <div class="form-group form-group-sm has-feedback col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_TIPO_CONTABLE}}</strong>\r\n                </label>\r\n                <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoContableSeleccionado"\r\n                  [appFocus]="accion === constantes.ACCION_EDITAR" [disabled]="accion===constantes.ACCION_CONSULTAR"\r\n                  required>\r\n                  <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                  <option [ngValue]="tipo" *ngFor="let tipo of listaTipoContable"> {{tipo?.tipDetalle}}\r\n                    ({{tipo?.tipCodigo}})</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0 && !vistaFormulario">\r\n      <div class="modal-header p-2" *ngIf="isModal">\r\n        <h4 class="modal-title">{{constantes.INVENTARIO_MOTIVO_BONOS_LISTADO}}</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n          <span aria-hidden="true">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class="card-header p-1" *ngIf="!isModal">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.INVENTARIO_MOTIVO_BONOS_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--listado de motivo de bonos--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridSizeChanged)="redimencionarColumnas()" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="motivoBonoSeleccinado = $event.node.data" (cellContextMenu)="!this.isModal?mostrarContextMenu($event.data, $event.event):null"\r\n          (contextmenu)="!this.isModal?$event.preventDefault():null" (filterChanged)="actualizarFilas()"\r\n          (cellDoubleClicked)="operacionesMotivoBonos(constantes.ACCION_CONSULTAR)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (cellFocused)="filaFocused($event)" (cellDoubleClicked)="this.isModal?filaSeleccionar():null">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n        \x3c!--end listado de motivo de bonos--\x3e\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Xb5n:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frm="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control input-sm" name="cboEmpresa" [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarContabilidaAcciones || objetoSaldoIndividualPrestamoDesdeFuera"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input id="empleado" name="empleado" class="form-control input-sm text-uppercase mousetrap" [(ngModel)]="codigoEmpleado"\r\n              [disabled]="objetoSaldoIndividualPrestamoDesdeFuera" *ngIf="objetoSaldoIndividualPrestamoDesdeFuera"\r\n              [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null">\r\n\r\n            <input *ngIf="!objetoSaldoIndividualPrestamoDesdeFuera" [appFocus]="true" class="form-control input-sm text-uppercase mousetrap"\r\n              name="empleado" maxlength="20" placeholder="{{constantes.TAG_OBLIGATORIO}}" id="empleado" (keydown)="buscarEmpleado($event)"\r\n              (blur)="validarEmpleado()" [disabled]="mostrarContabilidaAcciones" [(ngModel)]="empleado.rhEmpleadoPK.empId"\r\n              [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null" required>\r\n            <span *ngIf="!mostrarContabilidaAcciones && !objetoSaldoIndividualPrestamoDesdeFuera" class="fa fa-question-circle form-control-feedback"\r\n              placement="left" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}" triggers="mouseenter:mouseleave"\r\n              container="body"></span>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" id="fechaDesde" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();"\r\n              [disabled]="mostrarContabilidaAcciones" [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n              [disabled]="mostrarContabilidaAcciones" [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarSaldoIndividualPrestamo" class="btn btn-sm btn-primary mr-1" (click)="buscarSaldoIndividualPrestamos(frm)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} " *ngIf="!mostrarContabilidaAcciones ">\r\n    <div class="card m-0" *ngIf="listaResultadoSaldoIndPres?.length> 1">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarSaldoIndividualPrestamo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_SALDO_INDIVIDUAL_PRESTAMOS_LISTADO}} </strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoIndividualPrestamo" (click)="imprimirSaldoIndividualPrestamo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoIndividualPrestamo" (click)="exportarSaldoIndividualPrestamo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" *ngIf="objetoSaldoIndividualPrestamoDesdeFuera" class="btn btn-sm btn-default mr-1"\r\n              (click)="regresar()" placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoIndividualPrestamo" (click)="imprimirSaldoIndividualPrestamo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoIndividualPrestamo" (click)="exportarSaldoIndividualPrestamo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n            <button type="button" *ngIf="objetoSaldoIndividualPrestamoDesdeFuera" class="btn btn-sm btn-default mr-1"\r\n              (click)="regresar()" placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i> {{constantes.LABEL_REGRESAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoSaldoIndPres" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="saldoIndPresSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="consultarContable()" (gridColumnsChanged)="redimensionarColumnas()" (gridSizeChanged)="redimensionarColumnas()"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Xlfe:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmOrdenBancaria=\'ngForm\' name="frmOrdenBancaria" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_TIPO_ORDEN}}</strong>\r\n            </label>\r\n            <select [(ngModel)]="ordenBancariaTO.orden" name="orden" class="form-control input-sm text-uppercase"\r\n              required [disabled]="vistaFormulario" (ngModelChange)="limpiarResultado()">\r\n              <option disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option *ngFor="let orden of listaTipoOrden" [ngValue]="orden.clave">{{orden?.valor}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_CUENTA}}</strong>\r\n            </label>\r\n            <select [(ngModel)]="cuentaComboSeleccionado" name="cuentaComboSeleccionado" class="form-control input-sm"\r\n              required [disabled]="vistaFormulario" (ngModelChange)="limpiarResultado()">\r\n              <option selected disabled value=null>{{constantes.TAG_SELECCIONE}}</option>\r\n              <option *ngFor="let cuenta of listadoBancoCuenta" [ngValue]="cuenta">{{cuenta.banNombre}}\r\n                ({{cuenta.ctaNumero}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm" *ngIf="cuentaComboSeleccionado ? cuentaComboSeleccionado.banNombre===constantes.TAG_BANCO_BOLIVARIANO : false">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_TIPO_SERVICIO}}</strong>\r\n            </label>\r\n            <select [(ngModel)]="ordenBancariaTO.tipoServicio" name="servicio" class="form-control input-sm text-uppercase"\r\n              required [disabled]="vistaFormulario" (ngModelChange)="limpiarResultado()">\r\n              <option ngValue="" disabled selected>{{constantes.TAG_SELECCIONE}}</option>\r\n              <option *ngFor="let servicio of listaTipoServicio" [ngValue]="servicio.clave">{{servicio?.valor}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_FECHA}}</strong>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="ordenBancariaTO.fecha"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="!vistaFormulario ? generarOrdenBancaria(frmOrdenBancaria) : null"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i> {{constantes.LABEL_GENERAR}}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-ordenes-bancarias-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)"></app-ordenes-bancarias-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Xwxl:function(e,t){e.exports=""},Xzv0:function(e,t){e.exports=""},YVQv:function(e,t){e.exports=""},Yuvn:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frm="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control input-sm" name="cboEmpresa" [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarContabilidaAcciones || objetoSaldoIndividualAnticipoDesdeFuera"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input id="empleado" name="empleado" class="form-control input-sm text-uppercase mousetrap" [(ngModel)]="codigoEmpleado"\r\n              [disabled]="objetoSaldoIndividualAnticipoDesdeFuera" *ngIf="objetoSaldoIndividualAnticipoDesdeFuera"\r\n              [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null">\r\n            <input *ngIf="!objetoSaldoIndividualAnticipoDesdeFuera" [appFocus]="true" class="form-control input-sm text-uppercase mousetrap"\r\n              name="empleado" maxlength="20" placeholder="{{constantes.TAG_OBLIGATORIO}}" id="empleado" (keydown)="buscarEmpleado($event)"\r\n              (blur)="validarEmpleado()" [disabled]="mostrarContabilidaAcciones" [(ngModel)]="empleado.rhEmpleadoPK.empId"\r\n              [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null" required>\r\n            <span *ngIf="!mostrarContabilidaAcciones && !objetoSaldoIndividualAnticipoDesdeFuera" class="fa fa-question-circle form-control-feedback"\r\n              placement="left" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}" triggers="mouseenter:mouseleave"\r\n              container="body"></span>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" id="fechaDesde" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();"\r\n              [disabled]="mostrarContabilidaAcciones" [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n              [disabled]="mostrarContabilidaAcciones" [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarSaldoIndividualAnticipo" class="btn btn-sm btn-primary mr-1" (click)="buscarSaldoIndividualAnticipos(frm)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} " *ngIf="!mostrarContabilidaAcciones">\r\n    <div class="card m-0" *ngIf="listaResultadoSaldoIndAnt?.length> 1">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarSaldoIndividualAnticipo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_SALDO_INDIVIDUAL_ANTICIPOS_LISTADO}} </strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoIndividualAnticipo" (click)="imprimirSaldoIndividualAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoIndividualAnticipo" (click)="exportarSaldoIndividualAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" *ngIf="objetoSaldoIndividualAnticipoDesdeFuera" class="btn btn-sm btn-default mr-1"\r\n              (click)="regresar()" placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoIndividualAnticipo" (click)="imprimirSaldoIndividualAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoIndividualAnticipo" (click)="exportarSaldoIndividualAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n            <button type="button" *ngIf="objetoSaldoIndividualAnticipoDesdeFuera" class="btn btn-sm btn-default mr-1"\r\n              (click)="regresar()" placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i> {{constantes.LABEL_REGRESAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoSaldoIndAnt" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="saldoIndAntSeleccionado = $event.node.data"\r\n          (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="consultarContable()"\r\n          (gridColumnsChanged)="redimensionarColumnas()" (gridSizeChanged)="redimensionarColumnas()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Z9Kf:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmFormasPagoBeneficios=\'ngForm\' name="frmFormasPagoBeneficios" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button id="btnBuscarFormaPagoBen" type="button" class="btn btn-sm btn-primary" (click)="!vistaFormulario ? buscarFormasPagoBeneficios(false) : null"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="!vistaFormulario ? buscarFormasPagoBeneficios(true) : null">{{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n              </div>\r\n            </div>\r\n            <button id="btnNuevoFormaPagoBen" class="btn btn-sm btn-primary mr-1" type="button" (click)="!vistaFormulario && formaPagoBeneficiosService.verificarPermiso(constantes.ACCION_NUEVO, empresaSeleccionada, true) ? nuevaFormasPagoBeneficios() : null"\r\n              [disabled]="!frmFormasPagoBeneficios.valid" title="{{constantes.ATAJO_NUEVO}}">\r\n              <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <form #frmDatos=\'ngForm\' autocomplete="off" class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivarListado" class="btn btn-sm btn-primary" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b> {{accion}} {{constantes.RRHH_FORMA_PAGO_BENEFICIOS.toLowerCase()}} - {{empresaSeleccionada.empNombre}}\r\n          </b>\r\n          <div class="card-header-actions">\r\n            \x3c!--Sin etiquetas--\x3e\r\n            <div class="btn-group d-lg-none">\r\n              \x3c!--Guardar--\x3e\r\n              <div *ngIf="accion !== constantes.ACCION_CONSULTA" class="btn-group mr-1">\r\n                <button id="btnGuardarFormaPagoBeneficio" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertarFormaPago(frmDatos) : modificarFormaPago(frmDatos)"\r\n                  placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n                  <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n                  <span class="d-none d-md-inline"> </span>\r\n                </button>\r\n              </div>\r\n              \x3c!--Cancelar y/o regresar--\x3e\r\n              <button id="btnCancelarFormaPagoBeneficio" type="button" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n                ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}"\r\n                (click)="cancelar()">\r\n                <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n                  aria-hidden="true"></i>\r\n              </button>\r\n            </div>\r\n            \x3c!-- Con etiquetas--\x3e\r\n            <div class="btn-group d-none d-lg-block">\r\n              \x3c!--Guardar--\x3e\r\n              <div *ngIf="accion !== constantes.ACCION_CONSULTAR" class="btn-group mr-1">\r\n                <button id="btnGuardarFormaPagoBeneficio" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertarFormaPago(frmDatos) : modificarFormaPago(frmDatos)"\r\n                  placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n                  <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"> </i>\r\n                  <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}} </span>\r\n                </button>\r\n              </div>\r\n              \x3c!--Cancelar y/o regresar--\x3e\r\n              <button id="btnCancelarFormaPagoBeneficio" type="button" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n                (click)="cancelar()" ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}">\r\n                <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n                  aria-hidden="true"></i>\r\n                {{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="card-body p-1">\r\n          <fieldset [disabled]="accion === constantes.ACCION_CONSULTAR">\r\n            <div class="card mb-1">\r\n              <div class="card-header">\r\n                <b> {{constantes.TAG_DATOS_GENERALES}}</b>\r\n              </div>\r\n              <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0">\r\n                <div class="row">\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_CODIGO_CUENTA}}</strong>\r\n                    </label>\r\n                    <input type="text" appUppercase class="form-control form-control-sm text-uppercase mousetrap" name="ctaCodigo"\r\n                      id="ctaCodigo" required placeholder="{{constantes.TAG_OBLIGATORIO}}" (keydown)="abrirModalDeCuentas($event, formaPago.ctaCodigo)"\r\n                      [(ngModel)]="formaPago.ctaCodigo" (blur)="validarCuenta()">\r\n                  </div>\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_DETALLE}}</strong>\r\n                    </label>\r\n                    <label class="form-control form-control-sm text-uppercase label-input">{{formaPago &&\r\n                      formaPago.fpDetalle?formaPago.fpDetalle:constantes.TAG_OBLIGATORIO}}</label>\r\n                  </div>\r\n                </div>\r\n                <div class="row">\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_CODIGO_MINISTERIAL}}</strong>\r\n                    </label>\r\n                    <input type="text" appUppercase class="form-control form-control-sm text-uppercase mousetrap" name="fpCodigoMinisterial"\r\n                      id="fpCodigoMinisterial" required placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="formaPago.fpCodigoMinisterial">\r\n                  </div>\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_SECTOR}}</strong>\r\n                    </label>\r\n                    <select class="form-control form-control-sm  text-uppercase mousetrap" name="secCodigo" [(ngModel)]="formaPago.secCodigo"\r\n                      required>\r\n                      <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                      <option [ngValue]="sector.secCodigo" *ngFor="let sector of listaSectores"> {{sector.secNombre}}\r\n                        ({{sector.secCodigo}})\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class="card mb-0" [hidden]="vistaFormulario" *ngIf="listadoFormasPagoBeneficio.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarListado" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <b> {{constantes.TALENTO_HUMANO_FORMA_PAGO_BENEFICIOS_LISTADO}}</b>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirFormasPagoBeneficio" (click)="imprimirFormasPagoBeneficios()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarFormasPagoBeneficio" (click)="exportarFormasPagoBeneficios()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirFormasPagoBeneficio" (click)="imprimirFormasPagoBeneficios()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarFormasPagoBeneficio" (click)="exportarFormasPagoBeneficios()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listadoFormasPagoBeneficio" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          (gridSizeChanged)="redimensionarColumnas()" [rowSelection]="rowSelection" [enableColResize]="true" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="objetoSeleccionado = $event.node.data;consultarFormaPago()">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ZAEP:function(e,t){e.exports=""},ZhtC:function(e,t){e.exports='<div class="row">\r\n  \x3c!--Filtro--\x3e\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5" *ngIf="!isModal">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEmpresa=\'ngForm\' name="frmEmpresa">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" title="{{constantes.ATAJO_BUSCAR}}"\r\n              [disabled]="accion" (click)="listarMotivPrestamo(false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              [disabled]="accion">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="listarMotivPrestamo(true)"> {{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnNuevo" title="{{constantes.ATAJO_NUEVO}}"\r\n            [disabled]="accion" (click)="operacionesMotivoPrestamo(constantes.ACCION_CREAR)">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_NUEVO}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar || isModal}">\r\n    \x3c!--formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardar" type="button" (click)="insertarMotivoPrestamo(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardar" type="button" (click)="modificarMotivoPrestamo(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button (click)="cancelar()" id="btnCancelar" type="button" class="btn btn-sm btn-default mr-1" [disabled]="cargando"\r\n              title="{{constantes.ATAJO_CANCELAR}}" *ngIf="accion !== constantes.ACCION_CONSULTAR">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n            <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n              *ngIf="accion===constantes.ACCION_CONSULTAR" (click)="cancelar()">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmMotivo="ngForm" name="frmMotivo" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_DETALLE}}</b>\r\n                </label>\r\n                <input class="form-control form-control-sm mousetrap text-uppercase" name="detalle" maxlength="150"\r\n                  [appFocus]="accion === constantes.ACCION_CREAR" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                  [(ngModel)]="motivoPrestamoSeleccionado.rhPrestamoMotivoPK.motDetalle" appUppercase id="detalle"\r\n                  required [disabled]="accion!==constantes.ACCION_CREAR">\r\n              </div>\r\n              <div class="form-group form-group-sm has-feedback col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_TIPO_CONTABLE}}</strong>\r\n                </label>\r\n                <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoContableSeleccionado"\r\n                  [appFocus]="accion === constantes.ACCION_EDITAR" required [disabled]="accion===constantes.ACCION_CONSULTAR">\r\n                  <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                  <option [ngValue]="tipo" *ngFor="let tipo of listaTipoContable"> {{tipo?.tipDetalle}}\r\n                    ({{tipo?.tipCodigo}})</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0 && !vistaFormulario">\r\n      <div class="modal-header p-2" *ngIf="isModal">\r\n        <h4 class="modal-title">{{constantes.TAG_MOTIVO_PRESTAMO_LISTADO}}</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n          <span aria-hidden="true">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class="card-header p-1" *ngIf="!isModal">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TAG_MOTIVO_PRESTAMO_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--listado de motivo prestamo--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridSizeChanged)="redimencionarColumnas()" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="motivoPrestamoSeleccionado = $event.node.data" (cellContextMenu)="!this.isModal?mostrarContextMenu($event.data, $event.event):null"\r\n          (contextmenu)="!this.isModal?$event.preventDefault():null" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="operacionesMotivoPrestamo(constantes.ACCION_CONSULTAR)">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n        \x3c!--end listado de motivo prestamo--\x3e\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},aPqq:function(e,t){e.exports='<form #frmDatos=\'ngForm\' autocomplete="off" class="card m-0">\r\n  <div class="card-header p-1">\r\n    <button id="btnActivar" class="btn btn-sm btn-primary" *ngIf="isScreamMd" (click)="cambiarActivar(activar)" type="button"\r\n      title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n      <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n    </button>\r\n    <b> {{accion}} {{constantes.TALENTO_HUMANO_EMPLEADOS.toLowerCase()}} - {{empresaSeleccionada.empNombre}}\r\n    </b>\r\n    <div class="card-header-actions">\r\n      \x3c!--Sin etiquetas--\x3e\r\n      <div class="btn-group d-lg-none">\r\n        \x3c!--Guardar--\x3e\r\n        <div *ngIf="accion !== constantes.ACCION_CONSULTA" class="btn-group mr-1">\r\n          <button id="btnGuardar" type="button" class="btn btn-sm btn-primary" (click)="insertar(frmDatos)" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n            <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> </span>\r\n          </button>\r\n        </div>\r\n        \x3c!--Cancelar y/o regresar--\x3e\r\n        <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n          id="btnCancelar" ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}"\r\n          (click)="cancelar()">\r\n          <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n            aria-hidden="true"></i>\r\n        </button>\r\n      </div>\r\n      \x3c!-- Con etiquetas--\x3e\r\n      <div class="btn-group d-none d-lg-block">\r\n        \x3c!--Guardar--\x3e\r\n        <div *ngIf="accion !== constantes.ACCION_CONSULTAR" class="btn-group mr-1">\r\n          <button id="btnGuardar" type="button" class="btn btn-sm btn-primary" (click)="insertar(frmDatos)" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n            <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"> </i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}} </span>\r\n          </button>\r\n        </div>\r\n        \x3c!--Cancelar y/o regresar--\x3e\r\n        <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n          id="btnCancelar" (click)="cancelar()" ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}">\r\n          <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n            aria-hidden="true"></i>\r\n          {{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="card-body p-1">\r\n    <fieldset [disabled]="accion === constantes.ACCION_CONSULTAR">\r\n      <div class="card mb-1">\r\n        <div class="card-header">\r\n          <b> {{constantes.TAG_TRABAJADOR}}</b>\r\n        </div>\r\n        <div class="card-body collapse show m-0 p-0">\r\n          <div class="mb-0">\r\n            <ul class="nav nav-tabs nav-justified nav-empresa" role="tablist" style="box-shadow: inset 0 -1px 0 #ddd;">\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link active p-1" href data-target="#personal" aria-controls="personal" role="tab"\r\n                  data-toggle="tab">\r\n                  <b>{{constantes.TAG_PERSONAL}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link p-1" href data-target="#iess" aria-controls="iess" role="tab" data-toggle="tab">\r\n                  <b>{{constantes.TAG_IESS}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link p-1" href data-target="#sri" aria-controls="sri" role="tab" data-toggle="tab">\r\n                  <b>{{constantes.TAG_SRI}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link p-1" href data-target="#financiero" aria-controls="financiero" role="tab"\r\n                  data-toggle="tab">\r\n                  <b>{{constantes.TAG_FINANCIERO}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link p-1" href data-target="#descuentos" aria-controls="descuentos" role="tab"\r\n                  data-toggle="tab">\r\n                  <b>{{constantes.TAG_DESCUENTOS}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item" *ngIf="accion != constantes.ACCION_CREAR">\r\n                <a class="nav-link p-1" href data-target="#saldos" aria-controls="saldos" role="tab" data-toggle="tab">\r\n                  <b>{{constantes.TAG_SALDOS}}</b>\r\n                </a>\r\n              </li>\r\n              <li role="presentation" class="nav-item">\r\n                <a class="nav-link p-1" href data-target="#foto" aria-controls="foto" role="tab" data-toggle="tab">\r\n                  <b>{{constantes.TAG_FOTO}}</b>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <div class="tab-content panel" style="border-top-width: 0px;">\r\n              <div role="tabpanel" class="tab-pane fade show active" id="personal">\r\n                \x3c!--datos individuales--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_INFORMACION_INDIVIDUAL}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseIA"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseIA">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_EMPRESA}}</strong>\r\n                        </label>\r\n                        <label class="form-control form-control-sm text-uppercase mousetrap input-label">\r\n                          {{empresaSeleccionada.empNombre}}\r\n                        </label>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SECTOR}}</strong>\r\n                        </label>\r\n                        <select [compareWith]="compareSectores" class="form-control form-control-sm text-uppercase  mousetrap"\r\n                          name="sector" [(ngModel)]="sectorSeleccionado" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="sector" *ngFor="let sector of sectores"> {{sector?.secNombre}}\r\n                            ({{sector?.prdSectorPK.secCodigo}})\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n                        </label>\r\n                        <select [compareWith]="compareCategorias" class="form-control form-control-sm text-uppercase  mousetrap"\r\n                          name="categoria" [(ngModel)]="categoriaSeleccionada" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="categoria" *ngFor="let categoria of categorias">\r\n                            {{categoria?.rhCategoriaPK.catNombre}}</option>\r\n                        </select>\r\n                      </div>\r\n                      \x3c!--segunda fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_RESIDENCIA}}</strong>\r\n                        </label>\r\n                        <select (change)="cambioResidencia()" class="form-control form-control-sm  text-uppercase mousetrap"\r\n                          name="residencia" [(ngModel)]="empleado.empResidenciaTipo" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="residencia.clave" *ngFor="let residencia of residencias">\r\n                            {{residencia?.valor}}</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_PAIS}}</strong>\r\n                        </label>\r\n                        <select *ngIf="empleado.empResidenciaTipo != \'01\'" class="form-control text-uppercase form-control-sm  mousetrap"\r\n                          name="pais" [(ngModel)]="empleado.empResidenciaPais" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="pais.paisCodigo" *ngFor="let pais of paises"> {{pais?.paisNombre}}\r\n                          </option>\r\n                        </select>\r\n                        <label *ngIf="empleado.empResidenciaTipo == \'01\'" class="form-control form-control-sm input-label">\r\n                          {{paisLocal?.paisNombre}}</label>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_TIPO_IDENTIFICACION}}</strong>\r\n                        </label>\r\n                        <select *ngIf="empleado.empResidenciaTipo != \'01\'" class="form-control form-control-sm text-uppercase  mousetrap"\r\n                          name="identificacion" [(ngModel)]="empleado.empTipoId" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="identificacion.clave" *ngFor="let identificacion of tiposIdentidad">\r\n                            {{identificacion?.valor}}</option>\r\n                        </select>\r\n                        <label *ngIf="empleado.empResidenciaTipo == \'01\'" class="form-control form-control-sm input-label">\r\n                          {{tipoIdentidadLocal?.valor}}</label>\r\n                      </div>\r\n                      \x3c!--tercera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NUMERO_IDENTIFICACION}}</strong>\r\n                        </label>\r\n                        <input [ngClass]="{\'has-error\':rptaCedula || rptaRepetido}" type="nidentificacion" name="nidentificacion"\r\n                          pKeyFilter="pint" (keypress)="soloNumeros($event)" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                          [(ngModel)]="empleado.rhEmpleadoPK.empId" class="form-control form-control-sm text-uppercase mousetrap"\r\n                          required [disabled]="!empleado.empTipoId" (blur)="validarIdentificacion(empleado.rhEmpleadoPK.empId)">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-8 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_APELLIDOS}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="apellidos" name="apellidos" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empApellidos"\r\n                          required>\r\n                      </div>\r\n                      \x3c!--cuarta fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NOMBRE}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="nombres" name="nombres" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empNombres"\r\n                          required>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_GENERO}}</strong>\r\n                        </label>\r\n                        <select class="form-control form-control-sm text-uppercase  mousetrap" name="genero"\r\n                          [(ngModel)]="empleado.empGenero" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="genero.clave" *ngFor="let genero of generos"> {{genero?.valor}}</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_FECHA_NACIMIENTO}}</strong>\r\n                        </label>\r\n                        <p-calendar class="mousetrap calendar" (onBlur)="validarFechaDeNacimiento()" (ngModelChange)="validarFechaDeNacimiento()"\r\n                          name="nacimiento" [inputStyleClass]="fechaNacimientoValido ==false ?\'has-error mousetrap height-30\':\'mousetrap height-30\' "\r\n                          [(ngModel)]="empleado.empFechaNacimiento" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n                          [required]="true" placeholder="DD/MM/YYYY"></p-calendar>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \x3c!--datos de residencia--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_DATOS_RESIDENCIA}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseR"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseR">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_PROVINCIA}}</strong>\r\n                        </label>\r\n                        <select (change)="cambioProvincia()" class="form-control text-uppercase form-control-sm  mousetrap"\r\n                          name="provincia" [(ngModel)]="empleado.empProvincia" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="provincia.codigo" *ngFor="let provincia of provincias">\r\n                            {{provincia?.nombre}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_CANTON}}</strong>\r\n                        </label>\r\n                        <select class="form-control form-control-sm text-uppercase  mousetrap" name="canton"\r\n                          [(ngModel)]="empleado.empCanton" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="canton.codigo" *ngFor="let canton of cantones"> {{canton?.nombre}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_CIUDAD}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="ciudad" name="ciudad" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empLugarNacimiento"\r\n                          required>\r\n                      </div>\r\n                      \x3c!--segunda fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_DIRECCION}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="direccion" name="direccion" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empDomicilio"\r\n                          required>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NUMERO_CASA}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="ncasa" name="ncasa" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empNumero"\r\n                          required>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_TELEFONO}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="telefono" name="telefono" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empTelefono"\r\n                          minlength="9" required>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \x3c!--informacion familiar--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_INFORMACION_FAMILIAR}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseIF"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseIF">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_ESTADO_CIVIL}}</strong>\r\n                        </label>\r\n                        <select (change)="cambioCargasFamiliares()" class="form-control text-uppercase form-control-sm  mousetrap"\r\n                          name="ecivil" [(ngModel)]="empleado.empEstadoCivil" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="ecivil.clave" *ngFor="let ecivil of estadosCivil"> {{ecivil?.valor}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NUMERO_CARGAS_FAMILIARES}}</strong>\r\n                        </label>\r\n                        <input type="text" id="cf" (ngModelChange)="cambioCargasFamiliares()" appUppercase class="pr-2 text-right form-control form-control-sm text-uppercase mousetrap"\r\n                          name="cf" [appAutonumeric]="autonumeric30Cargas" [appAutonumericValue]="empleado.empCargasFamiliares"\r\n                          value="{{empleado.empCargasFamiliares}}" placeholder="{{constantes.TAG_OPCIONAL}}" [ngClass]="{\'has-error\':!cargaFamiliarValida}"\r\n                          [(ngModel)]="empleado.empCargasFamiliares">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_EMAIL}}\r\n                            <span class="fa fa-info-circle text-primary" placement="right" triggers="mouseenter:mouseleave"\r\n                              autoClose="outside" ngbPopover="{{constantes.MSJ_EMAIL}}" container="body"></span>\r\n                          </strong>\r\n                        </label>\r\n                        <span class="ui-fluid">\r\n                          <p-chips [(ngModel)]="correos" name="emails" class="mousetrap" [inputStyleClass]="accion===constantes.ACCION_CREAR || correos.length==0 ? \r\n                            \'form-control form-control-sm grande text-lowercase\' : \'form-control form-control-sm chico text-lowercase\'"\r\n                            [allowDuplicate]="false" (onAdd)="clickear()" addOnTab="false" id="chip" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n                            [disabled]="accion === constantes.ACCION_CONSULTAR" (onBlur)="tamanioGrande()" (onFocus)="tamanioChico()"\r\n                            id="correosolo">\r\n                            <ng-template let-item pTemplate="item">\r\n                              {{item}}\r\n                            </ng-template>\r\n                          </p-chips>\r\n                        </span>\r\n                      </div>\r\n                      \x3c!--tercera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-12 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_OBSERVACIONES}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="observaciones" name="observaciones" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empObservaciones">\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="iess">\r\n                \x3c!--Fechas--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_FECHAS}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseF"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseF">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_PRIMER_INGRESO}}</strong>\r\n                        </label>\r\n                        <p-calendar class="mousetrap calendar" name="empFechaPrimerIngreso" [inputStyleClass]="\'mousetrap height-30\' "\r\n                          [(ngModel)]="empleado.empFechaPrimerIngreso" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n                          placeholder="DD/MM/YYYY" [required]="(empleado.empMotivoSalida!=null && empleado.empMotivoSalida!=\'\') || (empleado.empFechaPrimeraSalida)"></p-calendar>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_PRIMERA_SALIDA}}\r\n                            <span class="fa fa-info-circle text-primary" placement="top" triggers="mouseenter:mouseleave"\r\n                              autoClose="outside" ngbPopover="{{constantes.MSJ_FECHA_PRIMERA_SALIDA}}" container="body"></span>\r\n                          </strong>\r\n                        </label>\r\n                        <p-calendar class="mousetrap calendar" name="empFechaPrimeraSalida" [inputStyleClass]="\'mousetrap height-30\' "\r\n                          [(ngModel)]="empleado.empFechaPrimeraSalida" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n                          [minDate]="empleado.empFechaPrimerIngreso" [appMinDate]="empleado.empFechaPrimerIngreso"\r\n                          [maxDate]="empleado.empFechaAfiliacionIess" [appMaxDate]="empleado.empFechaAfiliacionIess"\r\n                          placeholder="DD/MM/YYYY" [required]="(empleado.empMotivoSalida!=null && empleado.empMotivoSalida!=\'\') || (empleado.empFechaPrimerIngreso)"></p-calendar>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_MOTIVO_SALIDA}}</strong>\r\n                        </label>\r\n                        <select class="form-control form-control-sm text-uppercase  mousetrap" name="empMotivoSalida"\r\n                          [(ngModel)]="empleado.empMotivoSalida" [required]="(empleado.empFechaPrimerIngreso) || (empleado.empFechaPrimeraSalida)">\r\n                          <option selected ngValue="">{{constantes.TAG_NINGUNA}}</option>\r\n                          <option [ngValue]="motivo.clave" *ngFor="let motivo of motivos"> {{motivo?.valor}}</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \x3c!--IEES--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_IESS}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseIEES"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseIESS">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_FECHA_AVISO_ENTRADA}}</strong>\r\n                        </label>\r\n                        <p-calendar class="mousetrap calendar" name="empFechaAfiliacionIess" [inputStyleClass]="\'mousetrap height-30\' "\r\n                          [(ngModel)]="empleado.empFechaAfiliacionIess" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n                          [minDate]="empleado.empFechaPrimerIngreso" [appMinDate]="empleado.empFechaPrimerIngreso"\r\n                          [maxDate]="fechaActual" [appMaxDate]="fechaActual" [required]="true" placeholder="DD/MM/YYYY"\r\n                          (ngModelChange)="cambioAvisoDeEntrada()"></p-calendar>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NUMERO_REGISTRO_NOVEDAD}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empCodigoAfiliacionIess" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empCodigoAfiliacionIess" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empCodigoAfiliacionIess"\r\n                          required>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NUMERO_ACTIVIDAD_SECTORIAL}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empCodigoCargo" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empCodigoCargo" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empCodigoCargo"\r\n                          required>\r\n                      </div>\r\n                      \x3c!--segunda fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SUELDO}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empSueldoIess" [ngClass]="{\'has-error\':!sueldoValido || empleado.empSueldoIess<=0}"\r\n                          (blur)="validarSueldo()" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empSueldoIess" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empSueldoIess"\r\n                          value="{{empleado.empSueldoIess}}" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empSueldoIess"\r\n                          required>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SALARIO_NETO}}</strong>\r\n                        </label>\r\n                        <div class="switch" style="display: block!important;">\r\n                          <label>\r\n                            <input id="empSalarioNeto" name="empSalarioNeto" type="checkbox" [(ngModel)]="empleado.empSalarioNeto">\r\n                            <span class="lever"></span>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_EXTENSION_SALUD_CONYUGE}}</strong>\r\n                        </label>\r\n                        <div class="switch" style="display: block!important;">\r\n                          <label>\r\n                            <input id="empExtensionCoberturaIess" name="empExtensionCoberturaIess" type="checkbox"\r\n                              [(ngModel)]="empleado.empExtensionCoberturaIess">\r\n                            <span class="lever"></span>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \x3c!--TAG_PARAMETROS_LABORALES--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_PARAMETROS_LABORALES}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapsePL"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapsePL">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_CARGO}}</strong>\r\n                        </label>\r\n                        <input type="text" appUppercase class="form-control text-uppercase form-control-sm mousetrap"\r\n                          id="empCargo" name="empCargo" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empCargo"\r\n                          required>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_FORMA_PAGO}}</strong>\r\n                        </label>\r\n                        <select class="form-control text-uppercase form-control-sm  mousetrap" name="empFormaPago"\r\n                          [(ngModel)]="empleado.empFormaPago" disabled required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="fp.clave" *ngFor="let fp of formasDePago"> {{fp?.valor}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_BONO_FIJO}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empBonoFijo" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empBonoFijo" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empBonoFijo"\r\n                          value="{{empleado.empBonoFijo}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empBonoFijo">\r\n                      </div>\r\n                      \x3c!--segunda fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong ngbTooltip="{{constantes.TAG_BONO_FIJO_NO_DEDUCIBLES}}">{{constantes.TAG_BONO_FIJO_ND}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empBonoFijoNd" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empBonoFijoNd" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empBonoFijoNd"\r\n                          value="{{empleado.empBonoFijoNd}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empBonoFijoNd">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_OTROS_INGRESOS}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empOtrosIngresos" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empOtrosIngresos" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empOtrosIngresos"\r\n                          value="{{empleado.empOtrosIngresos}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empOtrosIngresos">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong ngbTooltip="{{constantes.TAG_OTROS_INGRESOS_NO_DEDUCIBLES}}">{{constantes.TAG_OTROS_INGRESOS_ND}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empOtrosIngresosNd" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empOtrosIngresosNd" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empOtrosIngresosNd"\r\n                          value="{{empleado.empOtrosIngresosNd}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empOtrosIngresosNd">\r\n                      </div>\r\n                      \x3c!--segunda fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_FONDO_DE_RESERVA}}</strong>\r\n                        </label>\r\n                        <select class="form-control form-control-sm  text-uppercase mousetrap" name="empCancelarFondoReservaMensualmente"\r\n                          [(ngModel)]="empleado.empCancelarFondoReservaMensualmente" required>\r\n                          <option selected [ngValue]="true">{{constantes.TAG_MENSUALMENTE}}</option>\r\n                          <option [ngValue]="false">{{constantes.TAG_ACUMULADO}}</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_DECIMO_TERCER_SUELDO}}</strong>\r\n                        </label>\r\n                        <select class="form-control form-control-sm  text-uppercase mousetrap" name="empCancelarXiiiSueldoMensualmente"\r\n                          [(ngModel)]="empleado.empCancelarXiiiSueldoMensualmente" required>\r\n                          <option selected [ngValue]="true">{{constantes.TAG_MENSUALMENTE}}</option>\r\n                          <option [ngValue]="false">{{constantes.TAG_ACUMULADO}}</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_DECIMO_CUARTO_SUELDO}}</strong>\r\n                        </label>\r\n                        <select class="form-control form-control-sm  text-uppercase mousetrap" name="empCancelarXivSueldoMensualmente"\r\n                          [(ngModel)]="empleado.empCancelarXivSueldoMensualmente" required>\r\n                          <option selected [ngValue]="true">{{constantes.TAG_MENSUALMENTE}}</option>\r\n                          <option [ngValue]="false">{{constantes.TAG_ACUMULADO}}</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="sri">\r\n                \x3c!--TAG_PRELIMINAR_FORMULARIO_GASTOS_PERSONALES--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_PRELIMINAR_FORMULARIO_GASTOS_PERSONALES}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseGastosPersonales"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseGastosPersonales">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_APLICA_RETENCION}}</strong>\r\n                        </label>\r\n                        <div class="switch" style="display: block!important;">\r\n                          <label>\r\n                            <input id="empRetencion" name="empRetencion" type="checkbox" [(ngModel)]="empleado.empRetencion">\r\n                            <span class="lever"></span>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2" *ngIf="empleado.empRetencion">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_VIVIENDA}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empVivienda" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empVivienda" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empVivienda"\r\n                          value="{{empleado.empVivienda}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empVivienda">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2" *ngIf="empleado.empRetencion">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_EDUCACION}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empEducacion" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empEducacion" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empEducacion"\r\n                          value="{{empleado.empEducacion}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empEducacion">\r\n                      </div>\r\n                    </div>\r\n                    \x3c!--SEGUNDA fila--\x3e\r\n                    <div class="row" *ngIf="empleado.empRetencion">\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SALUD}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empSalud" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empSalud" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empSalud"\r\n                          value="{{empleado.empSalud}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empSalud">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_VESTIMENTA}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empVestuario" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empVestuario" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empVestuario"\r\n                          value="{{empleado.empVestuario}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empVestuario">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_ALIMENTACION}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empAlimentacion" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empAlimentacion" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empAlimentacion"\r\n                          value="{{empleado.empAlimentacion}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empAlimentacion">\r\n                      </div>\r\n                      \x3c!--TERCERAA fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_REBAJA_DISCAPACIDAD}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empRebajaDiscapacidad" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empRebajaDiscapacidad" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empRebajaDiscapacidad"\r\n                          value="{{empleado.empRebajaDiscapacidad}}" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n                          [(ngModel)]="empleado.empRebajaDiscapacidad">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_REBAJA_TERCERA_EDAD}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empRebajaTerceraEdad" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empRebajaTerceraEdad" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empRebajaTerceraEdad"\r\n                          value="{{empleado.empRebajaTerceraEdad}}" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n                          [(ngModel)]="empleado.empRebajaTerceraEdad">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_INGRESO_CON_OTROS_TRABAJADORES}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empSueldoOtraCompania" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empSueldoOtraCompania" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empSueldoOtraCompania"\r\n                          value="{{empleado.empSueldoOtraCompania}}" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n                          [(ngModel)]="empleado.empSueldoOtraCompania">\r\n                      </div>\r\n                      \x3c!--CUARTA fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_APORTE_PERSONAL_OTROS_EMPLEADORES}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empOtrasDeducciones" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empOtrasDeducciones" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empOtrasDeducciones"\r\n                          value="{{empleado.empOtrasDeducciones}}" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n                          [(ngModel)]="empleado.empOtrasDeducciones">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_UTILIDADES}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empUtilidades" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empUtilidades" [appAutonumeric]="autonumeric92" [appAutonumericValue]="empleado.empUtilidades"\r\n                          value="{{empleado.empUtilidades}}" placeholder="{{constantes.TAG_OPCIONAL}}" [(ngModel)]="empleado.empUtilidades">\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_APLICA_CONVENIO}}</strong>\r\n                        </label>\r\n                        <div class="switch" style="display: block!important;">\r\n                          <label>\r\n                            <input id="empConvenio" name="empConvenio" type="checkbox" [(ngModel)]="empleado.empConvenio">\r\n                            <span class="lever"></span>\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div *ngIf="empleado.empRetencion" class="text-center pb-2">{{constantes.TAG_VALORES_ANUALES_ANO_EN_CURSO}}</div>\r\n                  </div>\r\n                </div>\r\n                \x3c!--TAG_DISCAPACIDAD--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_DISCAPACIDAD}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseDiscapacidad"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseDiscapacidad">\r\n                    <div class="row">\r\n                      \x3c!--PRIMERA fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_TIPO_DISCAPACIDAD}}</strong>\r\n                        </label>\r\n                        <select class="form-control text-uppercase form-control-sm  mousetrap" name="empDiscapacidadTipo"\r\n                          [(ngModel)]="empleado.empDiscapacidadTipo" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="empDiscapacidadTipo.clave" *ngFor="let empDiscapacidadTipo of discapacidades">\r\n                            {{empDiscapacidadTipo?.valor}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2" *ngIf="empleado.empDiscapacidadTipo && empleado.empDiscapacidadTipo!=\'01\'">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_PORCENTAJE_DISCAPACIDAD}}</strong>\r\n                        </label>\r\n                        <input type="text" id="pd" appUppercase class="pr-2 text-right form-control form-control-sm text-uppercase mousetrap"\r\n                          name="pd" [appAutonumeric]="autonumeric30Cargas" [appAutonumericValue]="empleado.empDiscapacidadPorcentaje"\r\n                          value="{{empleado.empDiscapacidadPorcentaje}}" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n                          [ngClass]="{\'has-error\':empDiscapacidadPorcentaje<=0}" [(ngModel)]="empleado.empDiscapacidadPorcentaje"\r\n                          required>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2" *ngIf="empleado.empDiscapacidadTipo && empleado.empDiscapacidadTipo!=\'01\' && empleado.empDiscapacidadTipo!=\'02\'">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_TIPO_IDENTIFICACION}}</strong>\r\n                        </label>\r\n                        <select class="form-control text-uppercase form-control-sm  mousetrap" name="empDiscapacidadTipoIdentidad"\r\n                          [(ngModel)]="empleado.empDiscapacidadIdTipo" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="empDiscapacidadTipo.clave" *ngFor="let empDiscapacidadTipo of tiposIdentidadDiscapacidad">\r\n                            {{empDiscapacidadTipo?.valor}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div class="row" *ngIf="empleado.empDiscapacidadTipo && empleado.empDiscapacidadTipo!=\'01\' && empleado.empDiscapacidadTipo!=\'02\'">\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NUMERO_IDENTIFICACION}}</strong>\r\n                        </label>\r\n                        <input [ngClass]="{\'has-error\':empleado.rhEmpleadoPK.empId === empleado.empDiscapacidadIdNumero}"\r\n                          type="nidentificacionD" name="nidentificacionD" pKeyFilter="pint" (keypress)="soloNumeros($event)"\r\n                          placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empDiscapacidadIdNumero"\r\n                          class="form-control form-control-sm text-uppercase mousetrap" required>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="financiero">\r\n                \x3c!--TAG_BANCO--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_DATOS_FINANCIEROS}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseDatosFinancieros"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseDatosFinancieros">\r\n                    <div class="row">\r\n                      \x3c!--CUARTA fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_BANCO}}</strong>\r\n                        </label>\r\n                        <select class="form-control text-uppercase form-control-sm  mousetrap" name="banco" [(ngModel)]="empleado.empBanco">\r\n                          <option selected ngValue="">{{constantes.TAG_NO_APLICA}}</option>\r\n                          <option [ngValue]="banco.banCodigo" *ngFor="let banco of bancos"> {{banco?.banNombre}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2" *ngIf="empleado.empBanco && empleado.empBanco != \'NO_APLICA\'">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_TIPO_CUENTA}}</strong>\r\n                        </label>\r\n                        <select class="form-control text-uppercase form-control-sm  mousetrap" name="cuenta"\r\n                          [(ngModel)]="empleado.empCuentaTipo" required>\r\n                          <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                          <option [ngValue]="cuenta.clave" *ngFor="let cuenta of cuentasBancarias"> {{cuenta?.valor}}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2" *ngIf="empleado.empBanco && empleado.empBanco != \'NO_APLICA\'">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_NUMERO_CUENTA}}</strong>\r\n                        </label>\r\n                        <input type="text" id="empCuentaNumero" appUppercase class="form-control form-control-sm text-uppercase mousetrap"\r\n                          name="empCuentaNumero" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="empleado.empCuentaNumero"\r\n                          required>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="descuentos">\r\n                <div>\r\n                  <app-descuentos [descuentos]="descuentos" [gridApi]="gridApi" [motivosDeAnticipos]="motivosDeAnticipos"\r\n                    [autonumeric92]="autonumeric92" [empleado]="empleado" [accion]="accion"></app-descuentos>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="saldos" *ngIf="accion != constantes.ACCION_CREAR">\r\n                \x3c!--SALDOS--\x3e\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b> {{constantes.TAG_SALDOS}}</b>\r\n                    <div class="card-header-actions">\r\n                      <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseSaldos"\r\n                        aria-expanded="true" placement="left" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n                        <i class="fa fa-minus"></i>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseSaldos">\r\n                    <div class="row">\r\n                      \x3c!--primera fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_FECHA_ULTIMO_SUELDO}}</strong>\r\n                        </label>\r\n                        <p-calendar class="mousetrap calendar" name="empFechaUltimoSueldo" [inputStyleClass]="\'mousetrap height-30\' "\r\n                          [(ngModel)]="empleado.empFechaUltimoSueldo" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n                          placeholder="DD/MM/YYYY" [disabled]="true"></p-calendar>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SALDO_ANTERIOR}}</strong>\r\n                        </label>\r\n                        <label class="form-control form-control-sm text-uppercase mousetrap input-label">\r\n                          {{empleado.empSaldoAnterior | number : \'1.2-2\'}}\r\n                        </label>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SALDO_ANTICIPO}}</strong>\r\n                        </label>\r\n                        <label class="form-control form-control-sm text-uppercase mousetrap input-label">\r\n                          {{empleado.empSaldoAnticipos | number : \'1.2-2\'}}\r\n                        </label>\r\n                      </div>\r\n                      \x3c!--SEGUNDA fila--\x3e\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SALDO_BONOS}}</strong>\r\n                        </label>\r\n                        <label class="form-control form-control-sm text-uppercase mousetrap input-label">\r\n                          {{empleado.empSaldoBonos | number : \'1.2-2\'}}\r\n                        </label>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SALDO_BONOS_ND}}</strong>\r\n                        </label>\r\n                        <label class="form-control form-control-sm text-uppercase mousetrap input-label">\r\n                          {{empleado.empSaldoBonosNd | number : \'1.2-2\'}}\r\n                        </label>\r\n                      </div>\r\n                      <div class="form-group form-group-sm col-sm-4 has-feedback pr-2">\r\n                        <label>\r\n                          <strong>{{constantes.TAG_SALDO_PRESTAMOS}}</strong>\r\n                        </label>\r\n                        <label class="form-control form-control-sm text-uppercase mousetrap input-label">\r\n                          {{empleado.empSaldoPrestamos | number : \'1.2-2\'}}\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div role="tabpanel" class="tab-pane fade" id="foto">\r\n                <div class="card mb-1">\r\n                  <div class="card-header">\r\n                    <b>{{constantes.TITULO_IMAGEN_DE_PERFIL}}</b>\r\n                  </div>\r\n                  <div class="card-body usuario" style="text-align: center;">\r\n                    <p-fileUpload name="listadoImagenes" [showCancelButton]="false" [showUploadButton]="false"\r\n                      invalidFileTypeMessageSummary="{0}:  {{constantes.MSJ_ARCHIVO_NO_VALIDO}}, "\r\n                      invalidFileSizeMessageSummary="{0}:  {{constantes.MSJ_TAMANIO_ARCHIVO_NO_VALIDO}}"\r\n                      invalidFileTypeMessageDetail="{{constantes.MSJ_ARCHIVO_PERMITIDO}}: {0}." chooseLabel="{{constantes.TAG_SELECCIONE}}"\r\n                      cancelLabel="{{constantes.LABEL_CANCELAR}}" accept="image/*" maxFileSize="1000000" (onSelect)="seleccionarImagenes($event)"\r\n                      invalidFileSizeMessageDetail="El tama\xf1o m\xe1ximo de carga es 1 MB.">\r\n                      <ng-template pTemplate="toolbar"></ng-template>\r\n                      <ng-template let-file pTemplate="file"></ng-template>\r\n                      <ng-template pTemplate="content"></ng-template>\r\n                    </p-fileUpload>\r\n                    <div class="card">\r\n                      <div *ngIf="archivoPerfilByte">\r\n                        <img #img class="foto-perfil card-img-top img-responsive" src="{{archivoPerfilByte}}" alt="Card image cap"\r\n                          width="50">\r\n                        <div class="card-footer text-muted text-center">\r\n                          <button class="btn btn-sm btn-danger mr-1" (click)="eliminarItem()"> <i class="{{constantes.ICON_ELIMINAR}}"\r\n                              aria-hidden="true"></i></button>\r\n                          <button class="btn btn-sm btn-primary" (click)="visualizar(archivoPerfilByte)"> <i class="{{constantes.ICON_CONSULTAR}}"\r\n                              aria-hidden="true"></i></button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <p-dialog header="Visualizaci\xf3n de imagen" styleClass="visualizadorImagenes" [(visible)]="visualizarImagen"\r\n                      modal="true" minWidth="200" minHeight="200" showHeader="false">\r\n                      <img #img class="card-img-top img-responsive" src="{{archivoPerfilByte}}" alt="Card image cap">\r\n                    </p-dialog>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n</form>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},auJR:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmSoporteAnt=\'ngForm\' name="frmSoporteAnt" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarAccionesContabilidad">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.CONTABILIDAD_TIPO_CONTABLE}}</strong>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoContableSeleccionado"\r\n              [disabled]="mostrarAccionesContabilidad" (ngModelChange)="limpiarResultado()" required>\r\n              <option selected disabled value=null>{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="tipo" *ngFor="let tipo of listaTipoContable"> {{tipo?.tipDetalle}}\r\n                ({{tipo?.tipCodigo}} )</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_PERIODO}}</strong>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="periodo" [(ngModel)]="periodoSeleccionado" [disabled]="mostrarAccionesContabilidad"\r\n              (ngModelChange)="limpiarResultado()" required>\r\n              <option selected disabled value=null>{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodo">{{periodo.sisPeriodoPK.perCodigo}} |\r\n                {{periodo.perDetalle}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_NUMERO_CONTABLE}}</strong>\r\n            </label>\r\n            <input [appFocus]="true" name="txtBusqueda" (blur)="completarCeros()" [(ngModel)]="numeroContable" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n              class="form-control input-sm" maxlength="7" required pattern="{{constantes.PATTERN_NUMEROS}}" pKeyFilter="pint"\r\n              (keypress)="soloNumeros($event)" [disabled]="mostrarAccionesContabilidad">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_INGRESE_SOLO_NUMEROS}}"\r\n              triggers="mouseenter:mouseleave" container="body"></span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarSoporteContableAnticipo(frmSoporteAnt)"\r\n            [disabled]="mostrarAccionesContabilidad">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="mostrarAccionesContabilidad">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1" *ngIf="!isModal">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="!screamXS" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_SOPORTE_CONTABLE_ANTICIPO_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnVerContable" (click)="verContable()"\r\n              placement="top" ngbTooltip="{{constantes.ACCION_VER_CONTABLE}}" container="body">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.ACCION_VER_CONTABLE}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnImprimir" (click)="imprimir(constantes.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO_LOTE)"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-1" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="imprimir(constantes.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO)">{{constantes.TAG_FIRMA_INDIVIDUAL}}</a>\r\n              <a class="dropdown-item" (click)="imprimir(constantes.NOMBRE_REPORTE_COMPROBANTE_ANTICIPO_FIRMA_COLECTIVA)">{{constantes.TAG_FIRMA_COLECTIVA}}</a>\r\n              <a class="dropdown-item" (click)="imprimir(constantes.NOMBRE_REPORTE_COMPROBANTE_CONTABLE)">{{constantes.TAG_CONTABLE}}</a>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n          [frameworkComponents]="frameworkComponents" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          [pinnedBottomRowData]="pinnedBottomRowData" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="isModal ? filaSeleccionar() : consultarAnticipo()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar && mostrarAccionesContabilidad">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},aujj:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmAnticipo=\'ngForm\' name="frmAnticipo" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="estadoformulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n              &nbsp;\r\n              <a (click)="!estadoformulario ? listarCategorias() : null" *ngIf="!estadoformulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaCategorias" name="categorias" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="catNombre"\r\n              [disabled]="estadoformulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_FORMA_PAGO}}</strong>\r\n              &nbsp;\r\n              <a (click)="!estadoformulario ? listarFormasPago() : null">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_FORMAS_PAGO}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaFormaPago" name="formapago" [showClear]="true" [(ngModel)]="formaPagoSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="fpDetalle"\r\n              [disabled]="estadoformulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{formaPagoSeleccionado?.fpDetalle}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.fpDetalle}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input [appFocus]="true" type="text" name="trabajador" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n              [(ngModel)]="trabajador.rhEmpleadoPK.empId" class="form-control form-control-sm text-uppercase mousetrap"\r\n              (keydown)="abrirModalTrabajadores($event)" (blur)="validarEmpleado()" [ngbTooltip]="trabajador.empNombres ? trabajador.empNombres : null"\r\n              appUppercase [disabled]="estadoformulario">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}"\r\n              triggers="mouseenter:mouseleave" container="body" *ngIf="!estadoformulario"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaDesde" class="mousetrap" name="fechaDesde" [(ngModel)]="fechaDesde" [disabled]="estadoformulario"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [maxDate]="fechaHasta" [appMaxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta" [disabled]="estadoformulario"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarDetalleAnticipos(constantes.TAG_TODOS_MAYUSCULA, frmAnticipo)"\r\n                [disabled]="estadoformulario" title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n                [disabled]="estadoformulario">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="listarDetalleAnticipos(constantes.ETIQUETA_PENDIENTES, frmAnticipo)">{{constantes.TAG_PENDIENTES}}</a>\r\n                <a class="dropdown-item" (click)="listarDetalleAnticipos(constantes.ETIQUETA_ANULADOS, frmAnticipo)">{{constantes.TAG_ANULADOS}}</a>\r\n                <a class="dropdown-item" (click)="listarDetalleAnticipos(constantes.ETIQUETA_REVERSADOS, frmAnticipo)">{{constantes.TAG_REVERSADOS}}</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--Listado de detalle anticipos--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-detalle-anticipos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)" (estadoformulario)="estadoformulario=$event"></app-detalle-anticipos-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"b2+5":function(e,t){e.exports='<div class="row" *ngIf="!vistaRolPago">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmConsumo=\'ngForm\' name="frmConsumo" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaDesde" class="mousetrap" name="fechaDesde" [(ngModel)]="fechaDesde" [appMaxDate]="fechaActual"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [maxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listadoConsolidadoIngresos(frmConsumo)"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--Listado de consumos por fecha desglosado--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="listaResultado.length>0">\r\n    <div class="card m-0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_CONSOLIDADO_INGRESOS_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()"\r\n          (rowSelected)="filaSeleccionada = $event.node.data" (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()"\r\n          (cellDoubleClicked)="isModal ? filaSeleccionar() : verRolPago()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="vistaRolPago && parametrosFormulario">\r\n  <app-rol-pagos [objetoRolPagoDesdeFuera]="parametrosFormulario" (cerrarRolPago)="cerrarRolPago()">\r\n  </app-rol-pagos>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},bJeX:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <fieldset class="card m-0 mb-2" [disabled]="mostrarAccionesContabilidad">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n        <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>&nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="tipo" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre" [disabled]="mostrarAccionesContabilidad">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_PERIODO}}</strong>&nbsp;\r\n              <a (click)="listarPeriodos()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="periodo" required [(ngModel)]="periodoSeleccionado"\r\n              (ngModelChange)="limpiarResultado()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos">{{periodo.xivDescripcion}} </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.xivDesde:\'\'}}</label>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.xivHasta:\'\'}}</label>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_MAXIMO_PAGO}}</b>\r\n            </label>\r\n            <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.xivFechaMaximaPago:\'\'}}</label>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarAccionesContabilidad">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarXivSueldo" class="btn btn-sm btn-primary" (click)="buscarXivSueldo(frm)">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n  \x3c!--LISTADO CONTABILIDAD ESTADO RESULTADO INTEGRAL COMPARATIVO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="mostrarAccionesContabilidad">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarXivSueldo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_XIV_SUELDO_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXivSueldo" (click)="imprimirXivSueldo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXivSueldo" (click)="exportarXivSueldo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXivSueldo" (click)="imprimirXivSueldo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXivSueldo" (click)="exportarXivSueldo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" (rowSelected)="xivSueldoSeleccionado = $event.node.data"\r\n          [context]="context" (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (cellDoubleClicked)="vacacionesSeleccionado = $event.node.data; verContable()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarAccionesContabilidad">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},cFHJ:function(e,t){e.exports=""},cmPQ:function(e,t){e.exports=""},csDO:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmEmpleado=\'ngForm\' name="frmEmpleado" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}} ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          \x3c!--Busqueda--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FILTRAR}}</b>\r\n            </label>\r\n            <input class="form-control form-control-sm mousetrap text-uppercase" placeholder="OPCIONAL" name="busqueda" [(ngModel)]="busqueda"\r\n              appUppercase [disabled]="vistaFormulario">\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button id="btnBuscar" type="button" class="btn btn-sm btn-primary" (click)="!vistaFormulario ? listarEmpleado(false) : null" title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="!vistaFormulario ? listarEmpleado(true) : null">{{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n              </div>\r\n            </div>&nbsp;\r\n            <button id="btnNuevo" class="btn btn-sm btn-primary" type="button" (click)="nuevaEmpleado()" [disabled]="!frmEmpleado.valid" title="{{constantes.ATAJO_NUEVO}}">\r\n              <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <app-empleados-formulario [empresaSeleccionada]="empresaSeleccionada" [parametrosFormulario]="parametrosFormulario" [data]="data"\r\n        (enviarAccion)="ejecutarAccion($event)"></app-empleados-formulario>\r\n    </div>\r\n    <div [hidden]="vistaFormulario">\r\n      <app-empleados-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada" (enviarActivar)="activar=!$event"\r\n        (enviarAccion)="ejecutarAccion($event)"></app-empleados-listado>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},cw8D:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmAntiPres=\'ngForm\' name="frmAntiPres" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="estadoformulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n              &nbsp;\r\n              <a (click)="!estadoformulario ? listarCategorias() : null" *ngIf="!estadoformulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaCategorias" name="categorias" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="catNombre"\r\n              [disabled]="estadoformulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input [appFocus]="true" type="text" name="trabajador" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n              [(ngModel)]="trabajador.rhEmpleadoPK.empId" class="form-control form-control-sm text-uppercase mousetrap"\r\n              (keydown)="abrirModalTrabajadores($event)" (blur)="validarEmpleado()" [ngbTooltip]="trabajador.empNombres ? trabajador.empNombres : null"\r\n              appUppercase [disabled]="estadoformulario">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}"\r\n              triggers="mouseenter:mouseleave" container="body" *ngIf="!estadoformulario"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaDesde" class="mousetrap" name="fechaDesde" [(ngModel)]="fechaDesde" [appMaxDate]="fechaHasta"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [maxDate]="fechaHasta" [disabled]="estadoformulario"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta" [disabled]="estadoformulario"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarDetalleAnticiposPrestamos(constantes.TAG_TODOS_MAYUSCULA, frmAntiPres)"\r\n                title="{{constantes.ATAJO_BUSCAR}}" [disabled]="estadoformulario">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n                [disabled]="estadoformulario">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="listarDetalleAnticiposPrestamos(constantes.ETIQUETA_PENDIENTE, frmAntiPres)">{{constantes.TAG_PENDIENTES}}</a>\r\n                <a class="dropdown-item" (click)="listarDetalleAnticiposPrestamos(constantes.ETIQUETA_ANULADO, frmAntiPres)">{{constantes.TAG_ANULADOS}}</a>\r\n                <a class="dropdown-item" (click)="listarDetalleAnticiposPrestamos(constantes.ETIQUETA_REVERSADO, frmAntiPres)">{{constantes.TAG_REVERSADOS}}</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--Listado de detalle anticipos--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-detalle-anticipos-prestamos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)" (estadoformulario)="estadoformulario=$event"></app-detalle-anticipos-prestamos-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},dC5x:function(e,t){e.exports='<div class="modal-primary" *ngIf="parametrosBusqueda" [hidden]="mostrarAccionesContabilidad">\r\n  <div class="card m-0" *ngIf="listaDetalleAnticiposPrestamos.length>0">\r\n    <div class="modal-header p-2" *ngIf="isModal">\r\n      <h4 class="modal-title">{{constantes.RRHH_DETALLE_ANTICIPOS_PRESTAMOS}}</h4>\r\n      <button type="button" class="close" style="color: white;" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class="card-header p-1" *ngIf="!isModal">\r\n      <button id="btnActivarAntiPres" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="cambiarActivar()"\r\n        type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <b> {{constantes.RRHH_DETALLE_ANTICIPOS_PRESTAMOS}}</b>\r\n      <div class="card-header-actions">\r\n        <div class="btn-group">\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnImprimirAntiPres" (click)="imprimir(constantes.NOMBRE_REPORTE_DETALLE_ANTICIPOS)"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-1" data-toggle="dropdown">\r\n          </button>\r\n          <div class="dropdown-menu">\r\n            <a class="dropdown-item" (click)="null">{{constantes.TAG_FIRMA_INDIVIDUAL}}</a>\r\n            <a class="dropdown-item" (click)="null">{{constantes.TAG_FIRMA_COLECTIVA}}</a>\r\n            <a class="dropdown-item" (click)="null">{{constantes.TAG_COMPLEMENTO}}</a>\r\n          </div>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarAntiPres" (click)="exportar()"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-default mr-1" id="btnCancelar" (click)="regresar()" title="{{constantes.ATAJO_CANCELAR}}"\r\n            *ngIf="parametrosBusqueda.accion === constantes.ACCION_CONSULTAR">\r\n            <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0">\r\n      <div class="row">\r\n        <div class="col-sm-5 col-md-6">\r\n          <div class="input-group p-1">\r\n            <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n              size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n              size="100">\r\n            <div class="input-group-append">\r\n              <span class="input-group-text">\r\n                <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-7 col-md-6">\r\n          <div class="float-right pr-1">\r\n            <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n              maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n        [rowData]="listaDetalleAnticiposPrestamos" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n        (gridSizeChanged)="redimensionarColumnas()" [rowSelection]="rowSelection" [enableColResize]="true" [context]="context"\r\n        (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" [frameworkComponents]="frameworkComponents"\r\n        (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="isModal ? filaSeleccionar() : consultarAnticipo()"\r\n        [suppressRowClickSelection]="true" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n        (contextmenu)="$event.preventDefault()" [pinnedBottomRowData]="pinnedBottomRowData">\r\n      </ag-grid-angular>\r\n    </div>\r\n    <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n<div *ngIf="mostrarAccionesContabilidad">\r\n  <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n    (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},dNml:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmMotivoAnticipo=\'ngForm\' name="frmMotivoAnticipo" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button id="btnBuscarMotivo" type="button" class="btn btn-sm btn-primary" (click)="!vistaFormulario ? buscarMotivoAnticipo(false) : null"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="!vistaFormulario ? buscarMotivoAnticipo(true) : null">{{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n              </div>\r\n            </div>&nbsp;\r\n            <button id="btnNuevoMotivo" class="btn btn-sm btn-primary" type="button" (click)="!vistaFormulario && motivoAnticipoService.verificarPermiso(constantes.ACCION_NUEVO, empresaSeleccionada, true) ? nuevaMotivoAnticipo() : null"\r\n              [disabled]="!frmMotivoAnticipo.valid" title="{{constantes.ATAJO_NUEVO}}">\r\n              <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <form #frmDatos=\'ngForm\' autocomplete="off" class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivarListado" class="btn btn-sm btn-primary" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b> {{accion}} {{constantes.RRHH_MOTIVO_ANTICIPO.toLowerCase()}} - {{empresaSeleccionada.empNombre}}\r\n          </b>\r\n          <div class="card-header-actions">\r\n            \x3c!--Sin etiquetas--\x3e\r\n            <div class="btn-group d-lg-none">\r\n              \x3c!--Guardar--\x3e\r\n              <div *ngIf="accion !== constantes.ACCION_CONSULTA" class="btn-group mr-1">\r\n                <button id="btnGuardarMotivo" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertarMotivo(frmDatos) : modificarMotivo(frmDatos)"\r\n                  placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n                  <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n                  <span class="d-none d-md-inline"> </span>\r\n                </button>\r\n              </div>\r\n              \x3c!--Cancelar y/o regresar--\x3e\r\n              <button id="btnCancelarMotivo" type="button" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n                ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}"\r\n                (click)="cancelar()">\r\n                <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n                  aria-hidden="true"></i>\r\n              </button>\r\n            </div>\r\n            \x3c!-- Con etiquetas--\x3e\r\n            <div class="btn-group d-none d-lg-block">\r\n              \x3c!--Guardar--\x3e\r\n              <div *ngIf="accion !== constantes.ACCION_CONSULTAR" class="btn-group mr-1">\r\n                <button id="btnGuardarMotivo" type="button" class="btn btn-sm btn-primary" (click)="accion === constantes.ACCION_CREAR ? insertarMotivo(frmDatos) : modificarMotivo(frmDatos)"\r\n                  placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" title="{{constantes.ATAJO_GUARDAR}}">\r\n                  <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"> </i>\r\n                  <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}} </span>\r\n                </button>\r\n              </div>\r\n              \x3c!--Cancelar y/o regresar--\x3e\r\n              <button id="btnCancelarMotivo" type="button" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n                (click)="cancelar()" ngbTooltip="{{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}">\r\n                <i class="{{accion === constantes.ACCION_CONSULTAR?constantes.ICON_REGRESAR:constantes.ICON_CANCELAR}}"\r\n                  aria-hidden="true"></i>\r\n                {{accion === constantes.ACCION_CONSULTAR?constantes.LABEL_REGRESAR:constantes.LABEL_CANCELAR}}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="card-body p-1">\r\n          <fieldset [disabled]="accion === constantes.ACCION_CONSULTAR">\r\n            <div class="card mb-1">\r\n              <div class="card-header">\r\n                <b> {{constantes.TAG_DATOS_GENERALES}}</b>\r\n              </div>\r\n              <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0">\r\n                <div class="row">\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_DETALLE}}</strong>\r\n                    </label>\r\n                    <label class="form-control form-control-sm input-label text-uppercase" *ngIf="accion !== constantes.ACCION_CREAR">{{motivoAnticipo.rhAnticipoMotivoPK.motDetalle}}</label>\r\n                    <input type="text" appUppercase class="form-control form-control-sm text-uppercase mousetrap" name="motDetalle"\r\n                      id="motDetalle" required placeholder="{{constantes.TAG_OBLIGATORIO}}" *ngIf="accion === constantes.ACCION_CREAR"\r\n                      [(ngModel)]="motivoAnticipo.rhAnticipoMotivoPK.motDetalle">\r\n                  </div>\r\n                  <div class="form-group form-group-sm col-sm-6 has-feedback pr-2">\r\n                    <label>\r\n                      <strong>{{constantes.TAG_TIPO_CONTABLE}}</strong>\r\n                    </label>\r\n                    <select class="form-control form-control-sm text-uppercase mousetrap" name="contipo" [(ngModel)]="tipoSeleccionado"\r\n                      required>\r\n                      <option ngValue="" disabled selected hidden>{{constantes.TAG_SELECCIONE}}</option>\r\n                      <option [ngValue]="contipo" *ngFor="let contipo of tiposContables"> {{contipo.tipDetalle}}\r\n                        ({{contipo.conTipoPK.tipCodigo}})\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </fieldset>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class="card mb-0" [hidden]="vistaFormulario" *ngIf="listadoMotivoAnticipos?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarListado" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <b> {{constantes.RRHH_LISTADO_MOTIVO_ANTICIPO}}</b>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirMotivoAnticipos" (click)="imprimirMotivoAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarMotivoAnticipos" (click)="exportarMotivoAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirMotivoAnticipos" (click)="imprimirMotivoAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarMotivoAnticipos" (click)="exportarMotivoAnticipo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listadoMotivoAnticipos" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="objetoSeleccionado = $event.node.data" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="objetoSeleccionado = $event.node.data;consultarMotivoAnticipo()">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},fyx3:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <fieldset [disabled]="mostrarContabilidaAcciones">\r\n          <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_EMPRESA}}</b>\r\n              </label>\r\n              <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n                (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarContabilidaAcciones || objetoRolPagoDesdeFuera">\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                  ({{empresa.empCodigo}})\r\n                </option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm has-feedback" *ngIf="!visualizarSoloFechas">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_SECTOR}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarSectores()" *ngIf="!mostrarContabilidaAcciones">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n                [disabled]="mostrarContabilidaAcciones || objetoRolPagoDesdeFuera">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm has-feedback" *ngIf="!visualizarSoloFechas">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n                &nbsp;\r\n                <a (click)="listarCategoria()" *ngIf="!mostrarContabilidaAcciones">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaCategorias" name="categoria" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="catNombre"\r\n                [disabled]="mostrarContabilidaAcciones || objetoRolPagoDesdeFuera">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{categoriaSeleccionada?.catNombre}}\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div class="">{{fs.value.catNombre}}</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm has-feedback" *ngIf="!visualizarSoloFechas">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n              </label>\r\n              <input [appFocus]="true" class="form-control input-sm text-uppercase mousetrap" name="empleado" maxlength="20"\r\n                placeholder="{{constantes.TAG_OPCIONAL}}" id="empleado" (keydown)="buscarEmpleado($event)" (blur)="validarEmpleado()"\r\n                [(ngModel)]="empleado.rhEmpleadoPK.empId" [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null"\r\n                [disabled]="mostrarContabilidaAcciones || objetoRolPagoDesdeFuera">\r\n              <span class="fa fa-question-circle form-control-feedback" placement="left" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}"\r\n                triggers="mouseenter:mouseleave" container="body" *ngIf="!mostrarContabilidaAcciones && !objetoRolPagoDesdeFuera"></span>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n              </label>\r\n              <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();"\r\n                [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n                [required]="true" [disabled]="mostrarContabilidaAcciones"></p-calendar>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n              </label>\r\n              <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n                [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n                [required]="true" [disabled]="mostrarContabilidaAcciones"></p-calendar>\r\n            </div>\r\n\r\n          </form>\r\n        </fieldset>\r\n      </div>\r\n\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button id="btnBuscarRolPagos" type="button" class="btn btn-sm btn-primary" (click)="buscarRolPagos(\'\',frm)"\r\n              title="{{constantes.ATAJO_BUSCAR}}">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="buscarRolPagos(constantes.ETIQUETA_PENDIENTES,frm)">{{constantes.ETIQUETA_PENDIENTES}}\r\n              </a>\r\n              <a class="dropdown-item" (click)="buscarRolPagos(constantes.ETIQUETA_ANULADOS,frm)">{{constantes.ETIQUETA_ANULADOS}}</a>\r\n              <a class="dropdown-item" (click)="buscarRolPagos(constantes.ETIQUETA_REVERSADOS,frm)">{{constantes.ETIQUETA_REVERSADOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" class="btn btn-sm btn-default mr-1" (click)="regresar()" id="btnRegresarRolPagos" *ngIf="objetoRolPagoDesdeFuera && listaResultadoRolPago?.length === 0"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n            <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i> {{constantes.LABEL_REGRESAR}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="!mostrarContabilidaAcciones">\r\n    <div class="card m-0" *ngIf="listaResultadoRolPago?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarRolPagos" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_ROL_PAGO_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirRolPagos" (click)="imprimirRolPagos()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> </span>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirContableLote()">{{constantes.LABEL_IMPRIMIR_CONTABLE}}</a>\r\n                <a class="dropdown-item" (click)="imprimirComprobanteLote()">{{constantes.LABEL_IMPRIMIR_COMPROBANTE}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRolPagos" (click)="exportarRolPagos()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" *ngIf="objetoRolPagoDesdeFuera" class="btn btn-sm btn-default mr-1" (click)="regresar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirRolPagos" (click)="imprimirRolPagos()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>{{constantes.LABEL_IMPRIMIR}}\r\n                <span class="d-none d-md-inline"> </span>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirContableLote()">{{constantes.LABEL_IMPRIMIR_CONTABLE}}</a>\r\n                <a class="dropdown-item" (click)="imprimirComprobanteLote()">{{constantes.LABEL_IMPRIMIR_COMPROBANTE}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRolPagos" (click)="exportarRolPagos()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n            <button type="button" *ngIf="objetoRolPagoDesdeFuera" class="btn btn-sm btn-default mr-1" (click)="regresar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i> {{constantes.LABEL_REGRESAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoRolPago" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="rolPagoSeleccionado = $event.node.data" (cellFocused)="filaFocused($event)"\r\n          (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimensionarColumnas()" (gridSizeChanged)="redimensionarColumnas()"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()"\r\n          [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ipJP:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n        <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEstadoResultadoIntComp=\'ngForm\' name="frmEstadoResultadoIntComp" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>&nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="tipo" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_PERIODO}}</strong>&nbsp;\r\n              <a (click)="listarPeriodos()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="periodo" required [(ngModel)]="periodoSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos">{{periodo.utiDescripcion}} </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.utiDesde:\'\'}}</label>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.utiHasta:\'\'}}</label>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_MAXIMO_PAGO}}</b>\r\n            </label>\r\n            <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.utiFechaMaximaPago:\'\'}}</label>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarUtilidades" class="btn btn-sm btn-primary" (click)="buscarUtilidades(frmEstadoResultadoIntComp)">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO CONTABILIDAD ESTADO RESULTADO INTEGRAL COMPARATIVO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarUtilidades" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_LISTADO_UTILIDADES_PRECALCULO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirUtilidades" (click)="imprimirUtilidades()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarUtilidades" (click)="exportarUtilidades()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirUtilidades" (click)="imprimirUtilidades()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarUtilidades" (click)="exportarUtilidades()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},jFMP:function(e,t){e.exports=""},jSad:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmConsumo=\'ngForm\' name="frmConsumo" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaDesde" class="mousetrap" name="fechaDesde" [(ngModel)]="fechaDesde" [appMaxDate]="fechaHasta"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [maxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listadoConsolidadoBonos(frmConsumo)"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--listado--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="listaResultado.length>0">\r\n    <div class="card m-0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TALENTO_HUMANO_CONSOLIDADO_BONOS_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (rowSelected)="filaSeleccionada = $event.node.data"\r\n          (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},jtZF:function(e,t){e.exports=""},k4JG:function(e,t){e.exports='<div class="modal-primary" *ngIf="parametrosBusqueda">\r\n  <div class="card m-0" *ngIf="listaConsolidadoBonos.length>0">\r\n    <div class="modal-header p-2" *ngIf="isModal">\r\n      <h4 class="modal-title">{{constantes.RRHH_SALDOS_CONSOLIDADOS_BONOS_LISTADO}}</h4>\r\n      <button type="button" class="close" style="color: white;" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class="card-header p-1" *ngIf="!isModal">\r\n      <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="cambiarActivar()" type="button"\r\n        title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <b> {{constantes.RRHH_SALDOS_CONSOLIDADOS_BONOS_LISTADO}}</b>\r\n      <div class="card-header-actions">\r\n        <div class="btn-group">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-default mr-1" id="btnCancelar" (click)="regresar()" title="{{constantes.ATAJO_CANCELAR}}"\r\n            *ngIf="parametrosBusqueda.accion === constantes.ACCION_CONSULTAR">\r\n            <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0">\r\n      <div class="row">\r\n        <div class="col-sm-5 col-md-6">\r\n          <div class="input-group p-1">\r\n            <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n              size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n              size="100">\r\n            <div class="input-group-append">\r\n              <span class="input-group-text">\r\n                <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-7 col-md-6">\r\n          <div class="float-right pr-1">\r\n            <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n              maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n        [rowData]="listaConsolidadoBonos" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n        [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n        [frameworkComponents]="frameworkComponents" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n        (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)">\r\n      </ag-grid-angular>\r\n    </div>\r\n    <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ksXY:function(e,t){e.exports='<div class="modal-primary" *ngIf="parametrosBusqueda" [hidden]="mostrarAccionesContabilidad">\r\n  <div class="card m-0" *ngIf="listaDetallePrestamos.length>0">\r\n    <div class="modal-header p-2" *ngIf="isModal">\r\n      <h4 class="modal-title">{{constantes.RRHH_DETALLE_PRESTAMOS_LISTADO}}</h4>\r\n      <button type="button" class="close" style="color: white;" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class="card-header p-1" *ngIf="!isModal">\r\n      <button id="btnActivarPrestamo" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="cambiarActivar()"\r\n        type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <b> {{constantes.RRHH_DETALLE_PRESTAMOS_LISTADO}}</b>\r\n      <div class="card-header-actions">\r\n        <div class="btn-group">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirPrestamo" (click)="imprimir()"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarPrestamo" (click)="exportar()"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-default mr-1" id="btnCancelar" (click)="regresar()" title="{{constantes.ATAJO_CANCELAR}}"\r\n            *ngIf="parametrosBusqueda.accion === constantes.ACCION_CONSULTAR">\r\n            <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0">\r\n      <div class="row">\r\n        <div class="col-sm-5 col-md-6">\r\n          <div class="input-group p-1">\r\n            <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n              size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n              size="100">\r\n            <div class="input-group-append">\r\n              <span class="input-group-text">\r\n                <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-7 col-md-6">\r\n          <div class="float-right pr-1">\r\n            <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n              maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n        [rowData]="listaDetallePrestamos" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n        [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n        (rowSelected)="objetoSeleccionado = $event.node.data" [frameworkComponents]="frameworkComponents"\r\n        [pinnedBottomRowData]="pinnedBottomRowData" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n        (contextmenu)="$event.preventDefault()" [suppressRowClickSelection]="true" (filterChanged)="actualizarFilas()"\r\n        (cellFocused)="filaFocused($event)" (cellDoubleClicked)="isModal ? filaSeleccionar() : consultarAnticipo()">\r\n      </ag-grid-angular>\r\n    </div>\r\n    <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n<div *ngIf="mostrarAccionesContabilidad">\r\n  <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n    (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"n8/K":function(e,t){e.exports='<div class="row" *ngIf="!mostrarFormularioAnticipo && !mostrarFormularioPrestamo">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frm="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select  class="form-control input-sm" name="cboEmpresa" [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarContabilidaAcciones || objetoSaldoIndividualAnticipoPrestamoDesdeFuera"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input id="empleado" name="empleado" class="form-control input-sm text-uppercase mousetrap" [(ngModel)]="codigoEmpleado"\r\n              [disabled]="objetoSaldoIndividualAnticipoPrestamoDesdeFuera" *ngIf="objetoSaldoIndividualAnticipoPrestamoDesdeFuera"\r\n              [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null">\r\n\r\n            <input *ngIf="!objetoSaldoIndividualAnticipoPrestamoDesdeFuera" [appFocus]="true" class="form-control input-sm text-uppercase mousetrap"\r\n              name="empleado" maxlength="20" placeholder="{{constantes.TAG_OBLIGATORIO}}" id="empleado" (keydown)="buscarEmpleado($event)"\r\n              (blur)="validarEmpleado()" [disabled]="mostrarContabilidaAcciones" [(ngModel)]="empleado.rhEmpleadoPK.empId"\r\n              [ngbTooltip]="empleado.empNombres ? empleado.empNombres : null" required>\r\n            <span *ngIf="!mostrarContabilidaAcciones && !objetoSaldoIndividualAnticipoPrestamoDesdeFuera" class="fa fa-question-circle form-control-feedback"\r\n              placement="left" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}" triggers="mouseenter:mouseleave"\r\n              container="body"></span>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" id="fechaDesde" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();"\r\n              [disabled]="mostrarContabilidaAcciones" [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();"\r\n              [disabled]="mostrarContabilidaAcciones" [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [required]="true"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarSaldoIndividualAnticiposPrestamos" class="btn btn-sm btn-primary mr-1"\r\n            (click)="buscarSaldoIndividualAnticiposPrestamos(frm)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} " *ngIf="!mostrarContabilidaAcciones ">\r\n    <div class="card m-0" *ngIf="listaResultadoSaldoIndAntPres?.length> 1">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarSaldoIndividualAnticiposPrestamos" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_SALDO_INDIVIDUAL_ANTICIPOS_PRESTAMOS_LISTADO}} </strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"\r\n                aria-expanded="false"> <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="consultarSaldoIndividualAnticipos()">{{constantes.RRHH_SALDO_INDIVIDUAL_ANTICIPOS}}</a>\r\n                <a class="dropdown-item" (click)="consultarSaldoIndividualPrestamos()">{{constantes.RRHH_SALDO_INDIVIDUAL_PRESTAMOS}}</a>\r\n              </div>\r\n            </div>\r\n\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoIndividualAnticiposPrestamos"\r\n              (click)="imprimirSaldoIndividualAnticipoPrestamos()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoIndividualAnticiposPrestamos"\r\n              (click)="exportarSaldoIndividualAnticipoPrestamos()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n\r\n            <button type="button" *ngIf="objetoSaldoIndividualAnticipoPrestamoDesdeFuera" class="btn btn-sm btn-default mr-1"\r\n              (click)="regresar()" placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n\r\n          <div class="btn-group d-none d-lg-block">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"\r\n                aria-expanded="false">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>{{constantes.TAG_SALDO_INDIVIDUAL}}\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="consultarSaldoIndividualAnticipos()">{{constantes.RRHH_SALDO_INDIVIDUAL_ANTICIPOS}}</a>\r\n                <a class="dropdown-item" (click)="consultarSaldoIndividualPrestamos()">{{constantes.RRHH_SALDO_INDIVIDUAL_PRESTAMOS}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirSaldoIndividualAnticiposPrestamos"\r\n              (click)="imprimirSaldoIndividualAnticipoPrestamos()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarSaldoIndividualAnticiposPrestamos"\r\n              (click)="exportarSaldoIndividualAnticipoPrestamos()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n            <button type="button" *ngIf="objetoSaldoIndividualAnticipoPrestamoDesdeFuera" class="btn btn-sm btn-default mr-1"\r\n              (click)="regresar()" placement="top" ngbTooltip="{{constantes.LABEL_REGRESAR}}" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i> {{constantes.LABEL_REGRESAR}}\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoSaldoIndAntPres" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="saldoIndAntPresSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (cellFocused)="filaFocused($event)" (cellDoubleClicked)="consultarContable()" (gridColumnsChanged)="redimensionarColumnas()"\r\n          (gridSizeChanged)="redimensionarColumnas()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--CONTABLE--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>\r\n\r\n\x3c!--SALDO INDIVIDUAL ANTICIPOS--\x3e\r\n<div *ngIf="mostrarFormularioAnticipo && objetoSaldoIndividualAnticipo">\r\n  <app-saldo-individual-anticipos [objetoSaldoIndividualAnticipoDesdeFuera]="objetoSaldoIndividualAnticipo"\r\n    (cerrarSaldoIndividualAnticipo)="cerrarSaldoIndividualAnticipo()"></app-saldo-individual-anticipos>\r\n</div>\r\n\r\n\x3c!--SALDO INDIVIDUAL PRESTAMOS--\x3e\r\n<div *ngIf="mostrarFormularioPrestamo && objetoSaldoIndividualPrestamo">\r\n  <app-saldo-individual-prestamos [objetoSaldoIndividualPrestamoDesdeFuera]="objetoSaldoIndividualPrestamo"\r\n    (cerrarSaldoIndividualPrestamo)="cerrarSaldoIndividualPrestamo()"></app-saldo-individual-prestamos>\r\n</div>'},nDCR:function(e,t){e.exports='<div class="modal-primary" *ngIf="parametrosBusqueda" [hidden]="mostrarAccionesContabilidad">\r\n  <div class="card m-0" *ngIf="listaProvisiones.length>0">\r\n    <div class="modal-header p-2" *ngIf="isModal">\r\n      <h4 class="modal-title">{{constantes.RRHH_DETALLE_ANTICIPO_LISTADO}}</h4>\r\n      <button type="button" class="close" style="color: white;" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class="card-header p-1" *ngIf="!isModal">\r\n      <button id="btnActivarAnticipos" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="cambiarActivar()"\r\n        type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <strong> {{constantes.TALENTO_HUMANO_PROVISIONES_LISTADO}}</strong>\r\n      <div class="card-header-actions">\r\n        <div class="btn-group">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnGuardarProvision" (click)="guardarProvision()"\r\n            placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" container="body" title="{{constantes.ATAJO_GUARDAR}}"\r\n            [disabled]="disableGuardar">\r\n            <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-default mr-1" id="btnCancelar" (click)="regresar()" title="{{constantes.ATAJO_CANCELAR}}"\r\n            *ngIf="parametrosBusqueda.accion === constantes.ACCION_CONSULTAR">\r\n            <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0">\r\n      <div class="row">\r\n        <div class="col-sm-5 col-md-6">\r\n          <div class="input-group p-1">\r\n            <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n              size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n              size="100">\r\n            <div class="input-group-append">\r\n              <span class="input-group-text">\r\n                <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-7 col-md-6">\r\n          <div class="float-right pr-1">\r\n            <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n              maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n        [rowData]="listaProvisiones" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n        [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n        [frameworkComponents]="frameworkComponents" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n        (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n        (contextmenu)="$event.preventDefault()">\r\n      </ag-grid-angular>\r\n    </div>\r\n    <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n<div *ngIf="mostrarAccionesContabilidad">\r\n  <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n    (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivarContable($event)"></app-contable-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"nh+M":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmCategoria=\'ngForm\' name="frmCategoria" class="card m-0 mb-2">\r\n      <fieldset [disabled]="vistaFormulario">\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--Empresa--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group">\r\n              <button type="button" id="btnBuscarCategoria" class="btn btn-sm btn-primary" (click)="!vistaFormulario ? buscarCategorias() : null"\r\n                title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n            </div>&nbsp;\r\n            <button type="button" id="btnNuevaCategoria" class="btn btn-sm btn-primary" (click)="!vistaFormulario ? nuevaCategoria() : null"\r\n              [disabled]="!frmCategoria.valid" title="{{constantes.ATAJO_NUEVO}}">\r\n              <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaFormulario">\r\n      <app-categoria-formulario [accion]="accion" [empresaSeleccionada]="empresaSeleccionada" [categoria]="objetoSeleccionado"\r\n        (enviarAccion)="ejecutarAccion($event)" [tiposContables]="tiposContables"></app-categoria-formulario>\r\n    </div>\r\n    <div class="card mb-0" [hidden]="vistaFormulario" *ngIf="listadoCategorias?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <b> {{constantes.RRHH_LISTADO_CATEGORIA}}</b>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirCategorias" (click)="imprimirCategorias()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarCategor\xedas" (click)="exportarCategorias()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnimprimirCategorias" (click)="imprimirCategorias()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnexportarCategorias" (click)="exportarCategorias()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listadoCategorias" [columnDefs]="columnDefsSelected" [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [context]="context" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="objetoSeleccionado = $event.node.data" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="objetoSeleccionado = $event.node.data;consultarCategoria()">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"o/K1":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmNumeraciones=\'ngForm\' name="frmNumeraciones" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="limpiarFormulario()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnNuevo" class="btn btn-sm btn-primary" (click)="abrirFormularioPrestamo()"\r\n            [disabled]="vistaFormulario">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_NUEVO}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--Formulario prestamo--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="vistaFormulario">\r\n    <app-prestamo-formulario [parametrosFormulario]="parametrosFormulario" (enviarAccion)="ejecutarAccion($event)"></app-prestamo-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},p3qK:function(e,t){e.exports='<div class="row" *ngIf="showIndex">\r\n    <div class="col-lg-5 col-md-4 pt-5">\r\n        <h1 class="text-center">Lo m\xe1s usado:</h1>\r\n        <div class="form-group form-group-sm text-center" *ngFor="let acceso of listaAccesoRapido">\r\n            <a routerLink="{{acceso.url}}" *ngIf="acceso.mostrar">\r\n                <button type="button" class="btn btn-primary btn-ancho-250"> {{acceso.item}}</button>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-7 col-md-8">\r\n        <div class="text-center">\r\n            <img src="assets/images/talentoHumano.png" class="img-thumbnail">\r\n        </div>\r\n    </div>\r\n</div>\r\n<router-outlet></router-outlet>'},pYPZ:function(e,t){e.exports='<div class="row">\r\n  \x3c!--Filtro--\x3e\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5" *ngIf="!isModal">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEmpresa=\'ngForm\' name="frmEmpresa">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" title="{{constantes.ATAJO_BUSCAR}}"\r\n              [disabled]="accion" (click)="buscarXiiiSueldo(false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              [disabled]="accion">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="buscarXiiiSueldo(true)"> {{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnNuevo" title="{{constantes.ATAJO_NUEVO}}"\r\n            [disabled]="accion" (click)="operacionesMotivoXiiiSueldo(constantes.ACCION_CREAR)">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_NUEVO}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar || isModal}">\r\n    \x3c!--formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardar" type="button" (click)="insertarMotivoXiiiSueldo(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardar" type="button" (click)="modificarMotivoXiiiSueldo(frmMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button (click)="cancelar()" id="btnCancelar" type="button" class="btn btn-sm btn-default mr-1" [disabled]="cargando"\r\n              *ngIf="accion !== constantes.ACCION_CONSULTAR" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n            <button type="button" id="btnCancelar" class="btn btn-sm btn-default mr-1" title="{{constantes.ATAJO_CANCELAR}}"\r\n              *ngIf="accion===constantes.ACCION_CONSULTAR" (click)="cancelar()">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_REGRESAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmMotivo="ngForm" name="frmMotivo" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_DETALLE}}</b>\r\n                </label>\r\n                <input class="form-control form-control-sm mousetrap text-uppercase" name="detalle" maxlength="150"\r\n                  type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="motivoXiiiSuelkdSeleccionado.rhXiiiSueldoMotivoPK.motDetalle"\r\n                  appUppercase id="detalle" required [disabled]="accion!==constantes.ACCION_CREAR" [appFocus]="accion === constantes.ACCION_CREAR">\r\n              </div>\r\n              <div class="form-group form-group-sm has-feedback col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_TIPO_CONTABLE}}</strong>\r\n                </label>\r\n                <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoContableSeleccionado"\r\n                  [appFocus]="accion === constantes.ACCION_EDITAR" required [disabled]="accion===constantes.ACCION_CONSULTAR">\r\n                  <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                  <option [ngValue]="tipo" *ngFor="let tipo of listaTipoContable"> {{tipo?.tipDetalle}}\r\n                    ({{tipo?.tipCodigo}})</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0 && !vistaFormulario">\r\n      <div class="modal-header p-2" *ngIf="isModal">\r\n        <h4 class="modal-title">{{constantes.INVENTARIO_MOTIVO_XIII_SUELDO}}</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n          <span aria-hidden="true">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class="card-header p-1" *ngIf="!isModal">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.INVENTARIO_MOTIVO_XIII_SUELDO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--listado de xiii sueldo--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridSizeChanged)="redimencionarColumnas()" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="motivoXiiiSuelkdSeleccionado = $event.node.data" (cellContextMenu)="!this.isModal?mostrarContextMenu($event.data, $event.event):null"\r\n          (contextmenu)="!this.isModal?$event.preventDefault():null" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="operacionesMotivoXiiiSueldo(constantes.ACCION_CONSULTAR)">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n        \x3c!--end listado de xiii sueldo--\x3e\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},pxMN:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <fieldset [disabled]="mostrarAccionesContabilidad">\r\n          <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_EMPRESA}}</b>\r\n              </label>\r\n              <select [appFocus]="true" class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n                (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                  ({{empresa.empCodigo}})\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_SECTOR}}</strong>&nbsp;\r\n                <a (click)="listarSectores()" *ngIf="!mostrarAccionesContabilidad">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <p-dropdown [options]="listaSectores" name="tipo" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n                [disabled]="mostrarAccionesContabilidad">\r\n                <ng-template let-item pTemplate="selectedItem">\r\n                  {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}})\r\n                </ng-template>\r\n                <ng-template let-fs pTemplate="item">\r\n                  <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <strong>{{constantes.TAG_PERIODO}}</strong>&nbsp;\r\n                <a (click)="listarPeriodos()" *ngIf="!mostrarAccionesContabilidad">\r\n                  <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}"\r\n                    container="body"></span>\r\n                </a>\r\n              </label>\r\n              <select class="form-control form-control-sm" name="periodo" required [(ngModel)]="periodoSeleccionado"\r\n                (ngModelChange)="limpiarResultado()" required>\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos">{{periodo.xiiiDescripcion}} </option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n              </label>\r\n              <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.xiiiDesde:\'\'}}</label>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n              </label>\r\n              <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.xiiiHasta:\'\'}}</label>\r\n            </div>\r\n\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_FECHA_MAXIMO_PAGO}}</b>\r\n              </label>\r\n              <label class="form-control form-control-sm text-uppercase label-input">{{periodoSeleccionado?periodoSeleccionado.xiiiFechaMaximaPago:\'\'}}</label>\r\n            </div>\r\n\r\n          </form>\r\n        </fieldset>\r\n\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarAccionesContabilidad">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarXiiiSueldo" class="btn btn-sm btn-primary" (click)="buscarXiiiSueldo(frm)">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO CONTABILIDAD ESTADO RESULTADO INTEGRAL COMPARATIVO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0 && !mostrarAccionesContabilidad">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarXiiiSueldo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_XIII_SUELDO_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirXiiiSueldo" (click)="imprimirXiiiSueldo()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> </span>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirContableLote()">{{constantes.LABEL_IMPRIMIR_CONTABLE}}</a>\r\n                <a class="dropdown-item" (click)="imprimirComprobanteLote()">{{constantes.LABEL_IMPRIMIR_COMPROBANTE}}</a>\r\n              </div>\r\n            </div>\r\n\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXiiiSueldo" (click)="exportarXiiiSueldo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirXiiiSueldo" (click)="imprimirXiiiSueldo()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirContableLote()">{{constantes.LABEL_IMPRIMIR_CONTABLE}}</a>\r\n                <a class="dropdown-item" (click)="imprimirComprobanteLote()">{{constantes.LABEL_IMPRIMIR_COMPROBANTE}}</a>\r\n              </div>\r\n            </div>\r\n\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXiiiSueldo" (click)="exportarXiiiSueldo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (rowSelected)="xiiiSueldoSeleccionado = $event.node.data" [frameworkComponents]="frameworkComponents"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimensionarColumnas()"\r\n          (gridSizeChanged)="redimensionarColumnas()" (cellFocused)="filaFocused($event)" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (cellDoubleClicked)="verContable()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf="mostrarAccionesContabilidad">\r\n      <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n        (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},qhqP:function(e,t){e.exports=""},qmJD:function(e,t){e.exports=""},t89o:function(e,t){e.exports=""},tq2N:function(e,t){e.exports='<div class="modal-primary" *ngIf="parametrosBusqueda" [hidden]="accionVista">\r\n  <div class="card m-0" *ngIf="listaConsolidadoAnticiposPrestamos.length>0">\r\n    <div class="modal-header p-2" *ngIf="isModal">\r\n      <h4 class="modal-title">{{constantes.RRHH_CONSOLIDADO_ANTICIPOS_PRESTAMOS_LISTADO}}</h4>\r\n      <button type="button" class="close" style="color: white;" aria-label="Close" (click)="activeModal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class="card-header p-1" *ngIf="!isModal">\r\n      <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="cambiarActivar()" type="button"\r\n        title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <b> {{constantes.RRHH_CONSOLIDADO_ANTICIPOS_PRESTAMOS_LISTADO}}</b>\r\n      <div class="card-header-actions">\r\n        <div class="btn-group">\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimir" (click)="imprimir()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n            <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n          </button>\r\n          <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportar" (click)="exportar()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n            <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0">\r\n      <div class="row">\r\n        <div class="col-sm-5 col-md-6">\r\n          <div class="input-group p-1">\r\n            <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n              size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n              size="100">\r\n            <div class="input-group-append">\r\n              <span class="input-group-text">\r\n                <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-sm-7 col-md-6">\r\n          <div class="float-right pr-1">\r\n            <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n              maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n        [rowData]="listaConsolidadoAnticiposPrestamos" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n        (gridSizeChanged)="redimensionarColumnas()" [rowSelection]="rowSelection" [enableColResize]="true" [context]="context"\r\n        (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" [frameworkComponents]="frameworkComponents"\r\n        (cellContextMenu)="!this.isModal?mostrarContextMenu($event.data, $event.event):null" (filterChanged)="actualizarFilas()"\r\n        (contextmenu)="!this.isModal?$event.preventDefault():null" (cellFocused)="filaFocused($event)"\r\n        [pinnedBottomRowData]="pinnedBottomRowData">\r\n      </ag-grid-angular>\r\n    </div>\r\n    <p-contextMenu #menuOpciones appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n\x3c!--Listado de detalle anticipos--\x3e\r\n<app-detalle-anticipos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n  *ngIf="accionVista===constantes.TAG_ANTICIPOS" (enviarActivar)="cambiarActivarVista($event)" (enviarAccion)="ejecutarAccion($event)"></app-detalle-anticipos-listado>\r\n<app-detalle-prestamos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n  *ngIf="accionVista===constantes.TAG_PRESTAMOS" (enviarActivar)="cambiarActivarVista($event)" (enviarAccion)="ejecutarAccion($event)"></app-detalle-prestamos-listado>\r\n<app-detalle-anticipos-prestamos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n  *ngIf="accionVista===constantes.TAG_AMBOS" (enviarActivar)="cambiarActivarVista($event)" (enviarAccion)="ejecutarAccion($event)"></app-detalle-anticipos-prestamos-listado>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},u3MW:function(e,t){e.exports=""},u980:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="vistaFormulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" id="btnBuscarUtilidadMotivo" class="btn btn-sm btn-primary" (click)="buscarUtilidadMotivo(true)"\r\n              title="{{constantes.ATAJO_BUSCAR}}" [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              [disabled]="vistaFormulario">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="buscarUtilidadMotivo(false)"> {{constantes.TAG_INCLUIR_INACTIVOS}}</a>\r\n            </div>\r\n          </div>\r\n          <button type="button" id="btnNuevoUtilidadMotivo" class="btn btn-sm btn-primary mr-1" (click)="operacionesUtilidadMotivo(constantes.ACCION_CREAR)"\r\n            title="{{constantes.ATAJO_NUEVO}}" [disabled]="vistaFormulario">\r\n            <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    \x3c!--Formulario--\x3e\r\n    <fieldset *ngIf="vistaFormulario">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivarUtilidadMotivo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <b>{{tituloForm}}</b>\r\n          <div class="card-header-actions">\r\n            <button *ngIf="accion === constantes.ACCION_CREAR" id="btnGuardarUtilidadMotivo" type="button" (click)="guardarUtilidadMotivo(frmUtilidadMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion === constantes.ACCION_EDITAR" id="btnGuardarUtilidadMotivo" type="button" (click)="actualizarUtilidadMotivo(frmUtilidadMotivo)"\r\n              class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button (click)="cancelarAccion()" id="btnCancelarUtilidadMotivo" type="button" class="btn btn-sm btn-default mr-1"\r\n              [disabled]="cargando" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmUtilidadMotivo="ngForm" name="frmUtilidadMotivo" autocomplete="off">\r\n            <div class="row">\r\n              <div class="form-group form-group-sm col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_DETALLE}}</b>\r\n                </label>\r\n                <input [appFocus]="accion === constantes.ACCION_CREAR" class="form-control form-control-sm mousetrap text-uppercase"\r\n                  name="detalle" maxlength="150" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="rhUtilidadMotivo.rhUtilidadMotivoPK.motDetalle"\r\n                  appUppercase id="detalle" [disabled]="accion === constantes.ACCION_EDITAR" required>\r\n              </div>\r\n              <div class="form-group form-group-sm has-feedback col-lg-6 col-md-6 col-sm-12">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_TIPO_COMPROBANTES}}</strong>\r\n                  &nbsp;\r\n                  <a (click)="listarTipos()">\r\n                    <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_TIPOS_COMPROBANTES}}"\r\n                      container="body"></span>\r\n                  </a>\r\n                </label>\r\n                <select [appFocus]="accion === constantes.ACCION_EDITAR" class="form-control input-sm mousetrap" name="tipo"\r\n                  [(ngModel)]="tipoSeleccionado" required>\r\n                  <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                  <option [ngValue]="tipo" *ngFor="let tipo of listaTipos"> {{tipo?.tipDetalle}} ({{tipo?.tipCodigo}} )</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n    \x3c!--Listado--\x3e\r\n    <div class="card m-0" [hidden]="vistaFormulario" *ngIf="listaResultadoUtilidadMotivo?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarUtilidadMotivo" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.RRHH_ARCHIVO_MOTIVO_UTILIDAD_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirUtilidadMotivo" (click)="imprimirRhUtilidadMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarUtilidadMotivo" (click)="exportarRhUtilidadMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirUtilidadMotivo" (click)="imprimirRhUtilidadMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarUtilidadMotivo" (click)="exportarRhUtilidadMotivo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}"\r\n              [disabled]="vistaFormulario">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" class="form-control form-control-sm input-filter" size="100" style="font-family: Arial, FontAwesome;"\r\n                placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100" (input)="gridApi?gridApi.setQuickFilter($event.target.value):null">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text"><i class="{{constantes.ICON_BUSCAR}}"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoUtilidadMotivo" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (contextmenu)="$event.preventDefault()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (rowSelected)="utilidadMotivoSeleccionado = $event.node.data" (cellFocused)="filaFocused($event)"\r\n          (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo=\'body\'></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},v6A1:function(e,t){e.exports=""},v6oB:function(e,t){e.exports=""},vq8R:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmConAntPres=\'ngForm\' name="frmConAntPres" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="estadoformulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n              &nbsp;\r\n              <a (click)="!estadoformulario ? listarCategorias() : null" *ngIf="!estadoformulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaCategorias" name="bodega" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              [disabled]="estadoformulario" (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}"\r\n              optionLabel="catNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input [appFocus]="true" type="text" name="trabajador" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n              [(ngModel)]="trabajador.rhEmpleadoPK.empId" class="form-control form-control-sm text-uppercase mousetrap"\r\n              (keydown)="abrirModalTrabajadores($event)" (blur)="validarEmpleado()" [ngbTooltip]="trabajador.empNombres ? trabajador.empNombres : null"\r\n              appUppercase [disabled]="estadoformulario">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}"\r\n              triggers="mouseenter:mouseleave" container="body" *ngIf="!estadoformulario"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaDesde" class="mousetrap" name="fechaDesde" [(ngModel)]="fechaDesde" [appMaxDate]="fechaActual"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [disabled]="estadoformulario" [maxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta" [disabled]="estadoformulario"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarDetallePrestamos(frmConAntPres)"\r\n                [disabled]="estadoformulario" title="{{constantes.ATAJO_BUSCAR}}">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--Listado de detalle anticipos--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-consolidado-anticipos-prestamos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (estadoformulario)="estadoformulario=$event" (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)"></app-consolidado-anticipos-prestamos-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},wFpW:function(e,t){e.exports=""},xTZX:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <fieldset class="card m-0 mb-2" [disabled]="mostrarAccionesContabilidad">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n        <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmBusqueda="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control input-sm mousetrap" name="cboEmpresa" [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarAccionesContabilidad" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()" *ngIf="!mostrarAccionesContabilidad">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" [disabled]="mostrarAccionesContabilidad" placeholder="{{constantes.TAG_TODOS}}"\r\n              optionLabel="secNombre" optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}} )\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}} )</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input [appFocus]="true" class="form-control input-sm text-uppercase mousetrap" name="empleado" maxlength="20"\r\n              placeholder="{{constantes.TAG_OPCIONAL}}" id="empleado" (keydown)="buscarEmpleado($event)" (blur)="validarEmpleado()"\r\n              [disabled]="mostrarAccionesContabilidad" [(ngModel)]="empleado.rhEmpleadoPK.empId">\r\n            <span *ngIf="!mostrarAccionesContabilidad" class="fa fa-question-circle form-control-feedback" placement="left"\r\n              ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}" triggers="mouseenter:mouseleave" container="body"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DETALLE_EMPLEADO}}</b>\r\n            </label>\r\n            <input class="form-control form-control-sm mousetrap text-uppercase" #conEmpleadoDetalle name="txtEmpleadoDetalle"\r\n              type="text" placeholder="{{constantes.TAG_SIN_DETALLE}}" [(ngModel)]="empleado.empNombres" disabled>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" id="fechaDesde" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [disabled]="mostrarAccionesContabilidad" [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [disabled]="mostrarAccionesContabilidad" [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarAccionesContabilidad">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary mr-1" (click)="listarVacaciones(frmBusqueda)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n        </div>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} " [hidden]="mostrarAccionesContabilidad">\r\n    <div class="card m-0" *ngIf="listadoResultadoVacaciones?.length> 0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarVacaciones" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{titulo}}\r\n          <span class="text-primary">{{ empleado? empNombre:\'\' }} {{ empleado?empApellidos:\'\' }}</span>\r\n        </strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirVacaciones" (click)="imprimirVacaciones()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVacaciones" (click)="exportarVacaciones()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirVacaciones" (click)="imprimirVacaciones()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVacaciones" (click)="exportarVacaciones()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listadoResultadoVacaciones" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="vacacionesSeleccionado = $event.node.data" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="vacacionesSeleccionado = $event.node.data; verContable()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarAccionesContabilidad">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},yU1X:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmProvisiones=\'ngForm\' name="frmProvisiones" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [appFocus]="true" class="form-control form-control-sm mousetrap" name="empresa" required\r\n              [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_CENTRO_PRODUCCION}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="sector" required [(ngModel)]="provisionesListadoTransTO.sector"\r\n              (ngModelChange)="limpiarResultado()" [disabled]="accion">\r\n              <option selected disabled value=null>{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="sector.secCodigo" *ngFor="let sector of listaSectores">\r\n                {{sector.secNombre}} ({{sector.secCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_PERIODO}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="periodo" required [(ngModel)]="periodoSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" [disabled]="accion">\r\n              <option selected disabled value=null>{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos">\r\n                {{periodo.sisPeriodoPK.perCodigo}} | {{periodo.perDetalle}}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_ESTADO}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="estado" required [(ngModel)]="provisionesListadoTransTO.estado"\r\n              (ngModelChange)="limpiarResultado()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="estado" *ngFor="let estado of listaEstados">{{estado}}</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarProvisiones(frmProvisiones)"\r\n            [disabled]="accion">\r\n            <i class="{{constantes.ICON_GENERAR}}" aria-hidden="true"></i>\r\n            <span class="d-none d-md-inline"> {{constantes.LABEL_GENERAR}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--Listado de provisiones--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-provisiones-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)" (estadoformulario)="estadoformulario=$event"></app-provisiones-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"z++M":function(e,t){e.exports=""},zD90:function(e,t){e.exports=""},zTs9:function(e,t){e.exports='<div *ngIf="descuentos && descuentos.length==0" class="text-center">\r\n  <button class="btn btn-sm btn-primary" (click)="nuevo()">{{constantes.ACCION_NUEVO}}</button>\r\n</div>\r\n<div *ngIf="descuentos && descuentos.length>0">\r\n  <ag-grid-angular #agGrid id="agGrid" style="width: 100%;" class="ag-theme-balham" [rowData]="descuentos" [columnDefs]="columnDefs"\r\n    [enableSorting]="true" (gridSizeChanged)="redimensionarColumnas()" [rowSelection]="rowSelection" [gridAutoHeight]="true"\r\n    (contextmenu)="$event.preventDefault()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n    [enableColResize]="true" (cellFocused)="filaFocused($event)" [context]="context" (gridReady)="onGridReady($event)"\r\n    [suppressDragLeaveHidesColumns]="true" [stopEditingWhenGridLosesFocus]="true">\r\n  </ag-grid-angular>\r\n</div>\r\n<p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>'},zfDg:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <form #frmPrestamo=\'ngForm\' name="frmPrestamo" class="card m-0 mb-2" autocomplete="off">\r\n      <fieldset>\r\n        <div class="card-header">\r\n          <span>\r\n            <i class="{{constantes.ICON_FILTRAR}}"></i>\r\n            <b> {{constantes.TITULO_FILTROS}}</b>\r\n          </span>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          \x3c!--FORMULARIO EMPRESA--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="estadoformulario">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_CATEGORIA}}</strong>\r\n              &nbsp;\r\n              <a (click)="!estadoformulario ? listarCategorias() : null" *ngIf="!estadoformulario">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_CATEGORIAS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaCategorias" name="categorias" [showClear]="true" [(ngModel)]="categoriaSeleccionada"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="catNombre"\r\n              [disabled]="estadoformulario">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{categoriaSeleccionada?.catNombre}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.catNombre}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_TRABAJADOR}}</b>\r\n            </label>\r\n            <input [appFocus]="true" type="text" name="trabajador" placeholder="{{constantes.TAG_OPCIONAL}}"\r\n              [(ngModel)]="trabajador.rhEmpleadoPK.empId" class="form-control form-control-sm text-uppercase mousetrap"\r\n              (keydown)="abrirModalTrabajadores($event)" (blur)="validarEmpleado()" [ngbTooltip]="trabajador.empNombres ? trabajador.empNombres : null"\r\n              appUppercase [disabled]="estadoformulario">\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_EMPLEADO}}"\r\n              triggers="mouseenter:mouseleave" container="body" *ngIf="!estadoformulario"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaDesde" class="mousetrap" name="fechaDesde" [(ngModel)]="fechaDesde" [appMaxDate]="fechaHasta"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [maxDate]="fechaHasta" [disabled]="estadoformulario"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fechaHasta" class="mousetrap" name="fechaHasta" [(ngModel)]="fechaHasta" [disabled]="estadoformulario"\r\n              (ngModelChange)="limpiarResultado()" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer text-muted">\r\n          <div class="text-right">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarDetallePrestamos(frmPrestamo)"\r\n                title="{{constantes.ATAJO_BUSCAR}}" [disabled]="estadoformulario">\r\n                <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_BUSCAR}}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  \x3c!--Listado de detalle anticipos--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="mostrarListado">\r\n    <app-detalle-prestamos-listado [parametrosBusqueda]="parametrosListado" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarActivar)="activar=$event" (enviarAccion)="ejecutarAccion($event)" (estadoformulario)="estadoformulario=$event"></app-detalle-prestamos-listado>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'}}]);