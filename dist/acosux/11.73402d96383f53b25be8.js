(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+7rl":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmSustentosTributarios=\'ngForm\' name="frmSustentosTributarios">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listarSustentoTributario(frmSustentosTributarios)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO CONCEPTO SUSTENTOS TRIBUTARIOS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarSustentosT" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_SUSTENTOS_TRIBUTARIOS}}</strong>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},"+Uv5":function(e,t){e.exports=""},"1fiz":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmListaDatosCrediciticios=\'ngForm\' name="frmListaDatosCrediciticios">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaRegistroDatosCrediticios(frmListaDatosCrediciticios)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarRegistroDatosCrediticios" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_TRANSACCIONES_REGISTRO_DATOS_CREDITICIOS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRegistroDatosCredicitios"\r\n              (click)="imprimirRegistroDatosCredicitios()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRegistroDatosCredicitios"\r\n              (click)="exportarRegistroDatosCrediticios()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRegistroDatosCredicitios"\r\n              (click)="imprimirRegistroDatosCredicitios()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRegistroDatosCredicitios"\r\n              (click)="exportarRegistroDatosCrediticios()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"4OIG":function(e,t){e.exports=""},"4Ud+":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmListaDevIVAVentas=\'ngForm\' name="frmListaDevIVAVentas">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDevolucionIVAVentas(frmListaDevIVAVentas)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TIPO TRANSACCION--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarListadoDevolucionIVAVentas" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_DEVOLUCION_IVA_VENTAS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirListadoDevolucionIVAVentas()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarReporteListadoDevolucionIVAVentas()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirListadoDevolucionIVAVentas()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarReporteListadoDevolucionIVAVentas()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [frameworkComponents]="frameworkComponents" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"7X2Z":function(e,t){e.exports=""},"8f8k":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetencionesRentaComprasTipD=\'ngForm\' name="frmRetencionesRentaComprasTipD">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="objetoContableEnviar">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"\r\n              [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual" [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeRetencionesTipoDocumento(frmRetencionesRentaComprasTipD)"\r\n              *ngIf="!objetoContableEnviar">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i>\r\n              {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="objetoContableEnviar">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnRetencionesIvaCompras" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_RENTA_COMPRAS_TIPO_SUSTENTO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          [frameworkComponents]="frameworkComponents" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"9JI8":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmTipoTransaccion=\'ngForm\' name="frmTipoTransaccion">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaTipoTransaccion(frmTipoTransaccion)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TIPO TRANSACCION--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarTipoTransaccion" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_TIPO_TRANSACCION}}</strong>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},"9roy":function(e,t,a){"use strict";a.r(t);var n=a("CcnG"),i=a("LlOB"),o=a("ZYCi"),r=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){var a=this;this.router=e,this.appSistemaService=t,this.showIndex=!1,this.router.events.subscribe(function(e){a.showIndex="/modulos/tributacion"===a.router.url})}return e.prototype.ngOnInit=function(){this.listaAccesoRapido=[{item:"Generar anexo transacciones ATS",url:"anexoTransaccionalXML",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","anexoTransaccionalXML")},{item:"Tal\xf3n resumen compras",url:"talonResumenCompras",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Consultas","talonResumenCompras")},{item:"Tal\xf3n resumen ventas",url:"talonResumenVentas",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Consultas","talonResumenVentas")},{item:"Autorizar retenci\xf3n electr\xf3nica",url:"retencionesPendientes",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","retencionesPendientes")},{item:"Autorizar venta electr\xf3nica",url:"ventasPendientesAutorizacion",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","ventasPendientesAutorizacion")},{item:"Listado de ventas electr\xf3nicas",url:"retencionesVentasListadoSimple",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Consultas","retencionesVentasListadoSimple")},{item:"Listado de retenciones electr\xf3nicas",url:"retencionesEmitidas",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Consultas","retencionesEmitidas")}]},e=r([Object(n.Component)({selector:"app-tributacion",template:a("zIU1")}),s("design:paramtypes",[o.Router,i.a])],e)}(),l=a("MHMZ"),d=a("DixL"),u=a("EMYR"),p=a("z5Y/"),m=a("SZbH"),h=a("nR5P"),f=a("mwBN"),v=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},C=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoSustentoTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoSustentoTO",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarAnexoSustento(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoSustento([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_CODIGO,field:"susCodigo",width:200,minWidth:200},{headerName:f.a.TAG_DESCRIPCION,field:"susDescripcion",width:400,minWidth:400},{headerName:f.a.TAG_COMPROBANTE,field:"susComprobante",width:200,minWidth:200}]},e=v([Object(n.Injectable)({providedIn:"root"}),C("design:paramtypes",[p.a,m.b,h.a])],e)}(),g=a("CEfs"),A=a("EnEm"),R=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},I=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function e(e,t,a,n,i){this.route=e,this.toastr=t,this.sustentoTributario=a,this.filasService=n,this.utilService=i,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.sustentosTributarios,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada()},e.prototype.listarSustentoTributario=function(e){this.filtrarRapido(),e&&e.valid?(this.cargando=!0,this.sustentoTributario.obtenerAnexoSustentoTO({empresa:f.a.KEY_EMPRESA_SELECT},this,f.a.KEY_EMPRESA_SELECT)):(this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.despuesDeListarAnexoSustento=function(e){this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.sustentoTributario.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},R([Object(n.HostListener)("window:resize",["$event"]),I("design:type",Function),I("design:paramtypes",[]),I("design:returntype",void 0)],e.prototype,"onResize",null),e=R([Object(n.Component)({selector:"app-sustentos-tributarios",template:a("+7rl"),styles:[a("4OIG")]}),I("design:paramtypes",[o.ActivatedRoute,m.b,b,g.a,h.a])],e)}(),O=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},T=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoTipoDocumentoTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoTipoComprobanteTO",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarAnexoTipoDocumento(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoTipoDocumento([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_CODIGO,field:"tcCodigo",width:200,minWidth:200},{headerName:f.a.TAG_DESCRIPCION,field:"tcDescripcion",width:400,minWidth:400},{headerName:f.a.TAG_TRANSACCION,field:"tcTransaccion",width:200,minWidth:200},{headerName:f.a.TAG_SUSTENTO,field:"tcSustento",width:200,minWidth:200},{headerName:f.a.TAG_ABREVIATURA,field:"tcAbreviatura",width:100,minWidth:100}]},e=O([Object(n.Injectable)({providedIn:"root"}),T("design:paramtypes",[p.a,m.b,h.a])],e)}(),_=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(){function e(e,t,a,n,i){this.route=e,this.toastr=t,this.tipoDocumento=a,this.filasService=n,this.utilService=i,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.tipoDocumento,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada()},e.prototype.listaTipoDocumento=function(e){this.filtrarRapido(),e&&e.valid?(this.cargando=!0,this.tipoDocumento.obtenerAnexoTipoDocumentoTO({empresa:f.a.KEY_EMPRESA_SELECT},this,f.a.KEY_EMPRESA_SELECT)):(this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.despuesDeListarAnexoTipoDocumento=function(e){this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.tipoDocumento.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},_([Object(n.HostListener)("window:resize",["$event"]),y("design:type",Function),y("design:paramtypes",[]),y("design:returntype",void 0)],e.prototype,"onResize",null),e=_([Object(n.Component)({selector:"app-tipo-documento",template:a("f/18"),styles:[a("+Uv5")]}),y("design:paramtypes",[o.ActivatedRoute,m.b,E,g.a,h.a])],e)}(),D=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},N=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoTipoIdentificacionTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getListaAnxTipoIdentificacionTO",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarAnexoTipoIdentificacion(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoTipoIdentificacion([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_CODIGO,field:"tiCodigo",width:200,minWidth:200},{headerName:f.a.TAG_DETALLE,field:"tiDetalle",width:400,minWidth:400}]},e=D([Object(n.Injectable)({providedIn:"root"}),N("design:paramtypes",[p.a,m.b,h.a])],e)}(),x=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},F=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},L=function(){function e(e,t,a,n,i){this.route=e,this.toastr=t,this.tipoIdentificacion=a,this.filasService=n,this.utilService=i,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.tipoIdentificacion,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada()},e.prototype.listaTipoIdentificacion=function(e){this.filtrarRapido(),e&&e.valid?(this.cargando=!0,this.tipoIdentificacion.obtenerAnexoTipoIdentificacionTO({empresa:f.a.KEY_EMPRESA_SELECT},this,f.a.KEY_EMPRESA_SELECT)):(this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.despuesDeListarAnexoTipoIdentificacion=function(e){this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.tipoIdentificacion.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},x([Object(n.HostListener)("window:resize",["$event"]),F("design:type",Function),F("design:paramtypes",[]),F("design:returntype",void 0)],e.prototype,"onResize",null),e=x([Object(n.Component)({selector:"app-tipo-identificacion",template:a("X5Gb"),styles:[a("Ds/n")]}),F("design:paramtypes",[o.ActivatedRoute,m.b,M,g.a,h.a])],e)}(),w=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},j=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},G=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoTipoTransaccionTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoTipoListaTransaccionTO",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarAnexoTipoTransaccion(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoTipoTransaccion([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_CODIGO,field:"ttCodigo",width:200,minWidth:200},{headerName:f.a.TAG_TRANSACCION,field:"ttTransaccion",width:400,minWidth:400},{headerName:f.a.TAG_ID,field:"ttId",width:200,minWidth:200}]},e=w([Object(n.Injectable)({providedIn:"root"}),j("design:paramtypes",[p.a,m.b,h.a])],e)}(),V=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},U=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},W=function(){function e(e,t,a,n,i){this.route=e,this.toastr=t,this.tipoTransaccion=a,this.filasService=n,this.utilService=i,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.tipoTransaccion,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada()},e.prototype.listaTipoTransaccion=function(e){this.filtrarRapido(),e&&e.valid?(this.cargando=!0,this.tipoTransaccion.obtenerAnexoTipoTransaccionTO({empresa:f.a.KEY_EMPRESA_SELECT},this,f.a.KEY_EMPRESA_SELECT)):(this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.despuesDeListarAnexoTipoTransaccion=function(e){this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.limpiarResultado()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.tipoTransaccion.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},V([Object(n.HostListener)("window:resize",["$event"]),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],e.prototype,"onResize",null),e=V([Object(n.Component)({selector:"app-tipo-transaccion",template:a("9JI8"),styles:[a("fBKf")]}),U("design:paramtypes",[o.ActivatedRoute,m.b,G,g.a,h.a])],e)}(),B=function(){function e(e){this.urlSecuencial=1,this.urlAmbienteProduccion="",this.urlAmbientePruebas="",this.usrCodigo=null,this.usrEmpresa=null,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.urlSecuencial=e.urlSecuencial?e.urlSecuencial:this.urlSecuencial,this.urlAmbienteProduccion=e.urlAmbienteProduccion?e.urlAmbienteProduccion:this.urlAmbienteProduccion,this.usrCodigo=e.usrCodigo?e.usrCodigo:this.usrCodigo,this.usrEmpresa=e.usrEmpresa?e.usrEmpresa:this.usrEmpresa},e}(),z=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},k=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Y=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoURLWebServices=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnxUrlWebServicesTO",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarAnexoURLWebServices(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoURLWebServices([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.accionAnexoURLWebServices=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/accionAnxUrlWebServicesTO",e,a).then(function(e){e&&e.extraInfo?t.despuesModificarAnexoURLWebServices(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesModificarAnexoURLWebServices([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.verificacionURL=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/verificacionURL",e,a).then(function(e){e&&e.extraInfo?t.despuesVerificarAnexoURLWebServices(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e=z([Object(n.Injectable)({providedIn:"root"}),k("design:paramtypes",[p.a,m.b,h.a])],e)}(),J=a("EF/R"),X=a("8fiX"),H=a("yccp"),K=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},$=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Z=function(){function e(e,t,a,i,o,r){this.route=e,this.toastr=t,this.urlWebServices=a,this.utilService=i,this.auth=o,this.atajoService=r,this.cargando=!1,this.enviarCancelar=new n.EventEmitter,this.urlWebService=new B,this.urlWebServiceCopia=new B,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.screamXS=!0,this.listaEmpresas=[],this.empresaSeleccionada=new X.a}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.urlWebServices,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.urlWebServices.obtenerAnexoURLWebServices({empresa:f.a.KEY_EMPRESA_SELECT},this,f.a.KEY_EMPRESA_SELECT),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_GUARDAR,function(){var e=document.getElementById("btnGuardarURLWebService");return e&&e.click(),!1}))},e.prototype.listaURLWebServices=function(e){e&&e.valid?(this.cargando=!0,this.urlWebServices.obtenerAnexoURLWebServices({empresa:f.a.KEY_EMPRESA_SELECT},this,f.a.KEY_EMPRESA_SELECT)):(this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},e.prototype.despuesDeListarAnexoURLWebServices=function(e){this.cargando=!1,this.urlWebService=e,this.urlWebServiceCopia=e},e.prototype.actualizarAnexoURLWebService=function(e){this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,t&&!e.invalid){this.urlWebService.usrCodigo=this.auth.getCodigoUser();var a={anxUrlWebServicesTO:this.urlWebService,accion:"M"};this.urlWebServices.accionAnexoURLWebServices(a,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.TOAST_ADVERTENCIA)},e.prototype.despuesModificarAnexoURLWebServices=function(){this.toastr.success(f.a.MSJ_SE_MODIFICO_URL,f.a.TOAST_CORRECTO),this.cargando=!1},e.prototype.verificarURL=function(e,t){this.cargando=!0;var a=this.utilService.establecerFormularioTocado(e);if(f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,a&&!e.invalid)if("Pro"===t){var n={urlVerificacion:this.urlWebService.urlAmbienteProduccion};this.urlWebServices.verificacionURL(n,this,f.a.KEY_EMPRESA_SELECT)}else{n={urlVerificacion:this.urlWebService.urlAmbientePruebas};this.urlWebServices.verificacionURL(n,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.TOAST_ADVERTENCIA),this.cargando=!1},e.prototype.despuesVerificarAnexoURLWebServices=function(){this.cargando=!1,this.toastr.success(f.a.MSJ_SE_VERIFICO_URL,f.a.TOAST_CORRECTO)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},K([Object(n.Output)(),$("design:type",n.EventEmitter)],e.prototype,"enviarCancelar",void 0),K([Object(n.HostListener)("window:resize",["$event"]),$("design:type",Function),$("design:paramtypes",[]),$("design:returntype",void 0)],e.prototype,"onResize",null),e=K([Object(n.Component)({selector:"app-url-web-services",template:a("UkmF"),styles:[a("mhEd")]}),$("design:paramtypes",[o.ActivatedRoute,m.b,Y,h.a,J.a,H.HotkeysService])],e)}(),q=a("Ip0R"),Q=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ee=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},te=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnxFunListadoDevolucionIva=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnxFunListadoDevolucionIvaTOs",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListadoDevolucionIVA([]),t.cargando=!1):t.despuesDeListarAnexoListadoDevolucionIVA(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListadoDevolucionIVA([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUST_T,field:"actSustentoTributario",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_SUSTENTO_TRIBUTARIO,text:f.a.TAG_SUST_T}},{headerName:f.a.TAG_FECHA,field:"actFecha",width:100,minWidth:100},{headerName:f.a.TAG_NOMBRE,field:"actProveedorNombre",width:200,minWidth:200,cellClass:function(e){return null===e.data.actProveedorIdTipo?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_TIPO_ID,field:"actProveedorIdTipo",width:70,minWidth:70,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_TIPO_IDENTIFICACION,text:f.a.TAG_TIPO_ID}},{headerName:f.a.TAG_NUMERO_ID,field:"actProveedorIdNumero",width:150,minWidth:150,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_NUMERO_IDENTIFICACION,text:f.a.TAG_NUMERO_ID}},{headerName:f.a.TAG_T_DOCUMENTO,field:"actDocumentoTipo",width:80,minWidth:80,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_TIPO_DOCUMENTO,text:f.a.TAG_T_DOCUMENTO}},{headerName:f.a.TAG_NUMERO_DOCUMENTO,field:"actDocumentoNumero",width:150,minWidth:150},{headerName:f.a.TAG_AUTORIZACION,field:"actAutorizacion",width:150,minWidth:150},{headerName:f.a.TAG_BASE_0,field:"actBase0",width:100,minWidth:100,valueFormatter:ae,cellClass:function(e){return null===e.data.actProveedorIdTipo?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_BASE_IMPONIBLE,field:"actBaseImponible",width:150,minWidth:150,valueFormatter:ae,cellClass:function(e){return null===e.data.actProveedorIdTipo?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_IVA,field:"actIva",width:100,minWidth:100,valueFormatter:ae,cellClass:function(e){return null===e.data.actProveedorIdTipo?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_TOTAL,field:"actTotal",width:100,minWidth:100,valueFormatter:ae,cellClass:function(e){return null===e.data.actProveedorIdTipo?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_CLAVE_ACCESO_RETENCION,field:"actClaveAccesoRetencion",width:400,minWidth:180},{headerName:f.a.TAG_NEC_SOP,field:"actNecesitaSoporte",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_NECESITA_SOPORTE,text:f.a.TAG_NEC_SOP}}]},e=Q([Object(n.Injectable)({providedIn:"root"}),ee("design:paramtypes",[p.a,m.b,h.a])],e)}();function ae(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var ne=a("wd/R"),ie=a("Ungd"),oe=a("gLZI"),re=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},se=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ce=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.listadoDevolucionIVACompras=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.listadoDevolucionIVAcompras,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarListadoDevolucionIVACompras");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirListadoDevolucionIVACompras");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarListadoDevolucionIVACompras");return e&&e.click(),!1}))},e.prototype.listaDevolucionIVACompras=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaInicio:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaFin:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.listadoDevolucionIVACompras.obtenerAnxFunListadoDevolucionIva(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListadoDevolucionIVA=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.imprimirListadoDevolucionIVACompras=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",anxFunListadoDevolucionIvaTOs:this.listaResultado,fechaInicio:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaFin:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteListadoDevolucionIva",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoDevolucionIvaCompras.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteListadoDevolucionIva=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",anxFunListadoDevolucionIvaTOs:this.listaResultado,fechaInicio:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaFin:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteListadoDevolucionIva",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoDevolucionIVACompras_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.listadoDevolucionIVACompras.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={},this.frameworkComponents={toolTip:oe.a}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},re([Object(n.HostListener)("window:resize",["$event"]),se("design:type",Function),se("design:paramtypes",[]),se("design:returntype",void 0)],e.prototype,"onResize",null),e=re([Object(n.Component)({selector:"app-listado-devolucion-iva-compras",template:a("u8iB"),styles:[a("YWOA")]}),se("design:paramtypes",[o.ActivatedRoute,m.b,te,g.a,h.a,i.a,ie.a,H.HotkeysService])],e)}(),le=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},de=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ue=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnxFunListadoDevolucionIvaVentas=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnxFunListadoDevolucionIvaVentasTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListadoDevolucionIVAVentas([]),t.cargando=!1):t.despuesDeListarAnexoListadoDevolucionIVAVentas(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListadoDevolucionIVAVentas([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_IDENTIFICACION,field:"venIdentificacion",width:100,minWidth:100},{headerName:f.a.TAG_NOMBRE,field:"venNombre",width:200,minWidth:200},{headerName:f.a.TAG_COMPROBANTE,field:"venComprobanteTipo",width:200,minWidth:200},{headerName:f.a.TAG_SERIE,field:"venComprobanteSerie",width:70,minWidth:70},{headerName:f.a.TAG_SECUENCIA,field:"venComprobanteSecuencia",width:100,minWidth:100},{headerName:f.a.TAG_AUT_FISICA,field:"venAutorizacionFisica",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_AUTORIZACION_FISICA,text:f.a.TAG_AUT_FISICA}},{headerName:f.a.TAG_AUT_ELECTRONICA,field:"venAutorizacionElectronica",width:200,minWidth:200,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_AUTORIZACION_ELECTRONICA,text:f.a.TAG_AUT_ELECTRONICA}},{headerName:f.a.TAG_TOTAL,field:"venTotal",width:100,minWidth:100,valueFormatter:pe,cellClass:"text-whitespace text-right"}]},e=le([Object(n.Injectable)({providedIn:"root"}),de("design:paramtypes",[p.a,m.b,h.a])],e)}();function pe(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var me=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},he=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fe=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.listadoDevolucionIVAVentas=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.listadoDevolucionIVAventas,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarListadoDevolucionIVAVentas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirListadoDevolucionIVAVentas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarListadoDevolucionIVAVentas");return e&&e.click(),!1}))},e.prototype.listaDevolucionIVAVentas=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaInicio:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaFin:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.listadoDevolucionIVAVentas.obtenerAnxFunListadoDevolucionIvaVentas(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListadoDevolucionIVAVentas=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.imprimirListadoDevolucionIVAVentas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",anxFunListadoDevolucionIvaVentasTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteListadoDevolucionIvaVentas",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoDevolucionIvaCompras.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteListadoDevolucionIVAVentas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",anxFunListadoDevolucionIvaVentasTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteListadoDevolucionIvaVentas",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoDevolucionIVAVentas_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.listadoDevolucionIVAVentas.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={},this.frameworkComponents={toolTip:oe.a}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},me([Object(n.HostListener)("window:resize",["$event"]),he("design:type",Function),he("design:paramtypes",[]),he("design:returntype",void 0)],e.prototype,"onResize",null),e=me([Object(n.Component)({selector:"app-listado-devolucion-iva-ventas",template:a("4Ud+"),styles:[a("GA3V")]}),he("design:paramtypes",[o.ActivatedRoute,m.b,ue,g.a,h.a,i.a,ie.a,H.HotkeysService])],e)}(),ve=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ce=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},be=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoTalonResumen=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoTalonResumenTO",e,a).then(function(e){e&&e.extraInfo?e.extraInfo.length<=18?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.cargando=!1):t.despuesDeListarAnexoTalonResumen(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoTalonResumen([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_TIPO_CONCEPTO,field:"retConcepto",width:300,minWidth:200,cellClass:function(e){return e.data.retConcepto===f.a.TAG_TOTALES?"tr-negrita textoMayuscula":e.data.retCantidad||e.data.retBaseImponible||e.data.retPorcentaje||e.data.retValorRetenido?"":"tr-negrita textoMayuscula"}},{headerName:f.a.TAG_CANTIDAD,field:"retCantidad",width:100,minWidth:50,valueFormatter:ge,cellClass:function(e){return e.data.retConcepto===f.a.TAG_TOTALES?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_BASE_IMPONIBLE,field:"retBaseImponible",width:100,minWidth:50,valueFormatter:ge,cellClass:function(e){return e.data.retConcepto===f.a.TAG_TOTALES?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_PORCENTAJE,field:"retPorcentaje",width:100,minWidth:50,valueFormatter:ge,cellClass:function(e){return e.data.retConcepto===f.a.TAG_TOTALES?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_VALOR_RETENIDO,field:"retValorRetenido",width:100,minWidth:50,valueFormatter:ge,cellClass:function(e){return e.data.retConcepto===f.a.TAG_TOTALES?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}}]},e=ve([Object(n.Injectable)({providedIn:"root"}),Ce("design:paramtypes",[p.a,m.b,h.a])],e)}();function ge(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Ae=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Re=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ie=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.listadoResumenCompras=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.talonResumenCompras,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarTalonResumenCompras");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirTalonResumenCompras");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarTalonResumenCompras");return e&&e.click(),!1}))},e.prototype.listaDeTalonResumenCompras=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.listadoResumenCompras.obtenerAnexoTalonResumen(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoTalonResumen=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.imprimirTalonResumenCompras=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxTalonResumenTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteTalonResumen",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoTalonResumenCompras.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteTalonResumenCompras=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxTalonResumenTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteAnexoTalonResumenCompras",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoTalonResumenCompras_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.listadoResumenCompras.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Ae([Object(n.HostListener)("window:resize",["$event"]),Re("design:type",Function),Re("design:paramtypes",[]),Re("design:returntype",void 0)],e.prototype,"onResize",null),e=Ae([Object(n.Component)({selector:"app-talon-resumen-compras",template:a("AEBn"),styles:[a("ARDV")]}),Re("design:paramtypes",[o.ActivatedRoute,m.b,be,g.a,h.a,i.a,ie.a,H.HotkeysService])],e)}(),Se=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Oe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Te=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoTalonResumenVentas=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoTalonResumenVentaTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoTalonResumenVentas([]),t.cargando=!1):t.despuesDeListarAnexoTalonResumenVentas(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoTalonResumenVentas([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_COMPROBANTE,field:"venComprobante",width:200,minWidth:200,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_ESTALECIMIENTO,field:"venEstablecimiento",width:100,minWidth:50,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_PUNTO_EMISION,field:"venPuntoEmision",width:100,minWidth:50,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_BASE_NO_OBJETO_IVA,field:"venBaseNoObjetoIva",width:100,minWidth:100,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_BASE_0,field:"venBase0",width:100,minWidth:50,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_BASE_IMPONIBLE,field:"venBaseImponible",width:100,minWidth:50,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_MONTO_IVA,field:"venMotoIva",width:100,minWidth:50,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_V_RETENIDO_IVA,field:"venValorRetenidoIva",width:100,minWidth:50,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENCION_IVA,text:f.a.TAG_V_RETENIDO_IVA}},{headerName:f.a.TAG_V_RET_RENTA,field:"venValorRetenidoRenta",width:100,minWidth:50,valueFormatter:Ee,cellClass:function(e){return e.data.venComprobante===f.a.TAG_M_TOTAL?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENCION_RENTA,text:f.a.TAG_V_RET_RENTA}}]},e=Se([Object(n.Injectable)({providedIn:"root"}),Oe("design:paramtypes",[p.a,m.b,h.a])],e)}();function Ee(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var _e=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ye=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pe=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.listadoResumenVentas=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.talonResumenVentas,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarTalonResumenVentas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirTalonResumenVentas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarTalonResumenVentas");return e&&e.click(),!1}))},e.prototype.listaDeTalonResumenVentas=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.listadoResumenVentas.obtenerAnexoTalonResumenVentas(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoTalonResumenVentas=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.imprimirTalonResumenVentas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxTalonResumenVentaTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteTalonResumenVentas",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoTalonResumenVentas.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteTalonResumenVentas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxTalonResumenVentaTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteAnexoTalonResumenVentas",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoTalonResumenVentas_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.listadoResumenVentas.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={},this.frameworkComponents={toolTip:oe.a}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},_e([Object(n.HostListener)("window:resize",["$event"]),ye("design:type",Function),ye("design:paramtypes",[]),ye("design:returntype",void 0)],e.prototype,"onResize",null),e=_e([Object(n.Component)({selector:"app-talon-resumen-ventas",template:a("eLTp"),styles:[a("dkRL")]}),ye("design:paramtypes",[o.ActivatedRoute,m.b,Te,g.a,h.a,i.a,ie.a,H.HotkeysService])],e)}(),De=function(){function e(e){this.retSustentotributario="",this.retPorcentaje=0,this.retProveedorId="",this.retProveedorNombre="",this.retDocumentoNombre="",this.retDocumentoAutorizacion="",this.retDocumentoNumero="",this.retCompraFecha="",this.retCompraBase0=0,this.retCompraBaseImponible=0,this.retRetencionAutorizacion="",this.retRetencionNumero="",this.retRetencionFecha="",this.retValorRetenidoIr=0,this.retLlaveCompra="",this.retLlaveContable="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.retSustentotributario=e.retSustentotributario?e.retSustentotributario:this.retSustentotributario,this.retPorcentaje=e.retPorcentaje?e.retPorcentaje:this.retPorcentaje,this.retProveedorId=e.retProveedorId?e.retProveedorId:this.retProveedorId,this.retProveedorNombre=e.retProveedorNombre?e.retProveedorNombre:this.retProveedorNombre,this.retDocumentoNombre=e.retDocumentoNombre?e.retDocumentoNombre:this.retDocumentoNombre,this.retDocumentoAutorizacion=e.retDocumentoAutorizacion?e.retDocumentoAutorizacion:this.retDocumentoAutorizacion,this.retDocumentoNumero=e.retDocumentoNumero?e.retDocumentoNumero:this.retDocumentoNumero,this.retCompraFecha=e.retCompraFecha?e.retCompraFecha:this.retCompraFecha,this.retCompraBase0=e.retCompraBase0?e.retCompraBase0:this.retCompraBase0,this.retCompraBaseImponible=e.retCompraBaseImponible?e.retCompraBaseImponible:this.retCompraBaseImponible,this.retRetencionAutorizacion=e.retRetencionAutorizacion?e.retRetencionAutorizacion:this.retRetencionAutorizacion,this.retRetencionNumero=e.retRetencionNumero?e.retRetencionNumero:this.retRetencionNumero,this.retRetencionFecha=e.retRetencionFecha?e.retRetencionFecha:this.retRetencionFecha,this.retValorRetenidoIr=e.retValorRetenidoIr?e.retValorRetenidoIr:this.retValorRetenidoIr,this.retLlaveCompra=e.retLlaveCompra?e.retLlaveCompra:this.retLlaveCompra,this.retLlaveContable=e.retLlaveContable?e.retLlaveContable:this.retLlaveContable},e}(),Ne=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Me=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xe=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaRetencionesFuentesIva=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoListaRetencionesFuenteIvaTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaRetencionesFuentesIva([]),t.cargando=!1):t.despuesDeListarAnexoListaRetencionesFuentesIva(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaRetencionesFuentesIva([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUSTENTO_TRIBUTARIO,field:"retSustentotributario",width:200,minWidth:100,cellClass:function(e){return null===e.data.retSustentotributario?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_PORCENTAJE,field:"retPorcentaje",width:200,minWidth:100,valueFormatter:Fe,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_N_IDENTIFICACION,field:"retProveedorId",width:150,minWidth:150,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_NUMERO_IDENTIFICACION,text:f.a.TAG_N_IDENTIFICACION},cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_PROVEEDOR,field:"retProveedorNombre",width:600,minWidth:300,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-left tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NOMBRE,field:"retDocumentoNombre",width:300,minWidth:200,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NUMERO,field:"retDocumentoNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_FECHA,field:"retCompraFecha",width:200,minWidth:100,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_BASE_CERO,field:"retCompraBase0",width:200,minWidth:100,valueFormatter:Fe,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_COMPRA_BASE_IMPONIBLE,field:"retCompraBaseImponible",width:200,minWidth:100,valueFormatter:Fe,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_DOCUMENTO_AUTORIZACION,field:"retDocumentoAutorizacion",width:200,minWidth:100,valueFormatter:Fe,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_AUTORIZACION,field:"retRetencionAutorizacion",width:200,minWidth:100,valueFormatter:Fe,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_NUMERO,field:"retRetencionNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_VALOR_RET_IR,field:"retValorRetenidoIr",width:200,minWidth:100,valueFormatter:Fe,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IR,text:f.a.TAG_VALOR_RET_IR}},{headerName:f.a.TAG_RETENCION_FECHA,field:"retRetencionFecha",width:200,minWidth:100,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA,field:"retLlaveCompra",width:200,minWidth:100,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_CONTABLE,field:"retLlaveContable",width:180,minWidth:180,cellClass:function(e){return null===e.data.retSustentotributario?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:f.a.WIDTH_OPCIONES,minWidth:f.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:function(e){return e.data.retSustentotributario?"text-center":"text-center ag-hidden"},headerComponent:"toolTip",headerComponentParams:{class:f.a.ICON_OPCIONES,tooltip:f.a.TAG_OPCIONES,text:""}}]},e=Ne([Object(n.Injectable)({providedIn:"root"}),Me("design:paramtypes",[p.a,m.b,h.a])],e)}();function Fe(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Le=a("madF"),we=a("zkCp"),je=a("WDoE"),Ge=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ve=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ue=function(){function e(e,t,a,n,i,o,r,s,c,l){this.route=e,this.toastr=t,this.retencionesIvaCompras=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.mayorAuxiliarService=c,this.cdRef=l,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filtroMenu=new De,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.mayorAuxiliarSeleccionado=new De,this.objetoContableEnviar=null,this.activarInicial=!1,this.mostrarContabilidaAcciones=!1,this.listadoResultadoMayorAuxiliar=[],this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesIvaCompras,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnRetencionesIvaCompras");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirIvaCompras");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarRetencionesIvaCompras");return e&&e.click(),!1}))},e.prototype.listaDeRetencionesIvaCompras=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesIvaCompras.obtenerAnexoListaRetencionesFuentesIva(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaRetencionesFuentesIva=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.imprimirRetencionesIvaCompras=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxRetencionesFuentesIva:this.listaResultado};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteRetencionesIvaCompras",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesIvaCompras.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRetencionesIvaCompras=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin),listaAnxRetencionesFuentesIva:this.listaResultado};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarRetencionesIvaCompras",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"RetencionesIvaCompras_"):e.toastr.warning(f.a.MSJ_ERROR_EXPORTAR,f.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.operacionMayorAuxiliar=function(e){this.mayorAuxiliarService.verificarPermiso(e,this,!0)&&this.mayorAuxiliarSeleccionado.retLlaveContable&&(this.cargando=!0,this.activarInicial=JSON.parse(JSON.stringify(this.activar)),this.objetoContableEnviar={accion:e,contable:this.mayorAuxiliarSeleccionado.retLlaveContable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0})},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=e.objetoEnviar?e.objetoEnviar.activar:this.activarInicial,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.filasService.actualizarFilas(this.listadoResultadoMayorAuxiliar.length,this.filasTiempo.getTiempo()),this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesIvaCompras.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Le.a,toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.mayorAuxiliarSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){var e=this,t=this.mayorAuxiliarSeleccionado.retLlaveContable;this.opciones=[{label:f.a.ACCION_CONSULTAR_CONTABLE,icon:f.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionMayorAuxiliar(f.a.ACCION_CONSULTAR):null}},{label:f.a.ACCION_CONSULTAR_COMPRA,icon:f.a.ICON_CONSULTAR,disabled:!t}]},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Ge([Object(n.ViewChild)("menuOpciones"),Ve("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Ge([Object(n.HostListener)("window:resize",["$event"]),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",void 0)],e.prototype,"onResize",null),e=Ge([Object(n.Component)({selector:"app-retenciones-iva-compras",template:a("CVNU"),styles:[a("7X2Z")]}),Ve("design:paramtypes",[o.ActivatedRoute,m.b,xe,g.a,h.a,i.a,ie.a,H.HotkeysService,je.a,n.ChangeDetectorRef])],e)}(),We=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Be=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ze=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaConsolidadoRetencionesVentas=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnxListaConsolidadoRetencionesVentasTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaConsolidadoRetencionesVentas([]),t.cargando=!1):t.despuesDeListarAnexoListaConsolidadoRetencionesVentas(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaConsolidadoRetencionesVentas([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_TRANSACCION,field:"rvcTransaccion",width:100,minWidth:100},{headerName:f.a.TAG_NUMERO_IDENTIFICACION,field:"rvcIdentificacion",width:150,minWidth:100},{headerName:f.a.TAG_COMPR_TIPO,field:"rvcComprobanteTipo",width:70,minWidth:70,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPROBANTE_TIPO,text:f.a.TAG_COMPR_TIPO}},{headerName:f.a.NUMERO_RETENCIONES,field:"rvcNumeroRetenciones",width:70,minWidth:70,cellClass:function(e){return null===e.data.rvcTransaccion?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_BASE_NO_OBJETO_IVA,field:"rvcBaseNoObjetoIva",width:150,minWidth:150,valueFormatter:ke,cellClass:function(e){return null===e.data.rvcTransaccion?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_BASE_0,field:"rvcBase0",width:100,minWidth:100,valueFormatter:ke,cellClass:function(e){return null===e.data.rvcTransaccion?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_BASE_IMPONIBLE,field:"venBaseImponible",width:100,minWidth:100,valueFormatter:ke,cellClass:function(e){return null===e.data.rvcTransaccion?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_MONTO_IVA,field:"venMontoIva",width:100,minWidth:100,valueFormatter:ke,cellClass:function(e){return null===e.data.rvcTransaccion?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_VALOR_RET_IVA,field:"venValorRetenidoIva",width:100,minWidth:100,valueFormatter:ke,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IVA,text:f.a.TAG_VALOR_RET_IVA},cellClass:function(e){return null===e.data.rvcTransaccion?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_VALOR_RET_RENTA,field:"venValorRetenidoRenta",width:100,minWidth:100,valueFormatter:ke,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_RENTA,text:f.a.TAG_VALOR_RET_RENTA},cellClass:function(e){return null===e.data.rvcTransaccion?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}}]},e=We([Object(n.Injectable)({providedIn:"root"}),Be("design:paramtypes",[p.a,m.b,h.a])],e)}();function ke(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Ye=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Je=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xe=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.retencionesVentasConCliente=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.fechaActual=new Date,this.columnDefs=[],this.columnDefsSelected=[],this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesVentasConsolidadoCliente,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarRetencionesConsolidadoCliente");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirRetencionesConsolidadoCliente");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarRetencionesConsolidadoCliente");return e&&e.click(),!1}))},e.prototype.listaRetencionesVentasConsCliente=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesVentasConCliente.obtenerAnexoListaConsolidadoRetencionesVentas(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaConsolidadoRetencionesVentas=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.imprimirRetencionesConsolidadoCliente=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesVentasTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteConsolidadoRetencionesVentas",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesConsolidadoCliente.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteRetencionesConsolidadoCliente=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesVentasTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteConsolidadoRetencionesVentas",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRetencionesConsolidadoCliente_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesVentasConCliente.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={toolTip:oe.a}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Ye([Object(n.HostListener)("window:resize",["$event"]),Je("design:type",Function),Je("design:paramtypes",[]),Je("design:returntype",void 0)],e.prototype,"onResize",null),e=Ye([Object(n.Component)({selector:"app-retenciones-ventas-consolidado-cliente",template:a("ZYOe"),styles:[a("gA0P")]}),Je("design:paramtypes",[o.ActivatedRoute,m.b,ze,g.a,h.a,i.a,ie.a,H.HotkeysService])],e)}(),He=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ke=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$e=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListadoRetencionesVentas=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnxListadoRetencionesVentasTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListadoRetencionesVentas([]),t.cargando=!1):t.despuesDeListarAnexoListadoRetencionesVentas(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListadoRetencionesVentas([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.obtenerAnexoTipoComprobanteComboTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getListaAnxTipoComprobanteComboTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarComprobante([]),t.cargando=!1):t.despuesDeListarComprobante(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarComprobante([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.obtenerAnexoEstablecimientoComboTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getEstablecimientos",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarEstablecimientos(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarEstablecimientos([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.obtenerAnexoPuntosEmisionComboTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getPuntosEmision",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarPuntosEmision(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarPuntosEmision([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_FECHA,field:"venFecha",width:100,minWidth:100},{headerName:f.a.TAG_N_IDENTIFICACION,field:"venIdentificacion",width:200,minWidth:200,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_NUMERO_IDENTIFICACION,text:f.a.TAG_N_IDENTIFICACION}},{headerName:f.a.TAG_NOMBRE,field:"venNombre",width:200,minWidth:200},{headerName:f.a.TAG_COMPROBANTE_TIPO,field:"venComprobanteTipo",width:150,minWidth:150},{headerName:f.a.TAG_COMPROBANTE_NUM,field:"venComprobanteNumero",width:150,minWidth:150,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPROBANTE_NUMERO,text:f.a.TAG_COMPROBANTE_NUM}},{headerName:f.a.TAG_AUTORIZACION,field:"venAutorizacion",width:120,minWidth:120},{headerName:f.a.TAG_B_NO_OBJETO_IVA,field:"venBaseNoObjetoIva",width:150,minWidth:150,valueFormatter:Ze,cellClass:function(e){return null===e.data.venComprobanteTipo?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_BASE_NO_OBJETO_IVA,text:f.a.TAG_B_NO_OBJETO_IVA}},{headerName:f.a.TAG_BASE_0,field:"venBase0",width:100,minWidth:100,valueFormatter:Ze,cellClass:function(e){return null===e.data.venComprobanteTipo?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_BASE_IMP,field:"venBaseImponible",width:100,minWidth:100,valueFormatter:Ze,cellClass:function(e){return null===e.data.venComprobanteTipo?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_BASE_IMPONIBLE,text:f.a.TAG_BASE_IMP}},{headerName:f.a.TAG_V_RETENIDO_IVA,field:"venValorRetenidoIva",width:100,minWidth:100,valueFormatter:Ze,cellClass:function(e){return null===e.data.venComprobanteTipo?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IVA,text:f.a.TAG_V_RETENIDO_IVA}},{headerName:f.a.TAG_V_RET_RENTA,field:"venValorRetenidoRenta",width:110,minWidth:110,valueFormatter:Ze,cellClass:function(e){return null===e.data.venComprobanteTipo?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_RENTA,text:f.a.TAG_V_RET_RENTA}},{headerName:f.a.NUMERO_RET,field:"venRetencion",width:150,minWidth:150,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.NUMERO_RETENCIONES,text:f.a.NUMERO_RET}},{headerName:f.a.NUMERO_AUT,field:"venRetencionAutorizacion",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.NUMERO_AUTORIZACION,text:f.a.NUMERO_AUT}},{headerName:f.a.TAG_F_EMISION,field:"venRetencionFechaEmision",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_FECHA_EMISION,text:f.a.TAG_F_EMISION}}]},e=He([Object(n.Injectable)({providedIn:"root"}),Ke("design:paramtypes",[p.a,m.b,h.a])],e)}();function Ze(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var qe=a("VYM3"),Qe=function(){function e(e){this.establecimiento="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.establecimiento=e.establecimiento?e.establecimiento:this.establecimiento},e}(),et=function(){function e(e){this.puntoEmision="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.puntoEmision=e.puntoEmision?e.puntoEmision:this.puntoEmision},e}(),tt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},at=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},nt=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.retencionesVentasConCliente=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.listaComprobante=[],this.comprobanteSeleccionado=new qe.a,this.listaEstablecimiento=[],this.establecimientoSeleccionado=new Qe,this.listaPuntoEmision=[],this.puntoEmisionSeleccionado=new et,this.columnDefs=[],this.columnDefsSelected=[],this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesVentasListadoSimple,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes(),this.listarComprobante(),this.listarEstablecimiento()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.listarComprobante=function(){this.listaComprobante=[],this.cargando=!0;var e={empresa:f.a.KEY_EMPRESA_SELECT};this.retencionesVentasConCliente.obtenerAnexoTipoComprobanteComboTO(e,this,f.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarComprobante=function(e){var t=this;this.listaComprobante=e,this.listaComprobante.length>0?this.comprobanteSeleccionado=this.comprobanteSeleccionado&&this.comprobanteSeleccionado.tcCodigo?this.listaComprobante.find(function(e){return e.tcCodigo===t.comprobanteSeleccionado.tcCodigo}):this.listaComprobante[0]:this.comprobanteSeleccionado=null,this.cargando=!1},e.prototype.listarEstablecimiento=function(){this.listaEstablecimiento=[],this.cargando=!0;var e={empresa:f.a.KEY_EMPRESA_SELECT};this.retencionesVentasConCliente.obtenerAnexoEstablecimientoComboTO(e,this,f.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarEstablecimientos=function(e){var t=this;this.listaEstablecimiento=e,this.listaEstablecimiento.length>0?this.establecimientoSeleccionado=this.establecimientoSeleccionado&&this.establecimientoSeleccionado.establecimiento?this.listaEstablecimiento.find(function(e){return e.establecimiento===t.establecimientoSeleccionado.establecimiento}):this.listaEstablecimiento[0]:this.establecimientoSeleccionado=null,this.listarPuntosEmision()},e.prototype.listarPuntosEmision=function(){this.listaPuntoEmision=[],this.cargando=!0;var e={establecimiento:this.establecimientoSeleccionado.establecimiento,empresa:f.a.KEY_EMPRESA_SELECT};this.retencionesVentasConCliente.obtenerAnexoPuntosEmisionComboTO(e,this,f.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeListarPuntosEmision=function(e){var t=this;this.listaPuntoEmision=e,this.listaPuntoEmision.length>0?this.puntoEmisionSeleccionado=this.puntoEmisionSeleccionado&&this.puntoEmisionSeleccionado.puntoEmision?this.listaPuntoEmision.find(function(e){return e.puntoEmision===t.puntoEmisionSeleccionado.puntoEmision}):this.listaPuntoEmision[0]:this.puntoEmisionSeleccionado=null,this.cargando=!1},e.prototype.listaRetencionesVentasListadoSimple=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,tipoDocumento:this.comprobanteSeleccionado&&this.comprobanteSeleccionado.tcCodigo?this.comprobanteSeleccionado.tcCodigo:null,establecimiento:this.establecimientoSeleccionado&&this.establecimientoSeleccionado.establecimiento?this.establecimientoSeleccionado.establecimiento:null,puntoEmision:this.puntoEmisionSeleccionado&&this.puntoEmisionSeleccionado.puntoEmision?this.puntoEmisionSeleccionado.puntoEmision:null,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesVentasConCliente.obtenerAnexoListadoRetencionesVentas(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListadoRetencionesVentas=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarRetencionesVentasListadoSimple");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirRetencionesVentasListadoSimple");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarRetencionesVentasListadoSimple");return e&&e.click(),!1}))},e.prototype.imprimirRetencionesVentasListadoSimple=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",anxListadoRetencionesVentasTOs:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteListadoRetencionesVentas",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesVentas.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteRetencionesVentasListadoSimple=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",anxListadoRetencionesVentasTOs:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteListadoRetencionesVentas",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRetencionesVentas_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesVentasConCliente.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={toolTip:oe.a}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},tt([Object(n.HostListener)("window:resize",["$event"]),at("design:type",Function),at("design:paramtypes",[]),at("design:returntype",void 0)],e.prototype,"onResize",null),e=tt([Object(n.Component)({selector:"app-retenciones-ventas-listado-simple",template:a("nfW3"),styles:[a("u64O")]}),at("design:paramtypes",[o.ActivatedRoute,m.b,$e,g.a,h.a,i.a,ie.a,H.HotkeysService])],e)}(),it=function(){function e(e){this.ctaSecuencial=null,this.ctaEmpresa=null,this.ctaIvaPagado="",this.ctaIvaCobrado="",this.ctaRetFteIvaPagado="",this.ctaRetFteIvaCobrado="",this.ctaRetFteIvaAsumido="",this.ctaRetFteIrPagado="",this.ctaRetFteIrCobrado="",this.ctaRetFteIrAsumido="",this.ctaOtrosImpuestos="",this.ctaCuentasPorCobrar="",this.ctaCuentasPorPagar="",this.ctaCuentasPorPagarActivoFijo="",this.ctaAnticiposDeClientes="",this.ctaAnticiposAProveedores="",this.ctaInventarioProductosProceso="",this.ctaCostoProductosProceso="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.ctaSecuencial=e.ctaSecuencial?e.ctaSecuencial:this.ctaSecuencial,this.ctaEmpresa=e.ctaEmpresa?e.ctaEmpresa:this.ctaEmpresa,this.ctaIvaPagado=e.ctaIvaPagado?e.ctaIvaPagado:this.ctaIvaPagado,this.ctaIvaCobrado=e.ctaIvaCobrado?e.ctaIvaCobrado:this.ctaIvaCobrado,this.ctaRetFteIvaPagado=e.ctaRetFteIvaPagado?e.ctaRetFteIvaPagado:this.ctaRetFteIvaPagado,this.ctaRetFteIvaCobrado=e.ctaRetFteIvaCobrado?e.ctaRetFteIvaCobrado:this.ctaRetFteIvaCobrado,this.ctaRetFteIvaAsumido=e.ctaRetFteIvaAsumido?e.ctaRetFteIvaAsumido:this.ctaRetFteIvaAsumido,this.ctaRetFteIrPagado=e.ctaRetFteIrPagado?e.ctaRetFteIrPagado:this.ctaRetFteIrPagado,this.ctaRetFteIrCobrado=e.ctaRetFteIrCobrado?e.ctaRetFteIrCobrado:this.ctaRetFteIrCobrado,this.ctaRetFteIrAsumido=e.ctaRetFteIrAsumido?e.ctaRetFteIrAsumido:this.ctaRetFteIrAsumido,this.ctaOtrosImpuestos=e.ctaOtrosImpuestos?e.ctaOtrosImpuestos:this.ctaOtrosImpuestos,this.ctaCuentasPorCobrar=e.ctaCuentasPorCobrar?e.ctaCuentasPorCobrar:this.ctaCuentasPorCobrar,this.ctaCuentasPorPagar=e.ctaCuentasPorPagar?e.ctaCuentasPorPagar:this.ctaCuentasPorPagar,this.ctaAnticiposDeClientes=e.ctaAnticiposDeClientes?e.ctaAnticiposDeClientes:this.ctaAnticiposDeClientes,this.ctaAnticiposAProveedores=e.ctaAnticiposAProveedores?e.ctaAnticiposAProveedores:this.ctaAnticiposAProveedores},e}(),ot=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},rt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},st=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoCuentasContables=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnxCuentasContablesTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeObtenerAnexoCuentasContables(null),t.cargando=!1,t.vistaFormulario=!1):t.despuesDeObtenerAnexoCuentasContables(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeObtenerAnexoCuentasContables(null),t.cargando=!1,t.vistaFormulario=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.obtenerAnxCuentasContablesObjetosTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnxCuentasContablesObjetosTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeObtenerAnxCuentasContablesObjetosTO(null),t.cargando=!1,t.vistaFormulario=!1):t.despuesDeObtenerAnxCuentasContablesObjetosTO(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeObtenerAnxCuentasContablesObjetosTO(null),t.cargando=!1,t.vistaFormulario=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.actualizarAnexoCuentasContables=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/actualizarAnxCuentasContables",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.cargando=!1,t.vistaFormulario=!1):t.despuesDeActualizarAnexoListaConsolidadoRetencionesVentas(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e=ot([Object(n.Injectable)({providedIn:"root"}),rt("design:paramtypes",[p.a,m.b,h.a])],e)}(),ct=a("gIcY"),lt=a("LG3P"),dt=a("tmev"),ut=a("6E6y"),pt=a("eUd/"),mt=function(){function e(e){this.ctaSecuencial=null,this.ctaEmpresa=null,this.ctaIvaPagado=new lt.a,this.ctaIvaCobrado=new lt.a,this.ctaRetFteIvaPagado=new lt.a,this.ctaRetFteIvaCobrado=new lt.a,this.ctaRetFteIvaAsumido=new lt.a,this.ctaRetFteIrPagado=new lt.a,this.ctaRetFteIrCobrado=new lt.a,this.ctaRetFteIrAsumido=new lt.a,this.ctaOtrosImpuestos=new lt.a,this.ctaCuentasPorCobrar=new lt.a,this.ctaCuentasPorPagar=new lt.a,this.ctaCuentasPorPagarActivoFijo=new lt.a,this.ctaAnticiposDeClientes=new lt.a,this.ctaAnticiposAProveedores=new lt.a,this.ctaInventarioProductosProceso=new lt.a,this.ctaCostoProductosProceso=new lt.a,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.ctaSecuencial=e.ctaSecuencial?e.ctaSecuencial:this.ctaSecuencial,this.ctaEmpresa=e.ctaEmpresa?e.ctaEmpresa:this.ctaEmpresa,this.ctaIvaPagado=e.ctaIvaPagado?e.ctaIvaPagado:this.ctaIvaPagado,this.ctaIvaCobrado=e.ctaIvaCobrado?e.ctaIvaCobrado:this.ctaIvaCobrado,this.ctaRetFteIvaPagado=e.ctaRetFteIvaPagado?e.ctaRetFteIvaPagado:this.ctaRetFteIvaPagado,this.ctaRetFteIvaCobrado=e.ctaRetFteIvaCobrado?e.ctaRetFteIvaCobrado:this.ctaRetFteIvaCobrado,this.ctaRetFteIvaAsumido=e.ctaRetFteIvaAsumido?e.ctaRetFteIvaAsumido:this.ctaRetFteIvaAsumido,this.ctaRetFteIrPagado=e.ctaRetFteIrPagado?e.ctaRetFteIrPagado:this.ctaRetFteIrPagado,this.ctaRetFteIrCobrado=e.ctaRetFteIrCobrado?e.ctaRetFteIrCobrado:this.ctaRetFteIrCobrado,this.ctaRetFteIrAsumido=e.ctaRetFteIrAsumido?e.ctaRetFteIrAsumido:this.ctaRetFteIrAsumido,this.ctaOtrosImpuestos=e.ctaOtrosImpuestos?e.ctaOtrosImpuestos:this.ctaOtrosImpuestos,this.ctaCuentasPorCobrar=e.ctaCuentasPorCobrar?e.ctaCuentasPorCobrar:this.ctaCuentasPorCobrar,this.ctaCuentasPorPagar=e.ctaCuentasPorPagar?e.ctaCuentasPorPagar:this.ctaCuentasPorPagar,this.ctaAnticiposDeClientes=e.ctaAnticiposDeClientes?e.ctaAnticiposDeClientes:this.ctaAnticiposDeClientes,this.ctaAnticiposAProveedores=e.ctaAnticiposAProveedores?e.ctaAnticiposAProveedores:this.ctaAnticiposAProveedores},e}(),ht=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ft=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vt=function(){function e(e,t,a,n,i,o,r,s,c){this.route=e,this.toastr=t,this.cuentasContablesService=a,this.utilService=n,this.filasService=i,this.atajoService=o,this.auth=r,this.modalService=s,this.planContableService=c,this.cargando=!1,this.cuentasContables=new it,this.cuentasContablesObjetos=new mt,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.screamXS=!0,this.listaEmpresas=[],this.empresaSeleccionada=new X.a,this.vistaFormulario=!1,this.tamanioEstructura=0}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.configuracionCuentasContables,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarCuentasContables");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_GUARDAR,function(e){var t=document.getElementById("btnGuardarConfiguracionCuentasContables");return t&&t.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_CANCELAR,function(){var e=document.getElementById("btnCancelarConfiguracionCuentasContables");return e&&e.click(),!1}))},e.prototype.extraerValoresIniciales=function(){var e=this;setTimeout(function(){e.valoresIniciales=JSON.parse(JSON.stringify(e.frmConfiguracionCuentasContables?e.frmConfiguracionCuentasContables.value:null))},50)},e.prototype.cambiarEmpresaSeleccionada=function(){var e=this;f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.filasService.actualizarFilas("0","0");var t={empresa:this.empresaSeleccionada.empCodigo};this.planContableService.getTamanioListaConEstructura(t,f.a.KEY_EMPRESA_SELECT).then(function(t){e.tamanioEstructura=t[0].estGrupo1+t[0].estGrupo2+t[0].estGrupo3+t[0].estGrupo4+t[0].estGrupo5+t[0].estGrupo6}).catch(function(t){e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.vistaFormulario=!1,this.filasService.actualizarFilas("0","0")},e.prototype.buscarAnexoCuentasContables=function(){this.cargando=!0,this.limpiarResultado(),this.filasTiempo.iniciarContador(),this.vistaFormulario=!0,this.cuentasContablesService.obtenerAnxCuentasContablesObjetosTO({empresa:f.a.KEY_EMPRESA_SELECT},this,f.a.KEY_EMPRESA_SELECT)},e.prototype.despuesDeObtenerAnxCuentasContablesObjetosTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.cuentasContablesObjetos=e||new mt,this.inicializarCuentasContables()},e.prototype.actualizarAnexoConfiguracionCuentasContables=function(e){if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmConfiguracionCuentasContables))this.cancelarCuentasContables(),this.utilService.generarSwal(f.a.TAG_CONFIGURACION_CUENTAS_CONTABLES,f.a.SWAL_SUCCESS,f.a.NO_REALIZO_NINGUN_CAMBIO);else{this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,t&&!e.invalid){var a={empresa:f.a.KEY_EMPRESA_SELECT,anxCuentasContablesTO:this.cuentasContables,usuario:this.auth.getCodigoUser()};this.cuentasContablesService.actualizarAnexoCuentasContables(a,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.TOAST_ADVERTENCIA)}},e.prototype.despuesDeActualizarAnexoListaConsolidadoRetencionesVentas=function(){this.toastr.success(f.a.MSJ_SE_MODIFICO_CUENTAS_CONTABLES,f.a.TOAST_CORRECTO),this.cargando=!1,this.cancelarCuentasContables()},e.prototype.cancelarAccion=function(){var e=this;if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmConfiguracionCuentasContables))this.cancelarCuentasContables();else{var t={title:f.a.MSJ_TITULO_CANCELAR,texto:f.a.MSJ_PREGUNTA_CANCELAR,type:f.a.SWAL_QUESTION,confirmButtonText:f.a.MSJ_ACEPTAR,cancelButtonText:f.a.MSJ_CANCELAR};this.utilService.generarSwallConfirmacionHtml(t).then(function(t){t&&e.cancelarCuentasContables()})}},e.prototype.cancelarCuentasContables=function(){this.limpiarResultado(),this.cuentasContables=new it,this.vistaFormulario=!1,this.accion=null,this.activar=!1},e.prototype.inicializarCuentasContables=function(){this.cuentasContables=new it,this.cuentasContables.ctaEmpresa=this.empresaSeleccionada.empCodigo,this.cuentasContables.ctaIvaPagado=this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo,this.cuentasContables.ctaIvaCobrado=this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo,this.cuentasContables.ctaRetFteIvaPagado=this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo,this.cuentasContables.ctaRetFteIvaCobrado=this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo,this.cuentasContables.ctaRetFteIvaAsumido=this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo,this.cuentasContables.ctaRetFteIrPagado=this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo,this.cuentasContables.ctaRetFteIrCobrado=this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo,this.cuentasContables.ctaRetFteIrAsumido=this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo,this.cuentasContables.ctaOtrosImpuestos=this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo,this.cuentasContables.ctaCuentasPorCobrar=this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo,this.cuentasContables.ctaCuentasPorPagar=this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo,this.cuentasContables.ctaCuentasPorPagarActivoFijo=this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo,this.cuentasContables.ctaAnticiposDeClientes=this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo,this.cuentasContables.ctaAnticiposAProveedores=this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo,this.cuentasContables.ctaInventarioProductosProceso=this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo,this.cuentasContables.ctaCostoProductosProceso=this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo,this.extraerValoresIniciales()},e.prototype.buscarConCuentas=function(e,t){var a=!0,n=null;if(this.utilService.validarTeclasAgregarFila(e.keyCode)){switch(t){case"ctaIvaPagado":a=this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo===this.cuentasContables.ctaIvaPagado&&null!==this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo&&null!==this.cuentasContables.ctaIvaPagado,n=""===this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo?null:this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo,n=this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo?this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo.toUpperCase():null;break;case"ctaIvaCobrado":a=this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo===this.cuentasContables.ctaIvaCobrado&&null!==this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo&&null!==this.cuentasContables.ctaIvaCobrado,n=""===this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo?null:this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo,n=this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo?this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo.toUpperCase():null;break;case"ctaRetFteIvaPagado":a=this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo===this.cuentasContables.ctaRetFteIvaPagado&&null!==this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo&&null!==this.cuentasContables.ctaRetFteIvaPagado,n=""===this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo?null:this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo,n=this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo?this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo.toUpperCase():null;break;case"ctaRetFteIvaCobrado":a=this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo===this.cuentasContables.ctaRetFteIvaCobrado&&null!==this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo&&null!==this.cuentasContables.ctaRetFteIvaCobrado,n=""===this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo?null:this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo,n=this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo?this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo.toUpperCase():null;break;case"ctaRetFteIvaAsumido":a=this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo===this.cuentasContables.ctaRetFteIvaAsumido&&null!==this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo&&null!==this.cuentasContables.ctaRetFteIvaAsumido,n=""===this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo?null:this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo,n=this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo?this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo.toUpperCase():null;break;case"ctaRetFteIrPagado":a=this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo===this.cuentasContables.ctaRetFteIrPagado&&null!==this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo&&null!==this.cuentasContables.ctaRetFteIrPagado,n=""===this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo?null:this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo,n=this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo?this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo.toUpperCase():null;break;case"ctaRetFteIrCobrado":a=this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo===this.cuentasContables.ctaRetFteIrCobrado&&null!==this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo&&null!==this.cuentasContables.ctaRetFteIrCobrado,n=""===this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo?null:this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo,n=this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo?this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo.toUpperCase():null;break;case"ctaRetFteIrAsumido":a=this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo===this.cuentasContables.ctaRetFteIrAsumido&&null!==this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo&&null!==this.cuentasContables.ctaRetFteIrAsumido,n=""===this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo?null:this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo,n=this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo?this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo.toUpperCase():null;break;case"ctaOtrosImpuestos":a=this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo===this.cuentasContables.ctaOtrosImpuestos&&null!==this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo&&null!==this.cuentasContables.ctaOtrosImpuestos,n=""===this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo?null:this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo,n=this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo?this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo.toUpperCase():null;break;case"ctaCuentasPorCobrar":a=this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo===this.cuentasContables.ctaCuentasPorCobrar&&null!==this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo&&null!==this.cuentasContables.ctaCuentasPorCobrar,n=""===this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo?null:this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo,n=this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo?this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo.toUpperCase():null;break;case"ctaCuentasPorPagar":a=this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo===this.cuentasContables.ctaCuentasPorPagar&&null!==this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo&&null!==this.cuentasContables.ctaCuentasPorPagar,n=""===this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo?null:this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo,n=this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo?this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo.toUpperCase():null;break;case"ctaCuentasPorPagarActivoFijo":a=this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo===this.cuentasContables.ctaCuentasPorPagarActivoFijo&&null!==this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo&&null!==this.cuentasContables.ctaCuentasPorPagarActivoFijo,n=""===this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo?null:this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo,n=this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo?this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo.toUpperCase():null;break;case"ctaAnticiposDeClientes":a=this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo===this.cuentasContables.ctaAnticiposDeClientes&&null!==this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo&&null!==this.cuentasContables.ctaAnticiposDeClientes,n=""===this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo?null:this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo,n=this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo?this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo.toUpperCase():null;break;case"ctaAnticiposAProveedores":a=this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo===this.cuentasContables.ctaAnticiposAProveedores&&null!==this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo&&null!==this.cuentasContables.ctaAnticiposAProveedores,n=""===this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo?null:this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo,n=this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo?this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo.toUpperCase():null;break;case"ctaInventarioProductosProceso":a=this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo===this.cuentasContables.ctaInventarioProductosProceso&&null!==this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo&&null!==this.cuentasContables.ctaInventarioProductosProceso,n=""===this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo?null:this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo,n=this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo?this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo.toUpperCase():null;break;case"ctaCostoProductosProceso":a=this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo===this.cuentasContables.ctaCostoProductosProceso&&null!==this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo&&null!==this.cuentasContables.ctaCostoProductosProceso,n=""===this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo?null:this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo,n=this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo?this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo.toUpperCase():null}if(!a&&n){var i={empresa:this.empresaSeleccionada.empCodigo,buscar:n,ctaGrupo:null};e.srcElement.blur(),e.preventDefault(),this.abrirModalCuenta(i,t)}}},e.prototype.abrirModalCuenta=function(e,t){var a=this,n=this.modalService.open(dt.a,{size:"lg",windowClass:"miSize",backdrop:"static"});n.componentInstance.filtrosBusquedaPlanCuenta=e,n.componentInstance.tamanioEstructura=this.tamanioEstructura,n.result.then(function(e){switch(t){case"ctaIvaPagado":a.cuentasContables.ctaIvaPagado=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaIvaPagado.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaIvaCobrado").focus();break;case"ctaIvaCobrado":a.cuentasContables.ctaIvaCobrado=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaIvaCobrado.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaRetFteIvaPagado").focus();break;case"ctaRetFteIvaPagado":a.cuentasContables.ctaRetFteIvaPagado=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaRetFteIvaCobrado").focus();break;case"ctaRetFteIvaCobrado":a.cuentasContables.ctaRetFteIvaCobrado=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaRetFteIvaAsumido").focus();break;case"ctaRetFteIvaAsumido":a.cuentasContables.ctaRetFteIvaAsumido=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaRetFteIrPagado").focus();break;case"ctaRetFteIrPagado":a.cuentasContables.ctaRetFteIrPagado=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaRetFteIrCobrado").focus();break;case"ctaRetFteIrCobrado":a.cuentasContables.ctaRetFteIrCobrado=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaRetFteIrAsumido").focus();break;case"ctaRetFteIrAsumido":a.cuentasContables.ctaRetFteIrAsumido=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaOtrosImpuestos").focus();break;case"ctaOtrosImpuestos":a.cuentasContables.ctaOtrosImpuestos=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaCuentasPorCobrar").focus();break;case"ctaCuentasPorCobrar":a.cuentasContables.ctaCuentasPorCobrar=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaCuentasPorPagar").focus();break;case"ctaCuentasPorPagar":a.cuentasContables.ctaCuentasPorPagar=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaAnticiposDeClientes").focus();break;case"ctaCuentasPorPagarActivoFijo":a.cuentasContables.ctaCuentasPorPagarActivoFijo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaAnticiposDeClientes").focus();break;case"ctaAnticiposDeClientes":a.cuentasContables.ctaAnticiposDeClientes=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaAnticiposAProveedores").focus();break;case"ctaAnticiposAProveedores":a.cuentasContables.ctaAnticiposAProveedores=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("ctaAnticiposAProveedores").focus();break;case"ctaInventarioProductosProceso":a.cuentasContables.ctaInventarioProductosProceso=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("cuenta").focus();break;case"ctaCostoProductosProceso":a.cuentasContables.ctaCostoProductosProceso=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo=e?e.cuentaCodigo:null,a.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaDetalle=e?e.cuentaDetalle.trim():null,document.getElementById("cuenta").focus()}a.filasService.actualizarFilas("0","0")},function(e){var t=document.getElementById("cuenta");t&&t.focus()})},e.prototype.validarCuenta=function(e){switch(e){case"ctaIvaPagado":this.cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo!==this.cuentasContables.ctaIvaPagado&&(this.cuentasContablesObjetos.ctaIvaPagado=new lt.a,this.cuentasContables.ctaIvaPagado=null);break;case"ctaIvaCobrado":this.cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo!==this.cuentasContables.ctaIvaCobrado&&(this.cuentasContablesObjetos.ctaIvaCobrado=new lt.a,this.cuentasContables.ctaIvaCobrado=null);break;case"ctaRetFteIvaPagado":this.cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo!==this.cuentasContables.ctaRetFteIvaPagado&&(this.cuentasContablesObjetos.ctaRetFteIvaPagado=new lt.a,this.cuentasContables.ctaRetFteIvaPagado=null);break;case"ctaRetFteIvaCobrado":this.cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo!==this.cuentasContables.ctaRetFteIvaCobrado&&(this.cuentasContablesObjetos.ctaRetFteIvaCobrado=new lt.a,this.cuentasContables.ctaRetFteIvaCobrado=null);break;case"ctaRetFteIvaAsumido":this.cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo!==this.cuentasContables.ctaRetFteIvaAsumido&&(this.cuentasContablesObjetos.ctaRetFteIvaAsumido=new lt.a,this.cuentasContables.ctaRetFteIvaAsumido=null);break;case"ctaRetFteIrPagado":this.cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo!==this.cuentasContables.ctaRetFteIrPagado&&(this.cuentasContablesObjetos.ctaRetFteIrPagado=new lt.a,this.cuentasContables.ctaRetFteIrPagado=null);break;case"ctaRetFteIrCobrado":this.cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo!==this.cuentasContables.ctaRetFteIrCobrado&&(this.cuentasContablesObjetos.ctaRetFteIrCobrado=new lt.a,this.cuentasContables.ctaRetFteIrCobrado=null);break;case"ctaRetFteIrAsumido":this.cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo!==this.cuentasContables.ctaRetFteIrAsumido&&(this.cuentasContablesObjetos.ctaRetFteIrAsumido=new lt.a,this.cuentasContables.ctaRetFteIrAsumido=null);break;case"ctaOtrosImpuestos":this.cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo!==this.cuentasContables.ctaOtrosImpuestos&&(this.cuentasContablesObjetos.ctaOtrosImpuestos=new lt.a,this.cuentasContables.ctaOtrosImpuestos=null);break;case"ctaCuentasPorCobrar":this.cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo!==this.cuentasContables.ctaCuentasPorCobrar&&(this.cuentasContablesObjetos.ctaCuentasPorCobrar=new lt.a,this.cuentasContables.ctaCuentasPorCobrar=null);break;case"ctaCuentasPorPagar":this.cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo!==this.cuentasContables.ctaCuentasPorPagar&&(this.cuentasContablesObjetos.ctaCuentasPorPagar=new lt.a,this.cuentasContables.ctaCuentasPorPagar=null);break;case"ctaCuentasPorPagarActivoFijo":this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo.cuentaCodigo!==this.cuentasContables.ctaCuentasPorPagarActivoFijo&&(this.cuentasContablesObjetos.ctaCuentasPorPagarActivoFijo=new lt.a,this.cuentasContables.ctaCuentasPorPagarActivoFijo=null);break;case"ctaAnticiposDeClientes":this.cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo!==this.cuentasContables.ctaAnticiposDeClientes&&(this.cuentasContablesObjetos.ctaAnticiposDeClientes=new lt.a,this.cuentasContables.ctaAnticiposDeClientes=null);break;case"ctaAnticiposAProveedores":this.cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo!==this.cuentasContables.ctaAnticiposAProveedores&&(this.cuentasContablesObjetos.ctaAnticiposAProveedores=new lt.a,this.cuentasContables.ctaAnticiposAProveedores=null);break;case"ctaInventarioProductosProceso":this.cuentasContablesObjetos.ctaInventarioProductosProceso.cuentaCodigo!==this.cuentasContables.ctaInventarioProductosProceso&&(this.cuentasContablesObjetos.ctaInventarioProductosProceso=new lt.a,this.cuentasContables.ctaInventarioProductosProceso=null);break;case"ctaCostoProductosProceso":this.cuentasContablesObjetos.ctaCostoProductosProceso.cuentaCodigo!==this.cuentasContables.ctaCostoProductosProceso&&(this.cuentasContablesObjetos.ctaCostoProductosProceso=new lt.a,this.cuentasContables.ctaCostoProductosProceso=null)}},ht([Object(n.ViewChild)("frmConfiguracionCuentasContables"),ft("design:type",ct.NgForm)],e.prototype,"frmConfiguracionCuentasContables",void 0),e=ht([Object(n.Component)({selector:"app-configuracion-cuentas-contables",template:a("Xu+e"),styles:[a("aVul")]}),ft("design:paramtypes",[o.ActivatedRoute,m.b,st,h.a,g.a,H.HotkeysService,J.a,pt.b,ut.a])],e)}(),Ct=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},bt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gt=function(){function e(){}return e.prototype.ngOnInit=function(){},e=Ct([Object(n.Component)({selector:"app-retenciones-renta-compras-consolidado",template:a("UwDM"),styles:[a("VHw9")]}),bt("design:paramtypes",[])],e)}(),At=a("yEhj"),Rt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},It=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},St=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaRetencionesRentaTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoListaRetencionesRentaTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1):t.despuesDeListarAnexoListaRetencionesRentaTO(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUST_T,field:"retSustentotributario",width:100,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?"tr-negrita textoMayuscula":" "},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_SUSTENTO_TRIBUTARIO,text:f.a.TAG_SUST_T}},{headerName:f.a.TAG_CONCEPTO,field:"retConcepto",width:100,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_N_IDENTIFICACION,field:"retProveedorId",width:130,minWidth:130,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_NUMERO_IDENTIFICACION,text:f.a.TAG_N_IDENTIFICACION}},{headerName:f.a.TAG_PROVEEDOR,field:"retProveedorNombre",width:600,minWidth:300,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-left tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NOMBRE,field:"retDocumentoNombre",width:200,minWidth:200,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_D_NUMERO,field:"retDocumentoNumero",width:150,minWidth:150,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_DOCUMENTO_NUMERO,text:f.a.TAG_D_NUMERO}},{headerName:f.a.TAG_COMPRA_FECHA,field:"retCompraFecha",width:120,minWidth:120,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_B_CERO,field:"retCompraBase0",width:200,minWidth:100,valueFormatter:Ot,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPRA_BASE_CERO,text:f.a.TAG_COMPRA_B_CERO}},{headerName:f.a.TAG_COMPRA_B_IMPONIBLE,field:"retCompraBaseImponible",width:200,minWidth:100,valueFormatter:Ot,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPRA_BASE_IMPONIBLE,text:f.a.TAG_COMPRA_B_IMPONIBLE}},{headerName:f.a.TAG_DOC_AUTORIZACION,field:"retDocumentoAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_DOCUMENTO_AUTORIZACION,text:f.a.TAG_DOC_AUTORIZACION}},{headerName:f.a.TAG_RET_AUTORIZACION,field:"retRetencionAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_RETENCION_AUTORIZACION,text:f.a.TAG_RET_AUTORIZACION}},{headerName:f.a.TAG_RETENCION_NUMERO,field:"retRetencionNumero",width:160,minWidth:160,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_VALOR_RET_IR,field:"retValorRetenidoIr",width:100,minWidth:100,valueFormatter:Ot,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IR,text:f.a.TAG_VALOR_RET_IR}},{headerName:f.a.TAG_CONTABLE,field:"retLlavecontable",width:180,minWidth:180,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:f.a.WIDTH_OPCIONES,minWidth:f.a.WIDTH_OPCIONES,cellRendererFramework:Le.a,cellClass:function(e){if(!e.data.retSustentotributario)return"ag-hidden"},headerComponent:"toolTip",headerComponentParams:{class:f.a.ICON_OPCIONES,tooltip:f.a.TAG_OPCIONES,text:""}}]},e=Rt([Object(n.Injectable)({providedIn:"root"}),It("design:paramtypes",[p.a,m.b,h.a])],e)}();function Ot(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Tt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Et=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_t=function(){function e(e,t,a,n,i,o,r,s,c,l){this.route=e,this.toastr=t,this.filasService=a,this.utilService=n,this.sistemaService=i,this.archivoService=o,this.retencionesRentaComprasTipoDocumento=r,this.atajoService=s,this.mayorAuxiliarService=c,this.cdRef=l,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filtroMenu=new At.a,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.fechaActual=new Date,this.mayorAuxiliarSeleccionado=new At.a,this.objetoContableEnviar=null,this.activarInicial=!1,this.mostrarContabilidaAcciones=!1,this.listadoResultadoMayorAuxiliar=[],this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesRentaComprasTipoDocumento,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnRetencionesTipoDocumento");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirRetencionesTipoDocumento");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarRetencionesTipoDocumento");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.listaDeRetencionesTipoDocumento=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),pOrden:f.a.TAG_TIPO_DOCUMENTO.toUpperCase()};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesRentaComprasTipoDocumento.obtenerAnexoListaRetencionesRentaTO(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaRetencionesRentaTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.operacionMayorAuxiliar=function(e){this.mayorAuxiliarService.verificarPermiso(e,this,!0)&&this.mayorAuxiliarSeleccionado.retLlavecontable&&(this.cargando=!0,this.activarInicial=JSON.parse(JSON.stringify(this.activar)),this.objetoContableEnviar={accion:e,contable:this.mayorAuxiliarSeleccionado.retLlavecontable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0})},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=e.objetoEnviar?e.objetoEnviar.activar:this.activarInicial,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.filasService.actualizarFilas(this.listadoResultadoMayorAuxiliar.length,this.filasTiempo.getTiempo()),this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.imprimirRetencionesRentaComprasTipoDocumento=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesRenta.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRetencionesRentaComprasTipoDocumento=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRetencionesRentaComprasTipoDocumento_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesRentaComprasTipoDocumento.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Le.a,toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.mayorAuxiliarSeleccionado=e,this.mayorAuxiliarSeleccionado.retProveedorId&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.generarOpciones=function(){var e=this,t=this.mayorAuxiliarSeleccionado.retLlavecontable;this.opciones=[{label:f.a.ACCION_CONSULTAR_CONTABLE,icon:f.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionMayorAuxiliar(f.a.ACCION_CONSULTAR):null}},{label:f.a.ACCION_CONSULTAR_COMPRA,icon:f.a.ICON_CONSULTAR,disabled:!t}]},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Tt([Object(n.ViewChild)("menuOpciones"),Et("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Tt([Object(n.HostListener)("window:resize",["$event"]),Et("design:type",Function),Et("design:paramtypes",[]),Et("design:returntype",void 0)],e.prototype,"onResize",null),e=Tt([Object(n.Component)({selector:"app-retenciones-renta-compras-tipo-documento",template:a("l0dD"),styles:[a("dBzq")]}),Et("design:paramtypes",[o.ActivatedRoute,m.b,g.a,h.a,i.a,ie.a,St,H.HotkeysService,je.a,n.ChangeDetectorRef])],e)}(),yt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Pt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Dt=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaRetencionesRentaTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoListaRetencionesRentaTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1):t.despuesDeListarAnexoListaRetencionesRentaTO(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUSTENTO_TRIBUTARIO,field:"retSustentotributario",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_CONCEPTO,field:"retConcepto",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_N_IDENTIFICACION,field:"retProveedorId",width:150,minWidth:150,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_PROVEEDOR,field:"retProveedorNombre",width:600,minWidth:300,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-left tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NOMBRE,field:"retDocumentoNombre",width:300,minWidth:200,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NUMERO,field:"retDocumentoNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_FECHA,field:"retCompraFecha",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_BASE_CERO,field:"retCompraBase0",width:200,minWidth:100,valueFormatter:Nt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_COMPRA_BASE_IMPONIBLE,field:"retComprabaseImponible",width:200,minWidth:100,valueFormatter:Nt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_DOCUMENTO_AUTORIZACION,field:"retDocumentoAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_AUTORIZACION,field:"retRetencionAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_NUMERO,field:"retRetencionNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_VALOR_RET_IR,field:"retValorRetenidoIr",width:200,minWidth:100,valueFormatter:Nt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IR,text:f.a.TAG_VALOR_RET_IR}},{headerName:f.a.TAG_CONTABLE,field:"retLlavecontable",width:180,minWidth:180,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:f.a.WIDTH_OPCIONES,minWidth:f.a.WIDTH_OPCIONES,cellRendererFramework:Le.a,cellClass:function(e){if(!e.data.retSustentotributario)return"ag-hidden"},headerComponent:"toolTip",headerComponentParams:{class:f.a.ICON_OPCIONES,tooltip:f.a.TAG_OPCIONES,text:""}}]},e=yt([Object(n.Injectable)({providedIn:"root"}),Pt("design:paramtypes",[p.a,m.b,h.a])],e)}();function Nt(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Mt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},xt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ft=function(){function e(e,t,a,n,i,o,r,s,c){this.route=e,this.toastr=t,this.filasService=a,this.utilService=n,this.sistemaService=i,this.archivoService=o,this.retencionesRentaComprasTipoProveedor=r,this.mayorAuxiliarService=s,this.cdRef=c,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filtroMenu=new At.a,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.mayorAuxiliarSeleccionado=new At.a,this.objetoContableEnviar=null,this.activarInicial=!1,this.mostrarContabilidaAcciones=!1,this.listadoResultadoMayorAuxiliar=[],this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesRentaComprasTipoProveedor,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate()},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.listaDeRetencionesRentaProveedor=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),pOrden:f.a.TAG_TIPO_PROVEEDOR};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesRentaComprasTipoProveedor.obtenerAnexoListaRetencionesRentaTO(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaRetencionesRentaTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.operacionMayorAuxiliar=function(e){this.mayorAuxiliarService.verificarPermiso(e,this,!0)&&this.mayorAuxiliarSeleccionado.retLlavecontable&&(this.cargando=!0,this.activarInicial=JSON.parse(JSON.stringify(this.activar)),this.objetoContableEnviar={accion:e,contable:this.mayorAuxiliarSeleccionado.retLlavecontable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0})},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=e.objetoEnviar?e.objetoEnviar.activar:this.activarInicial,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.filasService.actualizarFilas(this.listadoResultadoMayorAuxiliar.length,this.filasTiempo.getTiempo()),this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.imprimirRetencionesRentaComprasTipoProveedor=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesRenta.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRetencionesRentaComprasTipoProveedor=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRetencionesRentaComprasTipoProveedor_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesRentaComprasTipoProveedor.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Le.a,toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.mayorAuxiliarSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){var e=this,t=this.mayorAuxiliarSeleccionado.retLlavecontable;this.opciones=[{label:f.a.ACCION_CONSULTAR_CONTABLE,icon:f.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionMayorAuxiliar(f.a.ACCION_CONSULTAR):null}},{label:f.a.ACCION_CONSULTAR_COMPRA,icon:f.a.ICON_CONSULTAR,disabled:!t}]},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Mt([Object(n.ViewChild)("menuOpciones"),xt("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Mt([Object(n.HostListener)("window:resize",["$event"]),xt("design:type",Function),xt("design:paramtypes",[]),xt("design:returntype",void 0)],e.prototype,"onResize",null),e=Mt([Object(n.Component)({selector:"app-retenciones-renta-compras-tipo-proveedor",template:a("NgSS"),styles:[a("vVNI")]}),xt("design:paramtypes",[o.ActivatedRoute,m.b,g.a,h.a,i.a,ie.a,Dt,je.a,n.ChangeDetectorRef])],e)}(),Lt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},wt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jt=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaRetencionesRentaTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoListaRetencionesRentaTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1):t.despuesDeListarAnexoListaRetencionesRentaTO(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUSTENTO_TRIBUTARIO,field:"retSustentotributario",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_CONCEPTO,field:"retConcepto",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_N_IDENTIFICACION,field:"retProveedorId",width:150,minWidth:150,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_NUMERO_IDENTIFICACION,text:f.a.TAG_N_IDENTIFICACION},cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_PROVEEDOR,field:"retProveedorNombre",width:600,minWidth:300,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-left tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NOMBRE,field:"retDocumentoNombre",width:300,minWidth:200,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NUMERO,field:"retDocumentoNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_FECHA,field:"retCompraFecha",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_BASE_CERO,field:"retCompraBase0",width:200,minWidth:100,valueFormatter:Gt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_COMPRA_BASE_IMPONIBLE,field:"retCompraBaseImponible",width:200,minWidth:100,valueFormatter:Gt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_DOCUMENTO_AUTORIZACION,field:"retDocumentoAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_AUTORIZACION,field:"retRetencionAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_NUMERO,field:"retRetencionNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_VALOR_RET_IR,field:"retValorRetenidoIr",width:200,minWidth:100,valueFormatter:Gt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IR,text:f.a.TAG_VALOR_RET_IR}},{headerName:f.a.TAG_CONTABLE,field:"retLlavecontable",width:180,minWidth:180,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:f.a.WIDTH_OPCIONES,minWidth:f.a.WIDTH_OPCIONES,cellRendererFramework:Le.a,cellClass:function(e){if(!e.data.retSustentotributario)return"ag-hidden"},headerComponent:"toolTip",headerComponentParams:{class:f.a.ICON_OPCIONES,tooltip:f.a.TAG_OPCIONES,text:""}}]},e=Lt([Object(n.Injectable)({providedIn:"root"}),wt("design:paramtypes",[p.a,m.b,h.a])],e)}();function Gt(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Vt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ut=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wt=function(){function e(e,t,a,n,i,o,r,s,c){this.route=e,this.toastr=t,this.filasService=a,this.utilService=n,this.sistemaService=i,this.archivoService=o,this.retencionesRentaComprasSustento=r,this.mayorAuxiliarService=s,this.cdRef=c,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filtroMenu=new At.a,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.mayorAuxiliarSeleccionado=new At.a,this.objetoContableEnviar=null,this.activarInicial=!1,this.mostrarContabilidaAcciones=!1,this.listadoResultadoMayorAuxiliar=[],this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesRentaComprasSustento,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate()},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.listaDeRetencionesTipoDocumento=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),pOrden:f.a.TAG_SUSTENTO.toUpperCase()};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesRentaComprasSustento.obtenerAnexoListaRetencionesRentaTO(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaRetencionesRentaTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.operacionMayorAuxiliar=function(e){this.mayorAuxiliarService.verificarPermiso(e,this,!0)&&this.mayorAuxiliarSeleccionado.retLlavecontable&&(this.cargando=!0,this.activarInicial=JSON.parse(JSON.stringify(this.activar)),this.objetoContableEnviar={accion:e,contable:this.mayorAuxiliarSeleccionado.retLlavecontable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0})},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=e.objetoEnviar?e.objetoEnviar.activar:this.activarInicial,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.filasService.actualizarFilas(this.listadoResultadoMayorAuxiliar.length,this.filasTiempo.getTiempo()),this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.imprimirRetencionesRentaComprasTipoDocumento=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesRenta.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRetencionesRentaComprasTipoDocumento=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRetencionesRentaComprasTipoDocumento_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesRentaComprasSustento.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Le.a,toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.mayorAuxiliarSeleccionado=e,this.mayorAuxiliarSeleccionado.retSustentotributario&&(this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation())},e.prototype.generarOpciones=function(){var e=this,t=this.mayorAuxiliarSeleccionado.retLlavecontable;this.opciones=[{label:f.a.ACCION_CONSULTAR_CONTABLE,icon:f.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionMayorAuxiliar(f.a.ACCION_CONSULTAR):null}},{label:f.a.ACCION_CONSULTAR_COMPRA,icon:f.a.ICON_CONSULTAR,disabled:!t}]},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Vt([Object(n.ViewChild)("menuOpciones"),Ut("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Vt([Object(n.HostListener)("window:resize",["$event"]),Ut("design:type",Function),Ut("design:paramtypes",[]),Ut("design:returntype",void 0)],e.prototype,"onResize",null),e=Vt([Object(n.Component)({selector:"app-retenciones-renta-compras-sustento",template:a("8f8k"),styles:[a("j7Jy")]}),Ut("design:paramtypes",[o.ActivatedRoute,m.b,g.a,h.a,i.a,ie.a,jt,je.a,n.ChangeDetectorRef])],e)}(),Bt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},zt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},kt=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaRetencionesRentaTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoListaRetencionesRentaTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1):t.despuesDeListarAnexoListaRetencionesRentaTO(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaRetencionesRentaTO([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUSTENTO_TRIBUTARIO,field:"retSustentotributario",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_CONCEPTO,field:"retConcepto",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_N_IDENTIFICACION,field:"retProveedorId",width:150,minWidth:150,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_PROVEEDOR,field:"retProveedorNombre",width:600,minWidth:300,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-left tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NOMBRE,field:"retDocumentoNombre",width:300,minWidth:200,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NUMERO,field:"retDocumentoNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_FECHA,field:"retCompraFecha",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_BASE_CERO,field:"retCompraBase0",width:200,minWidth:100,valueFormatter:Yt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_COMPRA_BASE_IMPONIBLE,field:"retCompraBaseImponible",width:200,minWidth:100,valueFormatter:Yt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_DOCUMENTO_AUTORIZACION,field:"retDocumentoAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_AUTORIZACION,field:"retRetencionAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_NUMERO,field:"retRetencionNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_VALOR_RET_IR,field:"retValorRetenidoIr",width:200,minWidth:100,valueFormatter:Yt,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IR,text:f.a.TAG_VALOR_RET_IR}},{headerName:f.a.TAG_CONTABLE,field:"retLlavecontable",width:180,minWidth:180,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:f.a.WIDTH_OPCIONES,minWidth:f.a.WIDTH_OPCIONES,cellRendererFramework:Le.a,cellClass:function(e){if(!e.data.retSustentotributario)return"ag-hidden"},headerComponent:"toolTip",headerComponentParams:{class:f.a.ICON_OPCIONES,tooltip:f.a.TAG_OPCIONES,text:""}}]},e=Bt([Object(n.Injectable)({providedIn:"root"}),zt("design:paramtypes",[p.a,m.b,h.a])],e)}();function Yt(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Jt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Xt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ht=function(){function e(e,t,a,n,i,o,r,s,c){this.route=e,this.toastr=t,this.filasService=a,this.utilService=n,this.sistemaService=i,this.archivoService=o,this.retencionesRentaComprasConcepto=r,this.mayorAuxiliarService=s,this.cdRef=c,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filtroMenu=new At.a,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.mayorAuxiliarSeleccionado=new At.a,this.objetoContableEnviar=null,this.activarInicial=!1,this.mostrarContabilidaAcciones=!1,this.listadoResultadoMayorAuxiliar=[],this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesRentaComprasConcepto,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate()},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.listaDeRetencionesTipoDocumento=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),pOrden:"CONCEPTO"};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesRentaComprasConcepto.obtenerAnexoListaRetencionesRentaTO(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaRetencionesRentaTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.operacionMayorAuxiliar=function(e){this.mayorAuxiliarService.verificarPermiso(e,this,!0)&&this.mayorAuxiliarSeleccionado.retLlavecontable&&(this.cargando=!0,this.activarInicial=JSON.parse(JSON.stringify(this.activar)),this.objetoContableEnviar={accion:e,contable:this.mayorAuxiliarSeleccionado.retLlavecontable,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0})},e.prototype.cerrarContabilidadAcciones=function(e){this.activar=e.objetoEnviar?e.objetoEnviar.activar:this.activarInicial,this.objetoContableEnviar=e.objetoEnviar,this.mostrarContabilidaAcciones=e.mostrarContilidadAcciones,this.filasService.actualizarFilas(this.listadoResultadoMayorAuxiliar.length,this.filasTiempo.getTiempo()),this.cdRef.detectChanges()},e.prototype.cambiarEstadoCargando=function(e){this.cargando=e,this.cdRef.detectChanges()},e.prototype.cambiarEstadoActivar=function(e){this.activar=e,this.cdRef.detectChanges()},e.prototype.imprimirRetencionesRentaComprasTipoDocumento=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesRenta.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRetencionesRentaComprasTipoDocumento=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxConsolidadoRetencionesRentaTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarRetencionesRentaCompras",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRetencionesRentaComprasTipoDocumento_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesRentaComprasConcepto.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Le.a,toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.mayorAuxiliarSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){var e=this,t=this.mayorAuxiliarSeleccionado.retLlavecontable;this.opciones=[{label:f.a.ACCION_CONSULTAR_CONTABLE,icon:f.a.ICON_CONSULTAR,disabled:!t,command:function(){return t?e.operacionMayorAuxiliar(f.a.ACCION_CONSULTAR):null}},{label:f.a.ACCION_CONSULTAR_COMPRA,icon:f.a.ICON_CONSULTAR,disabled:!t}]},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Jt([Object(n.ViewChild)("menuOpciones"),Xt("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Jt([Object(n.HostListener)("window:resize",["$event"]),Xt("design:type",Function),Xt("design:paramtypes",[]),Xt("design:returntype",void 0)],e.prototype,"onResize",null),e=Jt([Object(n.Component)({selector:"app-retenciones-renta-compras-concepto",template:a("OM0U"),styles:[a("C9eS")]}),Xt("design:paramtypes",[o.ActivatedRoute,m.b,g.a,h.a,i.a,ie.a,kt,je.a,n.ChangeDetectorRef])],e)}(),Kt=function(){function e(e){this.compPeriodo="",this.compMotivo="",this.compNumero="",this.compProveedorRazonSocial="",this.compRetencionNumero="",this.compRetencionFechaEmision="",this.compAutorizacionFecha="",this.compAutorizacionNumero="",this.email=!1,this.emailEnviado=!1,this.emailEntregado=!1,this.emailLeido=!1,this.emailRebotado=!1,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.compPeriodo=e.compPeriodo?e.compPeriodo:this.compPeriodo,this.compMotivo=e.compMotivo?e.compMotivo:this.compMotivo,this.compNumero=e.compNumero?e.compNumero:this.compNumero,this.compProveedorRazonSocial=e.compProveedorRazonSocial?e.compProveedorRazonSocial:this.compProveedorRazonSocial,this.compRetencionNumero=e.compRetencionNumero?e.compRetencionNumero:this.compRetencionNumero,this.compRetencionFechaEmision=e.compRetencionFechaEmision?e.compRetencionFechaEmision:this.compRetencionFechaEmision,this.compAutorizacionFecha=e.compAutorizacionFecha?e.compAutorizacionFecha:this.compAutorizacionFecha,this.compAutorizacionNumero=e.compAutorizacionNumero?e.compAutorizacionNumero:this.compAutorizacionNumero,this.email=e.email?e.email:this.email,this.emailEnviado=e.emailEnviado?e.emailEnviado:this.emailEnviado,this.emailEntregado=e.emailEntregado?e.emailEntregado:this.emailEntregado,this.emailLeido=e.emailLeido?e.emailLeido:this.emailLeido,this.emailRebotado=e.emailRebotado?e.emailRebotado:this.emailRebotado},e}(),$t=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Zt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qt=function(){function e(e,t,a,n){this.api=e,this.utilService=t,this.toastr=a,this.archivoService=n}return e.prototype.listarAnxListadoCompraElectronicaTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getListaAnxComprasElectronicaTO",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarAnxListadoCompraElectronicaTO(e.extraInfo):(t.despuesDeListarAnxListadoCompraElectronicaTO([]),n.toastr.warning(e.operacionMensaje,f.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,n)})},e.prototype.imprimirRideRetencionesEmitidas=function(e,t,a){var n=this;this.archivoService.postPDF("todocompuWS/anexosWebController/generarRideRetencionesElectronicasEmitidas",e,a).then(function(e){e._body.byteLength>0?n.utilService.descargarArchivoPDF("RideVentasRetencionesEmitidas.pdf",e):n.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return n.utilService.handleError(e,n)})},e.prototype.formatearImprimirVentasIndividual=function(e){var t=Array();return e.forEach(function(e){var a=new Kt;a.compPeriodo=e.compPeriodo,a.compMotivo=e.compMotivo,a.compNumero=e.compNumero,a.compProveedorRazonSocial=e.compProveedorRazonSocial,a.compRetencionNumero=e.compRetencionNumero,a.compRetencionFechaEmision=e.compRetencionFechaEmision,a.compAutorizacionNumero=e.compAutorizacionNumero,a.compAutorizacionFecha=e.compAutorizacionFecha,a.emailEnviado=e.emailEnviado,t.push(a)}),t},e.prototype.generarColumnas=function(){return[{headerName:"",field:"",headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0,width:40,minWidth:40},{headerName:f.a.TAG_PERIODO,field:"compPeriodo",width:60,minWidth:60},{headerName:f.a.TAG_MOTIVO,field:"compMotivo",width:60,minWidth:60},{headerName:f.a.TAG_NUMERO,field:"compNumero",width:60,minWidth:60},{headerName:f.a.TAG_RET_NUMERO,field:"compRetencionNumero",width:120,minWidth:120,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_RETENCION_NUMERO,text:f.a.TAG_RET_NUMERO}},{headerName:f.a.TAG_RET_FECHA,field:"compRetencionFechaEmision",width:80,minWidth:80,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_RETENCION_FECHA,text:f.a.TAG_RET_FECHA}},{headerName:f.a.TAG_PROVEEDOR,field:"compProveedorRazonSocial",width:300,minWidth:250},{headerName:f.a.TAG_FECHA_HORA_AUT,field:"compAutorizacionFecha",width:100,minWidth:100,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_FECHA_HORA_AUTORIZACION,text:f.a.TAG_FECHA_HORA_AUT}}]},e=$t([Object(n.Injectable)({providedIn:"root"}),Zt("design:paramtypes",[p.a,h.a,m.b,ie.a])],e)}(),Qt=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ea=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ta=function(){function e(e,t,a,n,i,o,r,s,c){this.filasService=e,this.sistemaService=t,this.utilService=a,this.route=n,this.toastr=i,this.atajoService=o,this.archivoService=r,this.retencionesEmitidasService=s,this.api=c,this.listaResultadoRetencionesEmitidas=[],this.listaEmpresas=[],this.constantes=f.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new A.a,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.accion=null,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){ne.locale("es"),this.constantes=f.a,this.es=this.utilService.setLocaleDate(),this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesEmitidas,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.obtenerFechaInicioActualMes(),this.generarAtajosTeclado(),this.iniciarAgGrid()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarRetencionesEmitidas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarRetencionesEmitidas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirRetencionesEmitidas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarRetencionesEmitidas");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.obtenerFechaInicioActualMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.listaResultadoRetencionesEmitidas=[],this.filasService.actualizarFilas("0","0")},e.prototype.buscarRetencionesEmitidas=function(e){this.limpiarResultado(),this.cargando=!0;var t=this.utilService.establecerFormularioTocado(e);if(e&&e.valid&&t){var a={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta),estado:f.a.TAG_AUTORIZADO};this.filasTiempo.iniciarContador(),this.retencionesEmitidasService.listarAnxListadoCompraElectronicaTO(a,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnxListadoCompraElectronicaTO=function(e){this.listaResultadoRetencionesEmitidas=e,this.cargando=!1,this.filasTiempo.finalizarContador()},e.prototype.imprimirRetencionesEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),listado:this.listaResultadoRetencionesEmitidas};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteRetencionesEmitidas",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("RetencionesEmitidas.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRetencionesEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),listado:this.listaResultadoRetencionesEmitidas};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarRetencionesEmitidas",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"RetencionesEmitidas_"):e.toastr.warning(f.a.MSJ_ERROR_EXPORTAR,f.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this)&&!this.accion,a=this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this)&&!this.accion,n=this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this)&&!this.accion;this.opciones=[{label:f.a.ACCION_IMPRIMIR_RIDE,icon:f.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirRideRetencionesEmitidasIndividual():null}},{label:f.a.ACCION_GENERAR_XML,icon:f.a.ICON_EXPORTAR,disabled:!a,command:function(){return a?e.exportarXmlRetencionesEmitidas():null}},{label:f.a.ACCION_ENVIAR_CORREO,icon:f.a.ICON_CORREO,disabled:!n,command:function(){return n?e.enviarCorreoRetencionesEmitidas():null}}]},e.prototype.imprimirRideRetencionesEmitidasIndividual=function(){if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e=this.retencionSeleccionada,t={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaCompraElectronicaTO:[e]};this.retencionesEmitidasService.imprimirRideRetencionesEmitidas(t,this,this.empresaSeleccionada)}},e.prototype.imprimirRideRetencionesEmitidas=function(){if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e=this.utilService.getAGSelectedData(this.gridApi),t=this.retencionesEmitidasService.formatearImprimirVentasIndividual(e);if(0===t.length)this.toastr.info(f.a.MSJ_NO_ITEM_SELECCIONADO,f.a.TOAST_INFORMACION),this.cargando=!1;else{var a={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaCompraElectronicaTO:t};this.retencionesEmitidasService.imprimirRideRetencionesEmitidas(a,this,this.empresaSeleccionada)}}},e.prototype.exportarXmlRetencionesEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t=this.retencionSeleccionada,a={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaCompraElectronicaTO:[t]};this.archivoService.postZip("todocompuWS/anexosWebController/exportarXmlRetencionesElectronicasEmitidas",a,f.a.KEY_EMPRESA_SELECT).then(function(t){t?e.utilService.descargarZip(t._body,"RetencionesElectronicasEmitidas_"):e.toastr.warning(f.a.MSJ_ERROR_EXPORTAR,f.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.enviarCorreoRetencionesEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t=this.retencionSeleccionada,a={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaCompraElectronicaTO:[t]};this.api.post("todocompuWS/anexosWebController/enviarPorCorreoXmlRetencionesElectronicasEmitidas",a,f.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?e.toastr.warning("Correo del receptor no registrado."):e.toastr.success("Se ha enviado correctamente su correo."),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesEmitidasService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="multiple",this.context={componentParent:this},this.components={},this.frameworkComponents={toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimencionarColumnas()},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.retencionSeleccionada=t?t.data:null},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.retencionSeleccionada=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Qt([Object(n.ViewChild)("menuOpciones"),ea("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Qt([Object(n.HostListener)("window:resize",["$event"]),ea("design:type",Function),ea("design:paramtypes",[]),ea("design:returntype",void 0)],e.prototype,"onResize",null),e=Qt([Object(n.Component)({selector:"app-retenciones-emitidas",template:a("PQhe"),styles:[a("W3U+")]}),ea("design:paramtypes",[g.a,i.a,h.a,o.ActivatedRoute,m.b,H.HotkeysService,ie.a,qt,p.a])],e)}(),aa=function(){function e(e){this.tipoComprobante="",this.ambiente="",this.razonSocialEmisor="",this.rucEmisor="",this.estado="",this.numeroDocumento="",this.fechaEmision="",this.fechaAutorizacion="",this.totalComprobante="",this.numeroAutorizacion="",this.codigoDocumento="",this.respuestaComprobante="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.tipoComprobante=e.tipoComprobante?e.tipoComprobante:this.tipoComprobante,this.ambiente=e.ambiente?e.ambiente:this.ambiente,this.razonSocialEmisor=e.razonSocialEmisor?e.razonSocialEmisor:this.razonSocialEmisor,this.rucEmisor=e.rucEmisor?e.rucEmisor:this.rucEmisor,this.estado=e.estado?e.estado:this.estado,this.numeroDocumento=e.numeroDocumento?e.numeroDocumento:this.numeroDocumento,this.fechaEmision=e.fechaEmision?e.fechaEmision:this.fechaEmision,this.fechaAutorizacion=e.fechaAutorizacion?e.fechaAutorizacion:this.fechaAutorizacion,this.totalComprobante=e.totalComprobante?e.totalComprobante:this.totalComprobante,this.numeroAutorizacion=e.numeroAutorizacion?e.numeroAutorizacion:this.numeroAutorizacion,this.codigoDocumento=e.codigoDocumento?e.codigoDocumento:this.codigoDocumento,this.respuestaComprobante=e.respuestaComprobante?e.respuestaComprobante:this.respuestaComprobante},e}(),na=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ia=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},oa=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAutorizadocionComprobantesE=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAutorizadocionComprobantes",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAutorizadocionComprobantes([]),t.cargando=!1,t.vistaFormulario=!1):t.despuesDeListarAutorizadocionComprobantes(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAutorizadocionComprobantes([]),t.cargando=!1,t.vistaFormulario=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e=na([Object(n.Injectable)({providedIn:"root"}),ia("design:paramtypes",[p.a,m.b,h.a])],e)}(),ra=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},sa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ca=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.utilService=a,this.filasService=n,this.comprobanteElectronicoService=i,this.api=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.validezComprobante=new aa,this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.screamXS=!0,this.codigoAcceso=null,this.vistaFormulario=!1,this.validezComprobante=new aa}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.consultarValidezComprobanteElectronico,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirXmlAutorizacionElectronica");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarXmlAutorizacionElectronica");return e&&e.click(),!1}))},e.prototype.limpiarResultado=function(){this.validezComprobante=null,this.filasService.actualizarFilas("0","0"),this.vistaFormulario=!1},e.prototype.buscaValidezComprobanteElectronico=function(e){if(e&&e.valid){this.limpiarResultado();var t={tipoAmbiente:"2",claveAcceso:this.codigoAcceso};this.cargando=!0,this.filasTiempo.iniciarContador(),this.comprobanteElectronicoService.obtenerAutorizadocionComprobantesE(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAutorizadocionComprobantes=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,49!=this.codigoAcceso.length?this.vistaFormulario=!1:(this.vistaFormulario=!0,this.validezComprobante=e)},e.prototype.imprimirXmlAutorizacionElectronica=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cargando=!0;var t={empresa:"ANG",tipoAmbiente:"2",claveAcceso:this.codigoAcceso};this.archivoService.postPDF("todocompuWS/anexosWebController/generarXmlAutorizacionComprobantes",t,f.a.KEY_EMPRESA_SELECT).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("XmlAutorizacionElectronica.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarXmlAutorizacionElectronica=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={tipoAmbiente:"2",claveAcceso:this.codigoAcceso};this.api.post("todocompuWS/anexosWebController/exportarXmlAutorizacionComprobantes",t,f.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?e.utilService.descargarArchivoXml(t.extraInfo,"XmlAutorizacionElectronica_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.cancelarAccion=function(){this.limpiarResultado(),this.codigoAcceso=null},e=ra([Object(n.Component)({selector:"app-validez-comprobante-electronico",template:a("Nc+Y"),styles:[a("Dztz")]}),sa("design:paramtypes",[o.ActivatedRoute,m.b,h.a,g.a,oa,p.a,ie.a,H.HotkeysService])],e)}(),la=function(){function e(e){this.retSustentoTributario="",this.retProveedorTipo="",this.retProveedorId="",this.retProveedorNombre="",this.retProveedorDireccion="",this.retProveedorCiudad="",this.retProveedorRelacionado="",this.retDocumentoTipo="",this.retDocumentoNombre="",this.retDocumentoAutorizacion="",this.retDocumentoNumero="",this.retCompraFecha="",this.retCompraBase0=0,this.retCompraBaseImponible=0,this.retCompraBaseExenta=0,this.retCompraMontoIce=0,this.retIvavigente=0,this.retCompraMontoIva=0,this.retRetencionAutorizacion=0,this.retRetencionNumero=0,this.retRetencionFecha=0,this.retValorRetenidoIr=0,this.retValorBienes10=0,this.retValorBienes30=0,this.retValorServicios50=0,this.retValorServicios70=0,this.retValorServiciosProfesionales=0,this.retValorRetenidoIva=0,this.retTotalRetenido=0,this.retModificadoDocumentoTipo="",this.retModificadoDocumentonumero="",this.retModificadoAutorizacion="",this.retLlaveCompra="",this.retLlaveContable="",e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.retSustentoTributario=e.retSustentoTributario?e.retSustentoTributario:this.retSustentoTributario,this.retProveedorTipo=e.retProveedorTipo?e.retProveedorTipo:this.retProveedorTipo,this.retProveedorId=e.retProveedorId?e.retProveedorId:this.retProveedorId,this.retProveedorNombre=e.retProveedorNombre?e.retProveedorNombre:this.retProveedorNombre,this.retProveedorDireccion=e.retProveedorDireccion?e.retProveedorDireccion:this.retProveedorDireccion,this.retProveedorRelacionado=e.retProveedorRelacionado?e.retProveedorRelacionado:this.retProveedorRelacionado,this.retDocumentoTipo=e.retDocumentoTipo?e.retDocumentoTipo:this.retDocumentoTipo,this.retDocumentoNombre=e.retDocumentoNombre?e.retDocumentoNombre:this.retDocumentoNombre,this.retDocumentoAutorizacion=e.retDocumentoAutorizacion?e.retDocumentoAutorizacion:this.retDocumentoAutorizacion,this.retDocumentoNumero=e.retDocumentoNumero?e.retDocumentoNumero:this.retDocumentoNumero,this.retCompraFecha=e.retCompraFecha?e.retCompraFecha:this.retCompraFecha,this.retCompraBase0=e.retCompraBase0?e.retCompraBase0:this.retCompraBase0,this.retCompraBaseImponible=e.retCompraBaseImponible?e.retCompraBaseImponible:this.retCompraBaseImponible,this.retRetencionAutorizacion=e.retRetencionAutorizacion?e.retRetencionAutorizacion:this.retRetencionAutorizacion,this.retRetencionNumero=e.retRetencionNumero?e.retRetencionNumero:this.retRetencionNumero,this.retRetencionFecha=e.retRetencionFecha?e.retRetencionFecha:this.retRetencionFecha,this.retValorRetenidoIr=e.retValorRetenidoIr?e.retValorRetenidoIr:this.retValorRetenidoIr,this.retLlaveCompra=e.retLlaveCompra?e.retLlaveCompra:this.retLlaveCompra,this.retLlaveContable=e.retLlaveContable?e.retLlaveContable:this.retLlaveContable},e}(),da=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ua=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pa=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaRetencionesTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoListaRetencionesTO",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaRetencionesTO([]),t.cargando=!1):t.despuesDeListarAnexoListaRetencionesTO(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaRetencionesTO([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUSTENTO_TRIBUTARIO,field:"retSustentoTributario",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_N_IDENTIFICACION,field:"retProveedorId",width:150,minWidth:150,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_NUMERO_IDENTIFICACION,text:f.a.TAG_N_IDENTIFICACION},cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_PROVEEDOR,field:"retProveedorNombre",width:600,minWidth:300,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-left tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NOMBRE,field:"retDocumentoNombre",width:300,minWidth:200,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_DOCUMENTO_NUMERO,field:"retDocumentoNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_FECHA,field:"retCompraFecha",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_COMPRA_BASE_CERO,field:"retCompraBase0",width:200,minWidth:100,valueFormatter:ma,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_COMPRA_BASE_IMPONIBLE,field:"retCompraBaseImponible",width:200,minWidth:100,valueFormatter:ma,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_C_IVA_VIGENTE,field:"retIvavigente",width:200,minWidth:100,valueFormatter:ma,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPRA_IVA_VIGENTE,text:f.a.TAG_C_IVA_VIGENTE},cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_COMPRA_MONTO_IVA,field:"retCompraMontoIva",width:200,minWidth:100,valueFormatter:ma,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_RETENCION_AUTORIZACION,field:"retRetencionAutorizacion",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_NUMERO,field:"retRetencionNumero",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_RETENCION_FECHA,field:"retRetencionFecha",width:200,minWidth:100,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":" "}},{headerName:f.a.TAG_VALOR_RET_IR,field:"retValorRetenidoIr",width:200,minWidth:100,valueFormatter:ma,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IR,text:f.a.TAG_VALOR_RET_IR}},{headerName:f.a.TAG_VALOR_RETENIDO_IVA,field:"retValorRetenidoIva",width:200,minWidth:100,valueFormatter:ma,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_TOTAL_RETENIDO,field:"retTotalRetenido",width:200,minWidth:100,valueFormatter:ma,cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},this.utilService.getColumnaOpciones()]},e=da([Object(n.Injectable)({providedIn:"root"}),ua("design:paramtypes",[p.a,m.b,h.a])],e)}();function ma(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var ha=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},fa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},va=function(){function e(e,t,a,n,i,o,r){this.route=e,this.toastr=t,this.filasService=a,this.utilService=n,this.sistemaService=i,this.archivoService=o,this.retencionesRentaListadoSimple=r,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filtroMenu=new la,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.fechaActual=new Date,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesComprasListadoSimple,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate()},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.listaDeRetencionesListadoSimple=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesRentaListadoSimple.obtenerAnexoListaRetencionesTO(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaRetencionesTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.imprimirReporteAnexoListaRetencionesTO=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaRetencionesTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteAnexoListaRetencionesTO",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesRenta.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteAnexoListaRetencionesTO=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaRetencionesTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteAnexoListaRetencionesTO",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoListaRetenciones_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesRentaListadoSimple.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Le.a,toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){this.opciones=[{label:f.a.ACCION_CONSULTAR_COMPRA,icon:f.a.ICON_CONSULTAR,disabled:!0}]},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},ha([Object(n.ViewChild)("menuOpciones"),fa("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),ha([Object(n.HostListener)("window:resize",["$event"]),fa("design:type",Function),fa("design:paramtypes",[]),fa("design:returntype",void 0)],e.prototype,"onResize",null),e=ha([Object(n.Component)({selector:"app-retenciones-renta-compras-listado-simple",template:a("SVOd"),styles:[a("j7OV")]}),fa("design:paramtypes",[o.ActivatedRoute,m.b,g.a,h.a,i.a,ie.a,pa])],e)}(),Ca=function(){function e(e){this.vtaPeriodo="",this.vtaMotivo="",this.vtaNumero="",this.vtaDocumento_tipo="",this.vtaFecha="",this.vtaClienteRazonSocial="",this.vtaAutorizacionFecha="",this.vtaAutorizacionNumero="",this.vtaDocumentoNumero="",this.email=!1,this.emailEnviado=!1,this.emailEntregado=!1,this.emailLeido=!1,this.emailRebotado=!1,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.vtaPeriodo=e.vtaPeriodo?e.vtaPeriodo:this.vtaPeriodo,this.vtaMotivo=e.vtaMotivo?e.vtaMotivo:this.vtaMotivo,this.vtaNumero=e.vtaNumero?e.vtaNumero:this.vtaNumero,this.vtaClienteRazonSocial=e.vtaClienteRazonSocial?e.vtaClienteRazonSocial:this.vtaClienteRazonSocial,this.vtaDocumento_tipo=e.vtaDocumento_tipo?e.vtaDocumento_tipo:this.vtaDocumento_tipo,this.vtaDocumentoNumero=e.vtaDocumentoNumero?e.vtaDocumentoNumero:this.vtaDocumentoNumero,this.vtaFecha=e.vtaFecha?e.vtaFecha:this.vtaFecha,this.vtaAutorizacionFecha=e.vtaAutorizacionFecha?e.vtaAutorizacionFecha:this.vtaAutorizacionFecha,this.vtaAutorizacionNumero=e.vtaAutorizacionNumero?e.vtaAutorizacionNumero:this.vtaAutorizacionNumero,this.emailEnviado=e.emailEnviado?e.emailEnviado:this.emailEnviado},e}(),ba=function(){function e(e){this.vtaPeriodo="",this.vtaMotivo="",this.vtaNumero="",this.vtaDocumento_tipo="",this.vtaFecha="",this.vtaClienteRazonSocial="",this.vtaAutorizacionFecha="",this.vtaAutorizacionNumero="",this.vtaDocumentoNumero="",this.emailEnviado=!1,e&&this.hydrate(e)}return e.prototype.hydrate=function(e){this.vtaPeriodo=e.vtaPeriodo?e.vtaPeriodo:this.vtaPeriodo,this.vtaMotivo=e.vtaMotivo?e.vtaMotivo:this.vtaMotivo,this.vtaNumero=e.vtaNumero?e.vtaNumero:this.vtaNumero,this.vtaClienteRazonSocial=e.vtaClienteRazonSocial?e.vtaClienteRazonSocial:this.vtaClienteRazonSocial,this.vtaDocumento_tipo=e.vtaDocumento_tipo?e.vtaDocumento_tipo:this.vtaDocumento_tipo,this.vtaDocumentoNumero=e.vtaDocumentoNumero?e.vtaDocumentoNumero:this.vtaDocumentoNumero,this.vtaFecha=e.vtaFecha?e.vtaFecha:this.vtaFecha,this.vtaAutorizacionFecha=e.vtaAutorizacionFecha?e.vtaAutorizacionFecha:this.vtaAutorizacionFecha,this.vtaAutorizacionNumero=e.vtaAutorizacionNumero?e.vtaAutorizacionNumero:this.vtaAutorizacionNumero,this.emailEnviado=e.emailEnviado?e.emailEnviado:this.emailEnviado},e}(),ga=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Aa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ra=function(){function e(e,t,a,n){this.api=e,this.utilService=t,this.toastr=a,this.archivoService=n}return e.prototype.listarAnxListadoVentasElectronicasEmitidasTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getListaAnxVentaElectronicaTO",e,a).then(function(e){e&&e.extraInfo?t.despuesDeListarAnxVentasElectronicasEmitidasTO(e.extraInfo):(t.despuesDeListarAnxVentasElectronicasEmitidasTO([]),n.toastr.warning(e.operacionMensaje,f.a.TAG_AVISO),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,n)})},e.prototype.imprimirRideVentasElectronicasEmitidas=function(e,t,a){var n=this;this.archivoService.postPDF("todocompuWS/anexosWebController/generarRideVentasElectronicasEmitidas",e,a).then(function(e){e._body.byteLength>0?n.utilService.descargarArchivoPDF("RideVentasElectronicasEmitidas.pdf",e):n.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.TAG_AVISO),t.cargando=!1}).catch(function(e){return n.utilService.handleError(e,n)})},e.prototype.formatearImprimirVentasIndividual=function(e){var t=Array();return e.forEach(function(e){var a=new ba;a.vtaClienteRazonSocial=e.vtaClienteRazonSocial,a.vtaPeriodo=e.vtaPeriodo,a.vtaMotivo=e.vtaMotivo,a.vtaNumero=e.vtaNumero,a.vtaDocumento_tipo=e.vtaDocumento_tipo,a.vtaDocumentoNumero=e.vtaDocumentoNumero,a.vtaFecha=e.vtaFecha,a.vtaAutorizacionNumero=e.vtaAutorizacionNumero,a.vtaAutorizacionFecha=e.vtaAutorizacionFecha,a.emailEnviado=e.emailEnviado,t.push(a)}),t},e.prototype.generarColumnas=function(){return[{headerName:"",field:"",headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0,width:40,minWidth:40},{headerName:f.a.TAG_PERIODO,field:"vtaPeriodo",width:150,minWidth:100},{headerName:f.a.TAG_MOTIVO,field:"vtaMotivo",width:80,minWidth:80},{headerName:f.a.TAG_NUMERO,field:"vtaNumero",width:100,minWidth:100},{headerName:f.a.TAG_NUMERO_DOCUMENTO,field:"vtaDocumentoNumero",width:150,minWidth:150},{headerName:f.a.TAG_VENTA_FECHA,field:"vtaFecha",width:150,minWidth:150},{headerName:f.a.TAG_CLIENTE,field:"vtaClienteRazonSocial",width:300,minWidth:200},{headerName:f.a.TAG_FECHA_HORA_AUTORIZACION,field:"vtaAutorizacionFecha",width:200,minWidth:200},{headerName:f.a.TAG_EMAIL,headerClass:"cell-header-center",field:"email",width:80,minWidth:80,cellRenderer:"inputEstado",cellClass:"text-center"},{headerName:f.a.TAG_ENVIADO,headerClass:"cell-header-center",field:"emailEnviado",width:80,minWidth:80,cellRenderer:"inputEstado",cellClass:"text-center"},{headerName:f.a.TAG_ENTREGADO,headerClass:"cell-header-center",field:"emailEntregado",width:100,minWidth:100,cellRenderer:"inputEstado",cellClass:"text-center"},{headerName:f.a.TAG_LEIDO,headerClass:"cell-header-center",field:"emailLeido",width:80,minWidth:80,cellRenderer:"inputEstado",cellClass:"text-center"},{headerName:f.a.TAG_REBOTADO,headerClass:"cell-header-center",field:"emailRebotado",width:100,minWidth:100,cellRenderer:"inputEstado",cellClass:"text-center"},this.utilService.getColumnaOpciones()]},e=ga([Object(n.Injectable)({providedIn:"root"}),Aa("design:paramtypes",[p.a,h.a,m.b,ie.a])],e)}(),Ia=a("WCSX"),Sa=a("+JJ7"),Oa=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ta=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ea=function(){function e(e,t,a,n,i,o,r,s,c){this.filasService=e,this.sistemaService=t,this.utilService=a,this.route=n,this.toastr=i,this.atajoService=o,this.archivoService=r,this.retencionesVentasElectronicas=s,this.api=c,this.listaResultado=[],this.listaEmpresas=[],this.constantes=f.a,this.cargando=!1,this.activar=!1,this.filasTiempo=new A.a,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.es={},this.listaDocumento=f.a.LISTA_DOCUMENTO,this.estadoSeleccionado="",this.ventas=new Ca,this.objetoSeleccionado=[],this.accion=null,this.parametrosFormulario={},this.tipoDocumento="",this.vistaFormulario=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){ne.locale("es"),this.constantes=f.a,this.es=this.utilService.setLocaleDate(),this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.ventasElectronicasEmitidas,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.obtenerFechaInicioActualMes(),this.estadoSeleccionado=this.listaDocumento[0],this.generarAtajosTeclado(),this.generarOpciones(),this.ventas.vtaDocumento_tipo=f.a.TIPO_DOCUMENTO_TODOS,this.iniciarAgGrid()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarVentasElectronicas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscarVentasElectronicas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirVentasElectronicasEmitidas");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarVentasElectronicas");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado()},e.prototype.obtenerFechaInicioActualMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaDesde=t[0],e.fechaHasta=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0"),this.objetoSeleccionado=null},e.prototype.listaDeVentasElectronicasEmitidas=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,tipoDocumento:this.ventas.vtaDocumento_tipo,estado:f.a.TAG_AUTORIZADO,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesVentasElectronicas.listarAnxListadoVentasElectronicasEmitidasTO(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnxVentasElectronicasEmitidasTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.imprimirVentasElectronicasEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),listado:this.listaResultado};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteVentasElectronicasEmitidas",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("VentasElectronicasEmitidas.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarVentasElectronicasEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaHasta),listado:this.listaResultado};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarVentasElectronicasEmitidas",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"VentasElectronicasEmitidas_"):e.toastr.warning(f.a.MSJ_ERROR_EXPORTAR,f.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.generarOpciones=function(){var e=this,t=this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this)&&!this.accion,a=this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this)&&!this.accion,n=this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this)&&!this.accion;this.opciones=[{label:f.a.ACCION_CONSULTAR_VENTAS,icon:f.a.ICON_CONSULTAR,disabled:!1,command:function(){return e.mostrarConsultaVentas()}},{label:f.a.ACCION_IMPRIMIR_RIDE,icon:f.a.ICON_IMPRIMIR,disabled:!t,command:function(){return t?e.imprimirRideVentasElectronicasEmitidasIndividual():null}},{label:f.a.ACCION_GENERAR_XML,icon:f.a.ICON_EXPORTAR,disabled:!a,command:function(){return a?e.exportarXmlVentasElectronicasEmitidas():null}},{label:f.a.ACCION_ENVIAR_CORREO,icon:f.a.ICON_CORREO,disabled:!n,command:function(){return n?e.enviarCorreoVentasElectronicasEmitidas():null}}]},e.prototype.imprimirRideVentasElectronicasEmitidasIndividual=function(){if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e=this.objetoSeleccionado,t={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaVentaElectronicaTO:[e]};this.retencionesVentasElectronicas.imprimirRideVentasElectronicasEmitidas(t,this,this.empresaSeleccionada)}},e.prototype.imprimirRideVentasElectronicasEmitidas=function(){if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e=this.utilService.getAGSelectedData(this.gridApi),t=this.retencionesVentasElectronicas.formatearImprimirVentasIndividual(e);if(0===t.length)this.toastr.info(f.a.MSJ_NO_ITEM_SELECCIONADO,f.a.TOAST_INFORMACION),this.cargando=!1;else{var a={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaVentaElectronicaTO:t};this.retencionesVentasElectronicas.imprimirRideVentasElectronicasEmitidas(a,this,this.empresaSeleccionada)}}},e.prototype.exportarXmlVentasElectronicasEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t=this.objetoSeleccionado,a={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaVentaElectronicaTO:[t]};this.archivoService.postZip("todocompuWS/anexosWebController/exportarXmlVentasElectronicasEmitidas",a,f.a.KEY_EMPRESA_SELECT).then(function(t){t?e.utilService.descargarZip(t._body,"VentasElectronicasEmitidas_"):e.toastr.warning(f.a.MSJ_ERROR_EXPORTAR,f.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.enviarCorreoVentasElectronicasEmitidas=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t=this.objetoSeleccionado,a={empresa:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaVentaElectronicaTO:[t]};this.api.post("todocompuWS/anexosWebController/enviarPorCorreoXmlVentasElectronicasEmitidas",a,f.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?e.toastr.success("Se ha enviado correctamente su correo."):e.toastr.warning("El correo no se ha podido enviar correctamente."),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesVentasElectronicas.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="multiple",this.context={componentParent:this},this.components={},this.frameworkComponents={toolTip:oe.a,inputEstado:Sa.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila(),this.redimencionarColumnas()},e.prototype.filaFocused=function(e){var t=this.gridApi?this.gridApi.getRowNode(e.rowIndex):null;this.retencionSeleccionada=t?t.data:null},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.refreshGrid=function(){var e=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){e.actualizarFilas()},50)},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.objetoSeleccionado=e,this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},e.prototype.mostrarConsultaVentas=function(){this.tipoDocumento=this.retencionSeleccionada.vtaDocumento_tipo,this.parametrosFormulario.accion=f.a.ACCION_CONSULTAR,this.parametrosFormulario.seleccionado=this.armarObjetoConsultaVentas(),this.vistaFormulario=!0,this.activar=!0},e.prototype.armarObjetoConsultaVentas=function(){var e=new Ia.a(this.retencionSeleccionada);return e.vtaDocumentoTipo=this.retencionSeleccionada.vtaDocumento_tipo,e.vtaNumero=null,e},e.prototype.ejecutarAccion=function(e){this.vistaFormulario=!1,this.activar=!1},Oa([Object(n.ViewChild)("menuOpciones"),Ta("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Oa([Object(n.HostListener)("window:resize",["$event"]),Ta("design:type",Function),Ta("design:paramtypes",[]),Ta("design:returntype",void 0)],e.prototype,"onResize",null),e=Oa([Object(n.Component)({selector:"app-ventas-electronicas-emitidas",template:a("QUvz"),styles:[a("Ua30")]}),Ta("design:paramtypes",[g.a,i.a,h.a,o.ActivatedRoute,m.b,H.HotkeysService,ie.a,Ra,p.a])],e)}(),_a=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},ya=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pa=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnexoListaRetencionesPorNumeroTO=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getAnexoFunListadoRetencionesPorNumero",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnexoListaRetencionesPorNumeroTO([]),t.cargando=!1):t.despuesDeListarAnexoListaRetencionesPorNumeroTO(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnexoListaRetencionesPorNumeroTO([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_SUST_T,field:"retSustentoTributario",width:80,minWidth:80,cellClass:function(e){return e.data.retProveedorId?" ":"tr-negrita textoMayuscula"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_SUSTENTO_TRIBUTARIO,text:f.a.TAG_SUST_T}},{headerName:f.a.TAG_PROVEEDOR,field:"retProveedorNombre",width:300,minWidth:200,cellClass:function(e){return e.data.retProveedorNombre===f.a.TAG_TOTALES?"tr-negrita textoMayuscula":" "}},{headerName:f.a.TAG_DOCUMENTO_NOMBRE,field:"retDocumentoNombre",width:150,minWidth:150,cellClass:function(e){return e.data.retProveedorId?" ":" text-whitespace text-right tr-negrita"}},{headerName:f.a.TAG_DOCUMENTO_NUMERO,field:"retDocumentoNumero",width:150,minWidth:150,cellClass:function(e){return e.data.retProveedorId?" ":" text-whitespace text-right tr-negrita"}},{headerName:f.a.TAG_COMPRA_FECHA,field:"retCompraFecha",width:120,minWidth:120,cellClass:function(e){return e.data.retProveedorId?" ":" text-whitespace text-right tr-negrita"}},{headerName:f.a.TAG_COMPRA_B_CERO,field:"retCompraBase0",width:200,minWidth:100,valueFormatter:Da,cellClass:function(e){return e.data.retProveedorId?"text-whitespace text-right":" text-whitespace text-right tr-negrita"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPRA_BASE_CERO,text:f.a.TAG_COMPRA_B_CERO}},{headerName:f.a.TAG_COMPRA_B_IMPONIBLE,field:"retCompraBaseImponible",width:200,minWidth:100,valueFormatter:Da,cellClass:function(e){return e.data.retProveedorId?"text-whitespace text-right":" text-whitespace text-right tr-negrita"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPRA_BASE_IMPONIBLE,text:f.a.TAG_COMPRA_B_IMPONIBLE}},{headerName:f.a.TAG_COMPRA_MONT_IVA,field:"retCompraMontoIva",width:200,minWidth:100,valueFormatter:Da,cellClass:function(e){return e.data.retProveedorId?"text-whitespace text-right":" text-whitespace text-right tr-negrita"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_COMPRA_MONTO_IVA,text:f.a.TAG_COMPRA_MONT_IVA}},{headerName:f.a.TAG_RET_AUTORIZACION,field:"retRetencionAutorizacion",width:200,minWidth:140,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_RETENCION_AUTORIZACION,text:f.a.TAG_RET_AUTORIZACION}},{headerName:f.a.TAG_RETENCION_NUMERO,field:"retRetencionNumero",width:200,minWidth:150},{headerName:f.a.TAG_RETENCION_FECHA,field:"retRetencionFecha",width:200,minWidth:150},{headerName:f.a.TAG_VALOR_RET_IR,field:"retValorRetenidoIr",width:100,minWidth:100,valueFormatter:Da,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IR,text:f.a.TAG_VALOR_RET_IR},cellClass:function(e){return e.data.retProveedorId?"text-whitespace text-right":" text-whitespace text-right tr-negrita"}},{headerName:f.a.TAG_V_RETENIDO_IVA,field:"retValorRetenidoIva",width:200,minWidth:100,valueFormatter:Da,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_VALOR_RETENIDO_IVA,text:f.a.TAG_V_RETENIDO_IVA},cellClass:function(e){return null===e.data.retProveedorId?" text-whitespace text-right tr-negrita":"text-whitespace text-right"}},{headerName:f.a.TAG_T_RETENIDO,field:"retTotalRetenido",width:200,minWidth:100,valueFormatter:Da,headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:f.a.TAG_TOTAL_RETENIDO,text:f.a.TAG_T_RETENIDO},cellClass:function(e){return e.data.retProveedorId?"text-whitespace text-right":" text-whitespace text-right tr-negrita"}},this.utilService.getColumnaOpciones()]},e=_a([Object(n.Injectable)({providedIn:"root"}),ya("design:paramtypes",[p.a,m.b,h.a])],e)}();function Da(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Na=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ma=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xa=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.filasService=a,this.utilService=n,this.sistemaService=i,this.archivoService=o,this.retencionesRentaVerificarSecuencia=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filtroMenu=new la,this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.listaEstado=f.a.LISTA_ESTADO,this.estadoSeleccionado="",this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.retencionesComprasVerificarSecuencia,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.estadoSeleccionado=this.listaEstado[0],this.generarAtajosTeclado()},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioActualMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.listaDeRetencionesVerificarSecuencia=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),parametroEstado:this.estadoSeleccionado};this.cargando=!0,this.filasTiempo.iniciarContador(),this.retencionesRentaVerificarSecuencia.obtenerAnexoListaRetencionesPorNumeroTO(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnexoListaRetencionesPorNumeroTO=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnRetencionesComprasVerificarSec");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirReporteAnexoListaRetencionesPorNumeroTO");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnReporteAnexoListaRetencionesPorNumeroTO");return e&&e.click(),!1}))},e.prototype.imprimirReporteAnexoListaRetencionesPorNumeroTO=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaRetencionesTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteListadoRetencionesPorNumero",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoRetencionesRentaPorNumero.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarReporteAnexoListaRetencionesPorNumeroTO=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxListaRetencionesTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarReporteAnexoListaRetencionesPorNumeroTO",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"ListadoRetencionesPorNumero_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.retencionesRentaVerificarSecuencia.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Le.a,toolTip:oe.a},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.mostrarOpciones=function(e,t){this.mostrarContextMenu(t,e)},e.prototype.mostrarContextMenu=function(e,t){this.generarOpciones(),this.menuOpciones.show(t),t.stopPropagation()},e.prototype.generarOpciones=function(){this.opciones=[{label:f.a.ACCION_CONSULTAR_COMPRA,icon:f.a.ICON_CONSULTAR,disabled:!0}]},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Na([Object(n.ViewChild)("menuOpciones"),Ma("design:type",we.ContextMenu)],e.prototype,"menuOpciones",void 0),Na([Object(n.HostListener)("window:resize",["$event"]),Ma("design:type",Function),Ma("design:paramtypes",[]),Ma("design:returntype",void 0)],e.prototype,"onResize",null),e=Na([Object(n.Component)({selector:"app-retenciones-compras-verificar-secuencia",template:a("Tza2"),styles:[a("ZfsV")]}),Ma("design:paramtypes",[o.ActivatedRoute,m.b,g.a,h.a,i.a,ie.a,Pa,H.HotkeysService])],e)}(),Fa=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},La=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},wa=function(){function e(e,t,a){this.api=e,this.toastr=t,this.utilService=a}return e.prototype.obtenerAnxFunDatosCrediticios=function(e,t,a){var n=this;this.api.post("todocompuWS/anexosWebController/getFunRegistroDatosCrediticiosTOs",e,a).then(function(e){e&&e.extraInfo?1===e.extraInfo.length?(n.toastr.warning(f.a.MSJ_NO_DATA,"Aviso"),t.despuesDeListarAnxFunDatosCrediticios([]),t.cargando=!1):t.despuesDeListarAnxFunDatosCrediticios(e.extraInfo):(n.toastr.warning(e.operacionMensaje,"Aviso"),t.despuesDeListarAnxFunDatosCrediticios([]),t.cargando=!1)}).catch(function(e){return n.utilService.handleError(e,t)})},e.prototype.generarColumnas=function(){return[{headerName:f.a.TAG_CODIGO,field:"cliCodigoDinardap",width:80,minWidth:80},{headerName:f.a.TAG_FECHA_DATOS,field:"cliFechaCorte",width:100,minWidth:100},{headerName:f.a.TAG_TIPO_ID,field:"cliTipoId",width:80,minWidth:80},{headerName:f.a.TAG_ID,field:"cliID",width:100,minWidth:100},{headerName:f.a.TAG_NOMBRE,field:"cliRazonSocial",width:150,minWidth:150},{headerName:f.a.TAG_IDENTIFICACION,field:"cliClaseSujeto",width:100,minWidth:100},{headerName:f.a.TAG_PROVINCIA,field:"cliProvincia",width:150,minWidth:150},{headerName:f.a.TAG_CIUDAD,field:"cliCiudad",width:150,minWidth:150},{headerName:f.a.TAG_PARROQIA,field:"cliParroquia",width:100,minWidth:100},{headerName:f.a.TAG_SEXO,field:"cliSexo",width:100,minWidth:100},{headerName:f.a.TAG_ESTADO_CIVIL,field:"cliEstadoCivil",width:150,minWidth:150},{headerName:f.a.TAG_ORIGEN_INGRESOS,field:"cliOrigenIngreso",width:150,minWidth:150},{headerName:f.a.TAG_NUMERO_OPERACION,field:"vtaDocumentoNumero",width:180,minWidth:180},{headerName:f.a.TAG_VALOR_OPERACION,field:"vtaTotal",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_SALDO_OPERACION,field:"vtaSaldo",width:100,minWidth:100},{headerName:f.a.TAG_FECHA_CONCESION,field:"vtaFechaConcecion",width:100,minWidth:100},{headerName:f.a.TAG_FECHA_VENCIMIENTO,field:"VtaFechaVencimiento",width:100,minWidth:100},{headerName:f.a.TAG_FECHA_EXIGIBLE,field:"vtaFechaExigible",width:100,minWidth:100},{headerName:f.a.TAG_PLAZO_DECLARACION,field:"vtaPlazoOperacion",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_PERIODICIDAD_PAGO,field:"vtaPeriodicidadPago",width:100,minWidth:100,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_DIAS_MOROSIDAD,field:"vtaDiasMorosidad",width:100,minWidth:100,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_MONTO_MOROSIDAD,field:"vtaMontoMorosidad",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_MONTO_INTERES_MORA,field:"vtaMontoInteresMora",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_POR_VENCER+f.a.TAG_1_30_DIAS,field:"vtaValorPorVencer0130",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_POR_VENCER+f.a.TAG_31_90_DIAS,field:"vtaValorPorVencer3190",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_POR_VENCER+f.a.TAG_91_180_DIAS,field:"vtaValorPorVencer91180",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_POR_VENCER+f.a.TAG_181_360_DIAS,field:"vtaValorporVencer181360",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_VENCIDO_MAS_360_DIAS,field:"vtaValorPorVencerMas360",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_VENCIDO+f.a.TAG_1_30_DIAS,field:"vtaValorVencido0130",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_VENCIDO+f.a.TAG_31_90_DIAS,field:"vtaValorVencido3190",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_VENCIDO+f.a.TAG_91_180_DIAS,field:"vtaValorVencido91180",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_VENCIDO+f.a.TAG_181_360_DIAS,field:"vtaValorVencido181360",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_VENCIDO_MAS_360_DIAS,field:"vtaValorVencidomas360",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_VALOR_DEMANDA_JUDICIAL,field:"vtaValorDemandaJudicial",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_CARTERA_CASTIGADA,field:"vtaCarteraCastigada",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_CUOTA_CREDITO,field:"vtaCuotaCredito",width:100,minWidth:100,valueFormatter:ja,cellClass:"text-whitespace text-right"},{headerName:f.a.TAG_FECHA_CANCELACION,field:"vtaFechaCancelacion",width:100,minWidth:100},{headerName:f.a.TAG_FORMA_CANCELACION,field:"vtaFormaCancelacion",width:100,minWidth:100}]},e=Fa([Object(n.Injectable)({providedIn:"root"}),La("design:paramtypes",[p.a,m.b,h.a])],e)}();function ja(e){return new q.DecimalPipe("en-US").transform(e.value,"1.2-2")}var Ga=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Va=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ua=function(){function e(e,t,a,n,i,o,r,s){this.route=e,this.toastr=t,this.registroDatosCrediticios=a,this.filasService=n,this.utilService=i,this.sistemaService=o,this.archivoService=r,this.atajoService=s,this.cargando=!1,this.listaResultado=[],this.listaEmpresas=[],this.filasTiempo=new A.a,this.accion=null,this.activar=!1,this.classIcon=f.a.ICON_FILTRAR,this.fechaActual=new Date,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.es={},this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return e.prototype.ngOnInit=function(){this.constantes=f.a,this.listaEmpresas=this.route.snapshot.data.generarAnexoRegistroDatosCrediticios,this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS,this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),ne.locale("es"),this.es=this.utilService.setLocaleDate(),this.generarAtajosTeclado()},e.prototype.generarAtajosTeclado=function(){this.atajoService.add(new H.Hotkey(f.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var e=document.getElementById("btnActivarRegistroDatosCrediticios");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_BUSCAR,function(){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_IMPRIMIR,function(){var e=document.getElementById("btnImprimirRegistroDatosCredicitios");return e&&e.click(),!1})),this.atajoService.add(new H.Hotkey(f.a.ATAJO_EXPORTAR,function(){var e=document.getElementById("btnExportarRegistroDatosCredicitios");return e&&e.click(),!1}))},e.prototype.cambiarEmpresaSeleccionada=function(){this.limpiarResultado(),f.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.obtenerFechaInicioFinMes()},e.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},e.prototype.listaRegistroDatosCrediticios=function(e){if(this.filtrarRapido(),e&&e.valid){this.limpiarResultado();var t={codigoEmpresa:this.empresaSeleccionada.empCodigo,fechaDesde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.registroDatosCrediticios.obtenerAnxFunDatosCrediticios(t,this,f.a.KEY_EMPRESA_SELECT)}else this.toastr.error(f.a.MSJ_CAMPOS_INVALIDOS,f.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},e.prototype.despuesDeListarAnxFunDatosCrediticios=function(e){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=e},e.prototype.obtenerFechaInicioFinMes=function(){var e=this;this.sistemaService.getFechaInicioFinMes(this,f.a.KEY_EMPRESA_SELECT).then(function(t){e.fechaInicio=t[0],e.fechaFin=t[1],e.fechaActual=t[1]}).catch(function(t){return e.utilService.handleError(t,e)})},e.prototype.validarFechas=function(e){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(e,this.fechaInicio,this.fechaFin)))},e.prototype.imprimirRegistroDatosCredicitios=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxFunRegistroDatosCrediticiosTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/anexosWebController/generarReporteRegistroDatosCrediticio",t,this.empresaSeleccionada).then(function(t){t._body.byteLength>0?e.utilService.descargarArchivoPDF("listadoDevolucionIvaCompras.pdf",t):e.toastr.warning(f.a.MSJ_ERROR_IMPRIMIR,f.a.MSJ_TITULO_REPORTE),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.exportarRegistroDatosCrediticios=function(){var e=this;if(this.utilService.verificarPermiso(f.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var t={usuarioEmpresaReporteTO:this.empresaSeleccionada?this.empresaSeleccionada.empCodigo:"",listaAnxFunRegistroDatosCrediticiosTO:this.listaResultado,desde:this.utilService.convertirFechaStringYYYYMMDD(this.fechaInicio),hasta:this.utilService.convertirFechaStringYYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/anexosWebController/exportarRegitroDatosCrediticio",t,this.empresaSeleccionada).then(function(t){t?e.utilService.descargarArchivoExcel(t._body,"RegistroDatosCrediticios_"):e.toastr.warning("No se encontraron resultados"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}},e.prototype.iniciarAgGrid=function(){this.columnDefs=this.registroDatosCrediticios.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.components={}},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},e.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},e.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},e.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var e=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,e)}},e.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},e.prototype.onResize=function(){this.screamXS=window.innerWidth<f.a.WINDOW_WIDTH_XS},Ga([Object(n.HostListener)("window:resize",["$event"]),Va("design:type",Function),Va("design:paramtypes",[]),Va("design:returntype",void 0)],e.prototype,"onResize",null),e=Ga([Object(n.Component)({selector:"app-registro-datos-crediticios",template:a("1fiz"),styles:[a("McKB")]}),Va("design:paramtypes",[o.ActivatedRoute,m.b,wa,g.a,h.a,i.a,ie.a,H.HotkeysService])],e)}(),Wa=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ba=[{path:"",component:c,children:[{path:"conceptosRetencion",component:l.a,resolve:{conceptosRetencion:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"configuracionCuentasContables",component:vt,resolve:{configuracionCuentasContables:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"sustentosTributarios",component:S,resolve:{sustentosTributarios:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"tipoDocumento",component:P,resolve:{tipoDocumento:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"tipoIdentificacion",component:L,resolve:{tipoIdentificacion:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"tipoTransaccion",component:W,resolve:{tipoTransaccion:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"urlWebServices",component:Z,resolve:{urlWebServices:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"listadoDevolucionIVAcompras",component:ce,resolve:{listadoDevolucionIVAcompras:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"listadoDevolucionIVAventas",component:fe,resolve:{listadoDevolucionIVAventas:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesIvaCompras",component:Ue,resolve:{retencionesIvaCompras:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesRentaComprasConsolidado",component:gt,resolve:{retencionesRentaComprasConsolidado:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesRentaComprasTipoDocumento",component:_t,resolve:{retencionesRentaComprasTipoDocumento:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesVentasConsolidadoCliente",component:Xe,resolve:{retencionesVentasConsolidadoCliente:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"talonResumenCompras",component:Ie,resolve:{talonResumenCompras:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"talonResumenVentas",component:Pe,resolve:{talonResumenVentas:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesRentaComprasTipoProveedor",component:Ft,resolve:{retencionesRentaComprasTipoProveedor:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesRentaComprasSustento",component:Wt,resolve:{retencionesRentaComprasSustento:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesComprasListadoSimple",component:va,resolve:{retencionesComprasListadoSimple:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesRentaComprasConcepto",component:Ht,resolve:{retencionesRentaComprasConcepto:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesVentasListadoSimple",component:nt,resolve:{retencionesVentasListadoSimple:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesEmitidas",component:ta,resolve:{retencionesEmitidas:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"retencionesComprasVerificarSecuencia",component:xa,resolve:{retencionesComprasVerificarSecuencia:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"ventasElectronicasEmitidas",component:Ea,resolve:{ventasElectronicasEmitidas:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"consultarValidezComprobanteElectronico",component:ca,resolve:{consultarValidezComprobanteElectronico:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"},{path:"generarAnexoRegistroDatosCrediticios",component:Ua,resolve:{generarAnexoRegistroDatosCrediticios:d.a,breadcrumb:u.a},runGuardsAndResolvers:"always"}]}],za=function(){function e(){}return e=Wa([Object(n.NgModule)({imports:[o.RouterModule.forChild(Ba)],exports:[o.RouterModule]})],e)}(),ka=a("Q8hO");a.d(t,"TributacionModule",function(){return Ja});var Ya=function(e,t,a,n){var i,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(o<3?i(r):o>3?i(t,a,r):i(t,a))||r);return o>3&&r&&Object.defineProperty(t,a,r),r},Ja=function(){function e(){}return e=Ya([Object(n.NgModule)({imports:[za,ka.a],declarations:[c,S,P,L,W,Z,ce,fe,Ie,Pe,Ue,Xe,nt,vt,gt,_t,Ft,Wt,Ht,va,ta,ca,Ea,xa,Ua]})],e)}()},AEBn:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmTalonResumenCompras=\'ngForm\' name="frmTalonResumenCompras">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeTalonResumenCompras(frmTalonResumenCompras)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN COMPRAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarTalonResumenCompras" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_TALON_RESUMEN_COMPRAS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirTalonResumenCompras"\r\n              (click)="imprimirTalonResumenCompras()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarTalonResumenCompras"\r\n              (click)="exportarReporteTalonResumenCompras()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirTalonResumenCompras"\r\n              (click)="imprimirTalonResumenCompras()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarTalonResumenCompras"\r\n              (click)="exportarReporteTalonResumenCompras()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ARDV:function(e,t){e.exports=""},C9eS:function(e,t){e.exports=""},CVNU:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetencionesIvaCompras=\'ngForm\' name="frmRetencionesIvaCompras">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="objetoContableEnviar">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"\r\n              [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual" [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeRetencionesIvaCompras(frmRetencionesIvaCompras)"\r\n              *ngIf="!mostrarFormularioMayorAuxiliar && !objetoContableEnviar">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoContableEnviar">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnRetencionesIvaCompras" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_IVA_COMPRAS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirIvaCompras" (click)="imprimirRetencionesIvaCompras()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesIvaCompras" (click)="exportarReporteRetencionesIvaCompras()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirIvaCompras" (click)="imprimirRetencionesIvaCompras()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportaRetencionesIvaCompras" (click)="exportarRetencionesIvaCompras()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          [frameworkComponents]="frameworkComponents" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"Ds/n":function(e,t){e.exports=""},Dztz:function(e,t){e.exports=""},GA3V:function(e,t){e.exports=""},McKB:function(e,t){e.exports=""},"Nc+Y":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmValidezComprobanteE=\'ngForm\' name="frmValidezComprobanteE">\r\n          \x3c!--SECCION--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_CLAVE_DE_ACCESO}}</b>\r\n            </label>\r\n            <input type="text" [(ngModel)]="codigoAcceso" name="claveAccesoConsultada" class="form-control form-control-sm mousetrap text-uppercase"\r\n              placeholder="{{constantes.TAG_OBLIGATORIO}}" appMinNumber="57" maxlength="57" appEnteroPositivo required autocomplete="off">\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!vistaFormulario">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="buscaValidezComprobanteElectronico(frmValidezComprobanteE)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--CONFIGURAR CUENTAS CONTABLES--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="vistaFormulario">\r\n    <div class="card m-0">\r\n      <div class="card-header p-1">\r\n        <strong>{{constantes.TAG_INFORMACION_GENERAL}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXmlAutorizacionElectronica"\r\n              (click)="imprimirXmlAutorizacionElectronica()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXmlAutorizacionElectronica"\r\n              (click)="exportarXmlAutorizacionElectronica()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n            \x3c!--Cancelar--\x3e\r\n            <button (click)="cancelarAccion()" type="button" placement="top" class="btn btn-sm btn-default mr-1" [disabled]="cargando"  container="body">\r\n                <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirXmlAutorizacionElectronica"\r\n              (click)="imprimirXmlAutorizacionElectronica()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarXmlAutorizacionElectronica"\r\n              (click)="exportarXmlAutorizacionElectronica()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n            \x3c!--Cancelar--\x3e\r\n            <button (click)="cancelarAccion()" type="button" placement="top" class="btn btn-sm btn-default mr-1" [disabled]="cargando"  container="body">\r\n              <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i> {{constantes.LABEL_CANCELAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="card m-1">\r\n          <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="iva">\r\n            <div class="row">\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label">\r\n                    <strong>{{constantes.TAG_TIPO_COMPROBANTE}}</strong>&nbsp;\r\n                  </label>\r\n                  <input name="ctaIvaPagado" id="ctaIvaPagado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.tipoComprobante">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_AMBIENTE}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.ambiente">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_RAZON_SOCIAL_EMISOR}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.razonSocialEmisor">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_RUC_EMISOR}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.rucEmisor">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_ESTADO}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.estado">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_NUMERO_DOCUMENTO}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.numeroDocumento">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_FECHA_EMISION}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.fechaEmision">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-3 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_FECHA_AUTORIZACION}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.fechaAutorizacion">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-6 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_NUMERO_AUTORIZACION}}</strong>\r\n                  </label>\r\n                  <input name="numeroAutorizacion" id="numeroAutorizacion" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.numeroAutorizacion">\r\n                </div>\r\n              </div>\r\n              <div class="col-lg-6 col-md-6 col-sm-12">\r\n                <div class="form-group form-group-sm has-feedback">\r\n                  <label class="control-label  ">\r\n                    <strong>{{constantes.TAG_TOTAL}}</strong>\r\n                  </label>\r\n                  <input name="ctaIvaCobrado" id="ctaIvaCobrado" class="form-control form-control-sm text-uppercase mousetrap"\r\n                    disabled [(ngModel)]="validezComprobante.totalComprobante">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},NgSS:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetencionesRentaComprasTipD=\'ngForm\' name="frmRetencionesRentaComprasTipD">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="objetoContableEnviar">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()" [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual" [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeRetencionesRentaProveedor(frmRetencionesRentaComprasTipD)"\r\n              *ngIf="!objetoContableEnviar">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="objetoContableEnviar">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnRetencionesIvaCompras" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_IVA_COMPRAS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirRetencionesRentaComprasTipoProveedor()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarRetencionesRentaComprasTipoProveedor()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirRetencionesRentaComprasTipoProveedor()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarRetencionesRentaComprasTipoProveedor()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          [frameworkComponents]="frameworkComponents" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},OM0U:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetencionesRentaComprasTipD=\'ngForm\' name="frmRetencionesRentaComprasTipD">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="objetoContableEnviar">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"\r\n              [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual" [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeRetencionesTipoDocumento(frmRetencionesRentaComprasTipD)"\r\n              *ngIf="!objetoContableEnviar">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoContableEnviar">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnRetencionesIvaCompras" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_RENTA_COMPRAS_TIPO_CONCEPTO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVAVentas"\r\n              (click)="imprimirRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVAVentas"\r\n              (click)="exportarRetencionesRentaComprasTipoDocumento()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" [frameworkComponents]="frameworkComponents" >\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},PQhe:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar name="fechaDesde" [(ngModel)]="fechaDesde" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarResultado()" [required]="true" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar name="fechaHasta" [(ngModel)]="fechaHasta" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarResultado()" [required]="true" [minDate]="fechaDesde" [appMinDate]="fechaDesde"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="text-right">\r\n            <button type="button" id="btnBuscarRetencionesEmitidas" class="btn btn-sm btn-primary" (click)="buscarRetencionesEmitidas(frm)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultadoRetencionesEmitidas?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarRetencionesEmitidas" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_ELECTRONICAS_EMITIDAS_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirRetencionesEmitidas" (click)="imprimirRetencionesEmitidas()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirRideRetencionesEmitidas()">{{constantes.ACCION_IMPRIMIR_RIDE}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesEmitidas" (click)="exportarRetencionesEmitidas()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirRetencionesEmitidas" (click)="imprimirRetencionesEmitidas()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirRideRetencionesEmitidas()">{{constantes.LABEL_IMPRIMIR_LOTE}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesEmitidas" (click)="exportarRetencionesEmitidas()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" class="form-control form-control-sm input-filter" size="100" style="font-family: Arial, FontAwesome;"\r\n                placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100" (input)="gridApi?gridApi.setQuickFilter($event.target.value):null">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text"><i class="{{constantes.ICON_BUSCAR}}"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoRetencionesEmitidas" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [frameworkComponents]="frameworkComponents" [multiSortKey]="multiSortKey" [rowSelection]="rowSelection"\r\n          [enableColResize]="true" [components]="components" [context]="context" (gridReady)="onGridReady($event)"\r\n          (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          (cellFocused)="filaFocused($event)" (rowSelected)="retencionSeleccionada = $event.node.data"\r\n          [suppressRowClickSelection]="true" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},QUvz:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frm=\'ngForm\' name="frm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION DOCUMENTO--\x3e\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_ESTADO}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap text-uppercase" name="documento"\r\n              [(ngModel)]="ventas.vtaDocumento_tipo" required>\r\n              <option [ngValue]="constantes.TIPO_DOCUMENTO_TODOS" selected>{{constantes.TIPO_DOCUMENTO_TODOS}}</option>\r\n              <option [ngValue]="constantes.TIPO_DOCUMENTO_CODIGO_FACTURA">{{constantes.TIPO_DOCUMENTO_FACTURA}}</option>\r\n              <option [ngValue]="constantes.TIPO_DOCUMENTO_CODIGO_NOTA_CREDITO">{{constantes.TIPO_DOCUMENTO_NOTA_CREDITO}}</option>\r\n              <option [ngValue]="constantes.TIPO_DOCUMENTO_CODIGO_NOTA_DEBITO">{{constantes.TIPO_DOCUMENTO_NOTA_DEBITO}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar name="fechaDesde" [(ngModel)]="fechaDesde" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarResultado()" [required]="true" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar name="fechaHasta" [(ngModel)]="fechaHasta" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarResultado()" [required]="true" [minDate]="fechaDesde" [appMinDate]="fechaDesde"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="text-right">\r\n            <button type="button" id="btnBuscarVentasElectronicas" class="btn btn-sm btn-primary" (click)="listaDeVentasElectronicasEmitidas(frm)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden] = "vistaFormulario">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarVentasElectronicas" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_VENTAS_ELECTRONICAS_EMITIDAS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirVentasElectronicasEmitidas" (click)="imprimirVentasElectronicasEmitidas()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirRideVentasElectronicasEmitidas()">{{constantes.ACCION_IMPRIMIR_RIDE}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVentasElectronicas" (click)="exportarVentasElectronicasEmitidas()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <div class="btn-group mr-1">\r\n              <button type="button" class="btn btn-sm btn-primary" id="btnImprimirVentasElectronicasEmitidas" (click)="imprimirVentasElectronicasEmitidas()"\r\n                placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n                <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n              </button>\r\n              <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">\r\n              </button>\r\n              <div class="dropdown-menu">\r\n                <a class="dropdown-item" (click)="imprimirRideVentasElectronicasEmitidas()">{{constantes.ACCION_IMPRIMIR_RIDE}}</a>\r\n              </div>\r\n            </div>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVentasElectronicas" (click)="exportarVentasElectronicasEmitidas()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" [frameworkComponents]="frameworkComponents"\r\n          [suppressRowClickSelection]="true" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="mostrarConsultaVentas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n      <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="vistaFormulario">\r\n  <app-venta-formulario [parametros]="parametrosFormulario" [empresaSeleccionada]="empresaSeleccionada" [tipoDocumento]="tipoDocumento"\r\n    (enviarAccion)="ejecutarAccion($event)"></app-venta-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},SVOd:function(e,t){e.exports='<div class="row" >\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetencionesRentaListadoSimple=\'ngForm\' name="frmRetencionesRentaListadoSimple">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()" ></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeRetencionesListadoSimple(frmRetencionesRentaListadoSimple)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnRetencionesIvaCompras" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_RENTA_COMPRAS_TIPO_CONCEPTO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirReporteAnexoListaRetencionesTO"\r\n              (click)="imprimirReporteAnexoListaRetencionesTO()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnReporteAnexoListaRetencionesTO"\r\n              (click)="exportarReporteAnexoListaRetencionesTO()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirReporteAnexoListaRetencionesTO"\r\n              (click)="imprimirReporteAnexoListaRetencionesTO()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnReporteAnexoListaRetencionesTO"\r\n              (click)="exportarReporteAnexoListaRetencionesTO()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="">\r\n  <app-contable-formulario [data]="" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n    (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Tza2:function(e,t){e.exports='<div class="row" >\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetencionesVerificarSecuencia=\'ngForm\' name="frmRetencionesVerificarSecuencia">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION ESTADO--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_ESTADO}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="listEstado" required [(ngModel)]="estadoSeleccionado">\r\n                <option [ngValue]="listEstado" *ngFor="let listEstado of listaEstado">{{listEstado}}</option>\r\n              </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeRetencionesVerificarSecuencia(frmRetencionesVerificarSecuencia)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnRetencionesComprasVerificarSec" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_RENTA_COMPRAS_VERIFICAR_SECUENCIA}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirReporteAnexoListaRetencionesPorNumeroTO"\r\n              (click)="imprimirReporteAnexoListaRetencionesPorNumeroTO()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnReporteAnexoListaRetencionesPorNumeroTO"\r\n              (click)="exportarReporteAnexoListaRetencionesPorNumeroTO()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirReporteAnexoListaRetencionesPorNumeroTO"\r\n              (click)="imprimirReporteAnexoListaRetencionesPorNumeroTO()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnReporteAnexoListaRetencionesPorNumeroTO"\r\n              (click)="exportarReporteAnexoListaRetencionesPorNumeroTO()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="">\r\n  <app-contable-formulario [data]="" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n    (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Ua30:function(e,t){e.exports=""},UkmF:function(e,t){e.exports='<form #frmURL=\'ngForm\' name="frmURL">\r\n  \x3c!--URL WEB SERVICE--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0">\r\n      <div class="card-header p-1">\r\n        <strong>{{constantes.TRIBUTACION_WEB_SERVICE}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group">\r\n            \x3c!-- Bot\xf3n Guardar--\x3e\r\n            <button id="btnGuardarURLWebService" type="button" class="btn btn-sm btn-primary mr-1" placement="top"\r\n              container="body" (click)="actualizarAnexoURLWebService(frmURL)" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n              <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            \x3c!--Bot\xf3n Restaurar--\x3e\r\n            <button id="btnRestaurarURLWebService" type="button" class="btn btn-sm btn-default mr-1" placement="top"\r\n              container="body" (click)="listaURLWebServices(frmURL)" [disabled]="cargando">\r\n              <i class="{{constantes.ICON_RESTAURAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.TRIBUTACION_RESTABLECER_VALORES}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!--URL--\x3e\r\n      <div class="card-body p-1 pb-4">\r\n        <div class="card-body collapse show mt-0 mb-0 pt-3 pb-0">\r\n          <div class="row">\r\n            <div class="col-lg-6 col-md-6 col-sm-12">\r\n              <div class="form-group form-group-lg has-feedback">\r\n                <label class="control-label">\r\n                  <strong><a href="{{constantes.ENLACE_URL_OFFLINE}}" target="_blanck">{{constantes.TRIBUTACION_URL_PRODUCCION}}</a></strong>\r\n                </label>\r\n                <input type="url" name="urlAmbienteProduccion" id="urlAmbienteProduccion" [(ngModel)]="urlWebService.urlAmbienteProduccion"\r\n                  class="form-control form-control-sm mousetrap pt-4">\r\n                <a class="form-control-feedback form-control-lg" (click)="verificarURL(frmURL, \'Pro\')">\r\n                  <span class="{{constantes.ICON_VERIFICAR}} " placement="left" container="body" triggers="mouseenter:mouseleave"\r\n                    ngbPopover="{{constantes.MSJ_INFO_URL}}"></span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class="col-lg-6 col-md-6 col-sm-12">\r\n              <div class="form-group form-group-lg has-feedback">\r\n                <label class="control-label">\r\n                  <strong><a href="{{constantes.ENLACE_URL_OFFLINE}}" target="_blanck">{{constantes.TRIBUTACION_URL_PRUEBAS}}</a></strong>\r\n                </label>\r\n                <input type="url" name="urlAmbientePruebas" id="urlAmbientePruebas" [(ngModel)]="urlWebService.urlAmbientePruebas"\r\n                  class="form-control form-control-sm mousetrap pt-4">\r\n                <a class="form-control-feedback form-control-lg" (click)="verificarURL(frmURL, \'Pru\')">\r\n                  <span class="{{constantes.ICON_VERIFICAR}} form-control-feedback form-control-lg" placement="left"\r\n                    container="body" triggers="mouseenter:mouseleave" ngbPopover="{{constantes.MSJ_INFO_URL}}"></span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},UwDM:function(e,t){e.exports="<p>\r\n  retenciones-renta-compras-consolidado works!\r\n</p>\r\n"},VHw9:function(e,t){e.exports=""},"W3U+":function(e,t){e.exports=""},X5Gb:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmTipoIdentificacion=\'ngForm\' name="frmTipoIdentificacion">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaTipoIdentificacion(frmTipoIdentificacion)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TIPO IDENTIFICACION--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarTipoIdentificacion" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_TIPO_IDENTIFICACION}}</strong>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},"Xu+e":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmCuentasContables=\'ngForm\' name="frmCuentasContables">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="buscarAnexoCuentasContables()">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--CONFIGURAR CUENTAS CONTABLES--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="vistaFormulario">\r\n    <form #frmConfiguracionCuentasContables=\'ngForm\' name="frmConfiguracionCuentasContables">\r\n      <div class="card m-0">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivarCuentasContables" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n            (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <strong>{{constantes.TRIBUTACION_CONFIGURACION_CUENTAS_CONTABLES}}</strong>\r\n          <div class="card-header-actions">\r\n            <div class="btn-group">\r\n              \x3c!-- Bot\xf3n Guardar--\x3e\r\n              <button id="btnGuardarConfiguracionCuentasContables" type="button" class="btn btn-sm btn-primary mr-1"\r\n                placement="top" container="body" (click)="actualizarAnexoConfiguracionCuentasContables(frmConfiguracionCuentasContables)"\r\n                [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n                <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n              </button>\r\n              \x3c!--Cancelar--\x3e\r\n              <button id="btnCancelarConfiguracionCuentasContables" (click)="cancelarAccion()" type="button" class="btn btn-sm btn-default mr-1"\r\n                [disabled]="cargando">\r\n                <i class="{{constantes.ICON_CANCELAR}}"></i> {{constantes.LABEL_CANCELAR}}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="card-body p-0">\r\n          <div class="card m-1">\r\n            <div class="card-header">\r\n              <b>{{constantes.TAG_IVA}}</b>\r\n              <div class="card-header-actions">\r\n                <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#iva"\r\n                  aria-expanded="true" placement="top" ngbTooltip="Ocultar/Mostrar">\r\n                  <i class="fa fa-minus"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="iva">\r\n              <div class="row">\r\n                <div class="col-lg-6 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label">\r\n                      <strong>{{constantes.TRIBUTACION_PAGADO_COMPRAS}}</strong>&nbsp;\r\n                    </label>\r\n                    <input class="form-control input-sm  mousetrap text-uppercase" name="ctaIvaPagado" id="ctaIvaPagado"\r\n                      maxlength="20" placeholder="{{constantes.TAG_OBLIGATORIO}}" [appFocus]="true" id="cuenta"\r\n                      (keydown)="buscarConCuentas($event,\'ctaIvaPagado\')" (blur)="validarCuenta(\'ctaIvaPagado\')"\r\n                      [(ngModel)]="cuentasContablesObjetos.ctaIvaPagado.cuentaCodigo" [ngbTooltip]="cuentasContablesObjetos.ctaIvaPagado.cuentaDetalle ? cuentasContablesObjetos.ctaIvaPagado.cuentaDetalle : null"\r\n                      required>\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-6 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_COBRADO_VENTAS}}</strong>\r\n                    </label>\r\n                    <input name="ctaIvaCobrado" id="ctaIvaCobrado" [(ngModel)]="cuentasContablesObjetos.ctaIvaCobrado.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaIvaCobrado\')" (blur)="validarCuenta(\'ctaIvaCobrado\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaIvaCobrado.cuentaDetalle ? cuentasContablesObjetos.ctaIvaCobrado.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="card m-1">\r\n            <div class="card-header">\r\n              <b>{{constantes.TRIBUTACION_RETENCIONES_FUENTE_IVA}}</b>\r\n              <div class="card-header-actions">\r\n                <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#retencionesFuentesIva"\r\n                  aria-expanded="true" placement="top" ngbTooltip="Ocultar/Mostrar">\r\n                  <i class="fa fa-minus"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="retencionesFuentesIva">\r\n              <div class="row">\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label">\r\n                      <strong>{{constantes.TRIBUTACION_EFECTUEN_VENTAS}}</strong>&nbsp;\r\n                    </label>\r\n                    <input name="ctaRetFteIvaPagado" id="ctaRetFteIvaPagado" [(ngModel)]="cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaRetFteIvaPagado\')" (blur)="validarCuenta(\'ctaRetFteIvaPagado\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaDetalle ? cuentasContablesObjetos.ctaRetFteIvaPagado.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_EFECTUADAS_COMPRAS}}</strong>\r\n                    </label>\r\n                    <input name="ctaRetFteIvaCobrado" id="ctaRetFteIvaCobrado" [(ngModel)]="cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaRetFteIvaCobrado\')" (blur)="validarCuenta(\'ctaRetFteIvaCobrado\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaDetalle ? cuentasContablesObjetos.ctaRetFteIvaCobrado.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_EFECTUADAS_ASUMIDAS}}</strong>\r\n                    </label>\r\n                    <input name="ctaRetFteIvaAsumido" id="ctaRetFteIvaAsumido" [(ngModel)]="cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaRetFteIvaAsumido\')" (blur)="validarCuenta(\'ctaRetFteIvaAsumido\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaDetalle ? cuentasContablesObjetos.ctaRetFteIvaAsumido.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="card m-1">\r\n            <div class="card-header">\r\n              <b>{{constantes.TRIBUTACION_RETENCIONES_FUENTE_IMPUESTO_RENTA}}</b>\r\n              <div class="card-header-actions">\r\n                <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#retencionesFuentesImpuesto"\r\n                  aria-expanded="true" placement="top" ngbTooltip="Ocultar/Mostrar">\r\n                  <i class="fa fa-minus"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="retencionesFuentesImpuesto">\r\n              <div class="row">\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label">\r\n                      <strong>{{constantes.TRIBUTACION_EFECTUEN_VENTAS}}</strong>&nbsp;\r\n                    </label>\r\n                    <input name="ctaRetFteIrPagado" id="ctaRetFteIrPagado" [(ngModel)]="cuentasContablesObjetos.ctaRetFteIrPagado.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaRetFteIrPagado\')" (blur)="validarCuenta(\'ctaRetFteIrPagado\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaRetFteIrPagado.cuentaDetalle ? cuentasContablesObjetos.ctaRetFteIrPagado.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_EFECTUADAS_COMPRAS}}</strong>\r\n                    </label>\r\n                    <input name="ctaRetFteIrCobrado" id="ctaRetFteIrCobrado" [(ngModel)]="cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaRetFteIrCobrado\')" (blur)="validarCuenta(\'ctaRetFteIrCobrado\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaDetalle ? cuentasContablesObjetos.ctaRetFteIrCobrado.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_EFECTUADAS_ASUMIDAS}}</strong>\r\n                    </label>\r\n                    <input name="ctaRetFteIrAsumido" id="ctaRetFteIrAsumido" [(ngModel)]="cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaRetFteIrAsumido\')" (blur)="validarCuenta(\'ctaRetFteIrAsumido\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaDetalle ? cuentasContablesObjetos.ctaRetFteIrAsumido.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="card m-1">\r\n            <div class="card-header">\r\n              <b>{{constantes.TRIBUTACION_OTRAS_CUENTAS}}</b>\r\n              <div class="card-header-actions">\r\n                <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#otrasCuentas"\r\n                  aria-expanded="true" placement="top" ngbTooltip="Ocultar/Mostrar">\r\n                  <i class="fa fa-minus"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="otrasCuentas">\r\n              <div class="row">\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label">\r\n                      <strong>{{constantes.TRIBUTACION_OTROS_IMPUESTOS}}</strong>&nbsp;\r\n                    </label>\r\n                    <input name="ctaOtrosImpuestos" id="ctaOtrosImpuestos" [(ngModel)]="cuentasContablesObjetos.ctaOtrosImpuestos.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaOtrosImpuestos\')" (blur)="validarCuenta(\'ctaOtrosImpuestos\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaOtrosImpuestos.cuentaDetalle ? cuentasContablesObjetos.ctaOtrosImpuestos.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_CUENTAS_COBRAR}}</strong>\r\n                    </label>\r\n                    <input name="ctaCuentasPorCobrar" id="ctaCuentasPorCobrar" [(ngModel)]="cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaCuentasPorCobrar\')" (blur)="validarCuenta(\'ctaCuentasPorCobrar\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaDetalle ? cuentasContablesObjetos.ctaCuentasPorCobrar.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="left" ngbPopover="{{constantes.MSJ_CUENTAS_POR_COBRAR_CLIENTES}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-4 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_CUENTAS_PAGAR}}</strong>\r\n                    </label>\r\n                    <input name="ctaCuentasPorPagar" id="ctaCuentasPorPagar" [(ngModel)]="cuentasContablesObjetos.ctaCuentasPorPagar.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaCuentasPorPagar\')" (blur)="validarCuenta(\'ctaCuentasPorPagar\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaCuentasPorPagar.cuentaDetalle ?cuentasContablesObjetos.ctaCuentasPorPagar.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-6 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_CUENTAS_ANTICIPO_CLIENTES}}</strong>\r\n                    </label>\r\n                    <input name="ctaAnticiposDeClientes" id="ctaAnticiposDeClientes" [(ngModel)]="cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaAnticiposDeClientes\')" (blur)="validarCuenta(\'ctaAnticiposDeClientes\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaDetalle ? cuentasContablesObjetos.ctaAnticiposDeClientes.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n                <div class="col-lg-6 col-md-6 col-sm-12">\r\n                  <div class="form-group form-group-sm has-feedback">\r\n                    <label class="control-label  ">\r\n                      <strong>{{constantes.TRIBUTACION_CUENTAS_ANTICIPO_PROVEEDORES}}</strong>\r\n                    </label>\r\n                    <input name="ctaAnticiposAProveedores" id="ctaAnticiposAProveedores" [(ngModel)]="cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaCodigo"\r\n                      (keydown)="buscarConCuentas($event,\'ctaAnticiposAProveedores\')" (blur)="validarCuenta(\'ctaAnticiposAProveedores\')"\r\n                      [ngbTooltip]="cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaDetalle ? cuentasContablesObjetos.ctaAnticiposAProveedores.cuentaDetalle : null"\r\n                      class="form-control form-control-sm text-uppercase mousetrap">\r\n                    <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n                      container="body" triggers="mouseenter:mouseleave"></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},YWOA:function(e,t){e.exports=""},ZYOe:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetenVenConsClien=\'ngForm\' name="frmRetenVenConsClien">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()" ></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaRetencionesVentasConsCliente(frmRetenVenConsClien)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarRetencionesConsolidadoCliente" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_VENTAS_CONSOLIDADO_CLIENTE}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRetencionesConsolidadoCliente"\r\n              (click)="imprimirRetencionesConsolidadoCliente()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesConsolidadoCliente"\r\n              (click)="exportarReporteRetencionesConsolidadoCliente()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRetencionesConsolidadoCliente"\r\n              (click)="imprimirRetencionesConsolidadoCliente()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesConsolidadoCliente"\r\n              (click)="exportarReporteRetencionesConsolidadoCliente()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ZfsV:function(e,t){e.exports=""},aVul:function(e,t){e.exports=""},dBzq:function(e,t){e.exports=""},dkRL:function(e,t){e.exports=""},eLTp:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmTalonResumenVentas=\'ngForm\' name="frmTalonResumenVentas">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeTalonResumenVentas(frmTalonResumenVentas)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarTalonResumenVentas" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_TALON_RESUMEN_VENTAS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirTalonResumenVentas"\r\n              (click)="imprimirTalonResumenVentas()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarTalonResumenVentas"\r\n              (click)="exportarReporteTalonResumenVentas()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirTalonResumenVentas"\r\n              (click)="imprimirTalonResumenVentas()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarTalonResumenVentas"\r\n              (click)="exportarReporteTalonResumenVentas()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"f/18":function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmTipoDocumento=\'ngForm\' name="frmTipoDocumento">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaTipoDocumento(frmTipoDocumento)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TIPO DOCUMENTO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarTipoContable" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_TIPO_DOCUMENTO}}</strong>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},fBKf:function(e,t){e.exports=""},gA0P:function(e,t){e.exports=""},j7Jy:function(e,t){e.exports=""},j7OV:function(e,t){e.exports=""},l0dD:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmRetencionesRentaComprasTipD=\'ngForm\' name="frmRetencionesRentaComprasTipD">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="objetoContableEnviar">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()" [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual" [disabled]="objetoContableEnviar"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDeRetencionesTipoDocumento(frmRetencionesRentaComprasTipD)" *ngIf="!objetoContableEnviar">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TALON RESUMEN VENTAS--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="objetoContableEnviar">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnRetencionesTipoDocumento" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_RENTA_COMPRAS_TIPO_DOCUMENTO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRetencionesTipoDocumento" (click)="imprimirRetencionesRentaComprasTipoDocumento()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesTipoDocumento" (click)="exportarRetencionesRentaComprasTipoDocumento()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRetencionesTipoDocumento" (click)="imprimirRetencionesRentaComprasTipoDocumento()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesTipoDocumento" (click)="exportarRetencionesRentaComprasTipoDocumento()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          [frameworkComponents]="frameworkComponents" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},mhEd:function(e,t){e.exports=""},nfW3:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmVentasListadoSimple=\'ngForm\' name="frmVentasListadoSimple">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION TIPO DOCUMENTO--\x3e\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_DOCUMENTO}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarComprobante()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_DOCUMENTOS}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaComprobante" name="bodega" [showClear]="true" [(ngModel)]="comprobanteSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="tcDescripcion"\r\n              optionLabel="tcDescripcion">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{comprobanteSeleccionado?.tcDescripcion}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.tcDescripcion}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          \x3c!--SECCION ESTABLECIMIENTO--\x3e\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_ESTALECIMIENTO}}</strong>\r\n            </label>\r\n            <p-dropdown [options]="listaEstablecimiento" name="establecimiento" [showClear]="true" [(ngModel)]="establecimientoSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="establecimiento"\r\n              optionLabel="establecimiento">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{establecimientoSeleccionado?.establecimiento}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.establecimiento}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          \x3c!--SECCION PUNTO EMISION--\x3e\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_ESTALECIMIENTO}}</strong>\r\n            </label>\r\n            <p-dropdown [options]="listaPuntoEmision" name="puntoEmision" [showClear]="true" [(ngModel)]="puntoEmisionSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="puntoEmision"\r\n              optionLabel="puntoEmision">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{puntoEmisionSeleccionado?.puntoEmision}}\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.puntoEmision}}</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaRetencionesVentasListadoSimple(frmVentasListadoSimple)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO RETENCIONES VENTAS LISTADO SIMPLE--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarRetencionesVentasListadoSimple" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_RETENCIONES_VENTAS_LISTADO_SIMPLE}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRetencionesVentasListadoSimple"\r\n              (click)="imprimirRetencionesVentasListadoSimple()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesVentasListadoSimple"\r\n              (click)="exportarReporteRetencionesVentasListadoSimple()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirRetencionesVentasListadoSimple"\r\n              (click)="imprimirRetencionesVentasListadoSimple()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarRetencionesVentasListadoSimple"\r\n              (click)="exportarReporteRetencionesVentasListadoSimple()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},u64O:function(e,t){e.exports=""},u8iB:function(e,t){e.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      \x3c!--FILTRO EMPRESA--\x3e\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmListaDevIVAComp=\'ngForm\' name="frmListaDevIVAComp">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          \x3c!--SECCION FECHAS--\x3e\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" (ngModelChange)="limpiarResultado()"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" (ngModelChange)="limpiarResultado()" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOT\xd3N BUSCAR--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listaDevolucionIVACompras(frmListaDevIVAComp)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TIPO TRANSACCION--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarListadoDevolucionIVACompras" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.TRIBUTACION_DEVOLUCION_IVA_COMPRAS}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVACompras"\r\n              (click)="imprimirListadoDevolucionIVACompras()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVACompras"\r\n              (click)="exportarReporteListadoDevolucionIva()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDevolucionIVACompras"\r\n              (click)="imprimirListadoDevolucionIVACompras()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarListadoDevolucionIVACompras"\r\n              (click)="exportarReporteListadoDevolucionIva()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"  [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},vVNI:function(e,t){e.exports=""},zIU1:function(e,t){e.exports='<div class="row" *ngIf="showIndex">\r\n    <div class="col-lg-5 col-md-4 pt-5">\r\n        <h1 class="text-center">Lo m\xe1s usado:</h1>\r\n        <div class="form-group form-group-sm text-center" *ngFor="let acceso of listaAccesoRapido">\r\n            <a routerLink="{{acceso.url}}" *ngIf="acceso.mostrar">\r\n                <button type="button" class="btn btn-primary btn-ancho-250"> {{acceso.item}}</button>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-7 col-md-8">\r\n        <div class="text-center">\r\n            <img src="assets/images/tributacion.png" class="img-thumbnail">\r\n        </div>\r\n    </div>\r\n</div>\r\n<router-outlet></router-outlet>'}}]);