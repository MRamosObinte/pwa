(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/RJ2":function(t,e){t.exports=""},"24Vi":function(t,e){t.exports=""},"3Bj5":function(t,e){t.exports=""},"4Fvb":function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmMayorAuxiliar="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control input-sm" name="cboEmpresa" [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()"\r\n              [disabled]="mostrarContabilidaAcciones" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()" *ngIf="!mostrarContabilidaAcciones">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" [disabled]="mostrarContabilidaAcciones" placeholder="{{constantes.TAG_TODOS}}"\r\n              optionLabel="secNombre" optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}} )\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}} )</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_CUENTA}}</b>\r\n            </label>\r\n            <input [appFocus]="true" class="form-control input-sm text-uppercase mousetrap" name="txtCuentaCodigo"\r\n              #conCuenta maxlength="20" placeholder="{{constantes.TAG_OBLIGATORIO}}" id="cuenta" (keydown)="buscarConCuentas($event)"\r\n              (blur)="validarCuenta()" [disabled]="mostrarContabilidaAcciones" [(ngModel)]="conCuentas.cuentaCodigo"\r\n              required>\r\n            <span *ngIf="!mostrarContabilidaAcciones" class="fa fa-question-circle form-control-feedback" placement="right"\r\n              ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}" container="body"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DETALLE_CUENTA}}</b>\r\n            </label>\r\n            <input class="form-control form-control-sm mousetrap" #conCuentaDetalle name="txtCuentaDetalle" type="text"\r\n              placeholder="{{constantes.TAG_SIN_DETALLE}}" [(ngModel)]="conCuentas.cuentaDetalle" disabled>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" id="fechaDesde" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [disabled]="mostrarContabilidaAcciones" [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [disabled]="mostrarContabilidaAcciones" [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido,\'mousetrap\':true}"\r\n              [required]="true" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary mr-1" (click)="listarMayorAuxiliarTO(frmMayorAuxiliar)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n          <button type="button" class="btn btn-sm btn-default mr-1" (click)="cerrarMayorAux()" placement="top"\r\n            ngbTooltip="{{constantes.LABEL_REGRESAR}}" *ngIf="mostrarBtnCancelar && listadoResultadoMayorAuxiliar.length === 0  " container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n            <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true" id="btnRegresar" ></i> {{constantes.LABEL_REGRESAR}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} " *ngIf="!mostrarContabilidaAcciones ">\r\n    <div class="card m-0" *ngIf="listadoResultadoMayorAuxiliar?.length> 1">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarMayorAuxiliar" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_MAYOR_AUXILIAR_LISTADO}} <span class="text-primary">{{ conCuentas?\r\n            conCuentas.cuentaCodigo:\'\'\r\n            }} - {{ conCuentas? conCuentas.cuentaDetalle:\'\' }}</span></strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirMayorAuxiliar" (click)="imprimirListadoMayorAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarMayorAuxiliar" (click)="exportarMayorAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-default mr-1" (click)="cerrarMayorAux()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_REGRESAR}}" *ngIf="mostrarBtnCancelar" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirMayorAuxiliar" (click)="imprimirListadoMayorAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarMayorAuxiliar" (click)="exportarMayorAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-default mr-1" id="btnRegresar" (click)="cerrarMayorAux()" placement="top"\r\n              ngbTooltip="{{constantes.LABEL_REGRESAR}}" *ngIf="mostrarBtnCancelar" container="body" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_REGRESAR}}" aria-hidden="true"></i> {{constantes.LABEL_REGRESAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listadoResultadoMayorAuxiliar" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="mayorAuxiliarSeleccionado = $event.node.data" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="verContable()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"6fia":function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmDiarioAuxiliar=\'ngForm\' name="frmDiarioAuxiliar" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_TIPO_COMPROBANTES}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarTipos()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_TIPOS_COMPROBANTES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaTipos" name="tipo" [showClear]="true" [(ngModel)]="tipoSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="tipDetalle"\r\n              optionLabel="tipDetalle">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{tipoSeleccionado?.tipDetalle}} ( {{tipoSeleccionado?.tipCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.tipDetalle}} ({{fs.value.tipCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnBuscarDiarioAuxiliar" (click)="listarDiarioAuxiliar(frmDiarioAuxiliar)">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarDiarioAuxiliar" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_DIARIO_AUXILIAR_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDiarioAuxiliar" (click)="imprimirListadoDiarioAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarDiarioAuxiliar" (click)="exportarDiarioAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoDiarioAuxiliar" (click)="imprimirListadoDiarioAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarDiarioAuxiliar" (click)="exportarDiarioAuxiliar()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"6iNw":function(t,e){t.exports='<div class="row" [hidden]="mostrarFormularioMayorAuxiliar || objetoMayorAuxiliarDesdeFuera">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEstadoResultadoIntegralMen=\'ngForm\' name="frmEstadoResultadoIntegralMen" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido,\'mousetrap\':true}" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido,\'mousetrap\':true}" [required]="true" [maxDate]="fechaActual"\r\n              [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" (click)="listarBalanceResultadoMensualizado(frmEstadoResultadoIntegralMen, false)"\r\n              id="btnBuscarBalanceResultadoMensualizados">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-2" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="listarBalanceResultadoMensualizado(frmEstadoResultadoIntegralMen, true)">\r\n                {{constantes.TAG_OCULTAR_DETALLE_CUENTA}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarBalanceResultadoMensualizados" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_ESTADO_RESULTADO_INTEGRAL_MENSUALIZADO_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirBalanceResultadoMensualizados"\r\n              (click)="imprimirBalanceResultadoMensualizados()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarBalanceResultadoMensualizados"\r\n              (click)="exportarBalanceResultadoMensualizados()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirBalanceResultadoMensualizados"\r\n              (click)="imprimirBalanceResultadoMensualizados()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarBalanceResultadoMensualizados"\r\n              (click)="exportarBalanceResultadoMensualizados()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (cellDoubleClicked)="objetoSeleccionado = $event.node.data; consultarMayorAuxiliar()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="mostrarFormularioMayorAuxiliar && objetoMayorAuxiliarDesdeFuera">\r\n  <app-mayor-auxiliar-formulario [objetoMayorAuxiliarDesdeFuera]="objetoMayorAuxiliarDesdeFuera" (cerrarMayorAuxiliar)="cerrarMayorAuxiliar($event)"></app-mayor-auxiliar-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"8qMC":function(t,e){t.exports=""},"9E1w":function(t,e){t.exports=""},"9vsu":function(t,e){t.exports=""},Anb2:function(t,e){t.exports=""},BRk2:function(t,e){t.exports='<div class="row" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoMayorAuxiliarDesdeFuera">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b> {{constantes.TITULO_FILTROS}} </b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEstadoComprobacion=\'ngForm\' name="frmEstadoComprobacion" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}} )\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}} )</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido,\'mousetrap\':true}" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido,\'mousetrap\':true}" [required]="true" [maxDate]="fechaActual"\r\n              [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" id="btnBuscarBalanceComprobacion" class="btn btn-sm btn-primary" (click)="listarEstadoComprobacion(frmEstadoComprobacion,false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-2" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="listarEstadoComprobacion(frmEstadoComprobacion,true)">\r\n                {{constantes.TAG_OCULTAR_DETALLE_CUENTA}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultadoEstadoComprobacion?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarEstadoComprobacion" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_ESTADO_COMPROBACION_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirBalanceComprobacion" (click)="imprimirBalanceComprobacion()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarBalanceComprobacion" (click)="exportarBalanceComprobacion()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirBalanceComprobacion" (click)="imprimirBalanceComprobacion()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarBalanceComprobacion" (click)="exportarBalanceComprobacion()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoEstadoComprobacion" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="balanceComprobacionSeleccionado = $event.node.data" (filterChanged)="actualizarFilas()"\r\n          (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          (cellDoubleClicked)="consultarMayorAuxiliar()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="mostrarFormularioMayorAuxiliar && objetoMayorAuxiliarDesdeFuera">\r\n  <app-mayor-auxiliar-formulario [objetoMayorAuxiliarDesdeFuera]="objetoMayorAuxiliarDesdeFuera" (cerrarMayorAuxiliar)="cerrarMayorAuxiliar($event)"></app-mayor-auxiliar-formulario>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},BqYD:function(t,e){t.exports=""},Cu1O:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmConsultaComprobante=\'ngForm\' name="frmConsultaComprobante" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()"\r\n              [disabled]="mostrarContabilidaAcciones">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}} ({{empresa.empCodigo}}\r\n                )\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_PERIODO}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarPeriodos()" *ngIf="!mostrarContabilidaAcciones">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="periodo" [(ngModel)]="periodoSeleccionado" [disabled]="mostrarContabilidaAcciones"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos"> {{periodo.perDetalle}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_TIPO_COMPROBANTES}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarTipos()" *ngIf="!mostrarContabilidaAcciones">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_TIPOS_COMPROBANTES}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoSeleccionado" [disabled]="mostrarContabilidaAcciones"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="tipo" *ngFor="let tipo of listaTipos"> {{tipo?.tipDetalle}} ({{tipo?.tipCodigo}} )</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback pb-0">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_NUMERO}}</b>\r\n            </label>\r\n            <input name="txtBusqueda" (blur)="completarCeros()" [disabled]="mostrarContabilidaAcciones" [(ngModel)]="conNumero" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n              class="form-control input-sm" maxlength="7" required pattern="{{constantes.PATTERN_NUMEROS}}" pKeyFilter="pint"\r\n              (keypress)="soloNumeros($event)">\r\n            <span *ngIf="!mostrarContabilidaAcciones" class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_INGRESE_SOLO_NUMEROS}}"\r\n              container="body"></span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="buscarContable(frmConsultaComprobante)">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar && mostrarContabilidaAcciones">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)" (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)"\r\n      (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},DnGz:function(t,e){t.exports=""},DnyP:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class=" {{classTitulo}}"></i>\r\n        <b>{{frmTitulo}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmFiltro="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [(ngModel)]="empresaSeleccionada" class="form-control input-sm" name="empresaSeleccionada"\r\n              [disabled]="vistaFormulario" (change)="cambiarEmpresaSelect();" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label mb-0">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n            </label>\r\n            <select [(ngModel)]="sectorSeleccionado" name="sectorSeleccionado" class="form-control input-sm" [disabled]="vistaFormulario"\r\n              (change)="limpiarLista()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="sector" *ngFor="let sector of listaSectores">{{sector.secNombre}}\r\n                ({{sector.secCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA}}</b>\r\n            </label>\r\n            <p-calendar name="fechaSeleccionada" [(ngModel)]="fechaSeleccionada" [showIcon]="true" [locale]="es"\r\n              dateFormat="{{constantes.CALENDAR_FORMATO}}" (ngChangeModel)="limpiarLista()" [required]="true"\r\n              [disabled]="vistaFormulario" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer" *ngIf="!vistaFormulario">\r\n        <div class="text-right">\r\n          <button id="btnBuscar" type="button" class="btn btn-sm btn-primary" (click)="buscarContabilizarCierreCuentas()"\r\n            title="{{constantes.ATAJO_BUSCAR}}" [disabled]="!frmFiltro.valid">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <form #frmContable="ngForm" autocomplete="off">\r\n      <div class="card mb-1" *ngIf="vistaListado && vistaFormulario">\r\n        <div class="card-header p-1">\r\n          <button id="btnActivar" class="btn btn-sm btn-primary mr-1 d-none d-sm-inline" (click)="activar=!activar"\r\n            type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n            <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n          </button>\r\n          <strong>{{constantes.TAG_CONTABLE}}</strong>\r\n          <div class="card-header-actions">\r\n            <div class="btn-group">\r\n              <button *ngIf="accion === constantes.ACCION_CREAR" type="button" id="btnGuardar" (click)="insertarContableCierreCuentas(frmContable)"\r\n                class="btn btn-sm btn-primary mr-1" [disabled]="cargando" title="{{constantes.ATAJO_GUARDAR}}">\r\n                <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n              </button>\r\n              <button type="button" id="btnCancelar" (click)="cancelarAccion()" class="btn btn-sm btn-default mr-1"\r\n                [disabled]="cargando" title="{{constantes.ATAJO_CANCELAR}}">\r\n                <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n                <span class="d-none d-md-inline"> {{constantes.LABEL_CANCELAR}} </span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="card-body pb-0 pt-2">\r\n          <div class="row">\r\n            <div class="col-md-6 col-sm-6">\r\n              <div class="form-group form-group-sm has-feedback">\r\n                <label class="control-label  ">\r\n                  <strong>{{constantes.TAG_CODIGO_CUENTA}}</strong>\r\n                </label>\r\n                <input name="conNumero" [(ngModel)]="conContableTO.conNumero" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                  pattern="{{constantes.PATTERN_CODIGO}}" class="form-control input-sm mousetrap text-uppercase"\r\n                  maxlength="500" (keydown)="buscarCuentaContable($event)" (blur)="validarCuentaCodigo()" appUppercase\r\n                  autofocus required>\r\n                <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_ENTERTOMODAL}}"\r\n                  container="body"></span>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-6 col-sm-6">\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_DETALLE_CUENTA}}</strong>\r\n                </label>\r\n                <input name="cuentaDetalle" [(ngModel)]="cuentaDetalle" class="form-control input-sm mousetrap text-uppercase"\r\n                  readonly>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-6 col-sm-6">\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <strong>{{constantes.TAG_OBSERVACIONES}}</strong>\r\n                </label>\r\n                <input type="text" [(ngModel)]="conContableTO.conObservaciones" name="conObservaciones" class="form-control input-sm text-uppercase  mousetrap"\r\n                  placeholder="{{constantes.TAG_OBLIGATORIO}}" maxlength="3000" appUppercase required>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-6 col-sm-6">\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_TIPO_CONTABLE}}</b>\r\n                </label>\r\n                <select [(ngModel)]="tipoContableSeleccionado" name="tipoContableSeleccionado" class="form-control input-sm"\r\n                  required>\r\n                  <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                  <option [ngValue]="tipoContable" *ngFor="let tipoContable of listaTipoContable">{{tipoContable.tipDetalle}}\r\n                    ({{tipoContable.tipCodigo}})</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div *ngIf="vistaListado">\r\n        <app-cuentas-resultados-listado [parametrosBusqueda]="parametroBusquedaListado" [data]="dataListado"\r\n          (enviarActivar)="modificarActivar($event)"></app-cuentas-resultados-listado>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},EHw9:function(t,e){t.exports=""},ENTR:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmVerificacionCuentasSobregiradas=\'ngForm\' name="frmVerificacionCuentasSobregiradas" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado()"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true" [maxDate]="fechaActual"\r\n              [appMaxDate]="fechaActual">></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" (click)="listarContablesCuentasSobregiradas(frmVerificacionCuentasSobregiradas)"\r\n            id="btnBuscar">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarVerificacionCuentasSobregiradas" class="btn btn-sm btn-primary mr-2" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_VERIFICACION_CUENTAS_SOBREGIRADAS_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirVerificacionCuentasSobregiradas"\r\n              (click)="imprimirVerificacionCuentasSobregiradas()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVerificacionCuentasSobregiradas"\r\n              (click)="exportarVerificacionCuentasSobregiradas()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirVerificacionCuentasSobregiradas"\r\n              (click)="imprimirVerificacionCuentasSobregiradas()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVerificacionCuentasSobregiradas"\r\n              (click)="exportarVerificacionCuentasSobregiradas()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ETl4:function(t,e){t.exports=""},EkOG:function(t,e){t.exports=""},"F/vv":function(t,e){t.exports='<div class="row" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoMayorAuxiliarDesdeFuera">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEstadoResultadoInt=\'ngForm\' name="frmEstadoResultadoInt" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}}\r\n                )\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}} )\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}} )</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_ANTERIOR}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha1" name="iniFecha1" [(ngModel)]="fechaAnterior" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [maxDate]="fechaActual" [appMaxDate]="fechaActual" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido,\'mousetrap\':true}" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_ACTUAL}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha1" name="finFecha1" [(ngModel)]="fechaActual" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [minDate]="fechaAnterior" [appMinDate]="fechaAnterior" [maxDate]="fechaActual" [appMaxDate]="fechaActual"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" id="btnBuscarEstadoSituacionFinancieraComp" class="btn btn-sm btn-primary" (click)="listarFunBalanceGeneralComparativoTO(frmEstadoResultadoInt,false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-2" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="listarFunBalanceGeneralComparativoTO(frmEstadoResultadoInt,true)">{{constantes.TAG_OCULTAR_DETALLE_ACTIVOS_BIOLOGICOS}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarEstadoSituacionFinancieraComp" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS"\r\n          (click)="activar=!activar" type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_ESTADO_SITUACION_FINANCIERA_COMPARATIVA_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoSituacionFinancieraComp"\r\n              (click)="imprimirEstadoSituacionFinancieraComp()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoSituacionFinancieraComp"\r\n              (click)="exportarEstadoSituacionFinancieraComp()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoSituacionFinancieraComp"\r\n              (click)="imprimirEstadoSituacionFinancieraComp()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoSituacionFinancieraComp"\r\n              (click)="exportarEstadoSituacionFinancieraComp()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="\r\n          estadoSituacionFinCompSeleccionado = $event.node.data"\r\n          (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" (cellDoubleClicked)="consultarMayorAuxiliar()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="mostrarFormularioMayorAuxiliar && objetoMayorAuxiliarDesdeFuera">\r\n  <app-mayor-auxiliar-formulario [objetoMayorAuxiliarDesdeFuera]="objetoMayorAuxiliarDesdeFuera" (cerrarMayorAuxiliar)="cerrarMayorAuxiliar($event)"></app-mayor-auxiliar-formulario>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Hab8:function(t,e){t.exports='<form #frmPlanContableDatos=\'ngForm\' autocomplete="off" class="card m-0">\r\n  <fieldset>\r\n    <div class="card-header p-1">\r\n      <button id="btnActivar" class="btn btn-sm btn-primary" *ngIf="isScreamMd" (click)="cambiarActivar(activar)" type="button"\r\n        title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <b class="pl-2"> {{tituloForm}} </b>\r\n      <div class="card-header-actions">\r\n        \x3c!--BOTON GUARDAR NUEVO --\x3e\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnGuardar" (click)="insertarPlanContable()"\r\n          *ngIf="accion === constantes.ACCION_NUEVO">\r\n          <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i> {{constantes.LABEL_GUARDAR}}</button>\r\n        \x3c!--BOTON GUARDAR MODIFICADO --\x3e\r\n        <button type="button" class="btn btn-sm btn-primary mr-1" id="btnGuardar" (click)="actualizarPlanContable()"\r\n          *ngIf="accion === constantes.ACCION_EDITAR">\r\n          <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i> {{constantes.LABEL_GUARDAR}}</button>\r\n        \x3c!--BOTON CANCELAR --\x3e\r\n        <button class="btn btn-sm btn-default mr-1" id="btnCancelar" type="button" (click)="cancelar()">\r\n          <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i> {{constantes.LABEL_CANCELAR}}</button>\r\n      </div>\r\n    </div>\r\n    \x3c!--FORMULARIO PLAN CONTABLE --\x3e\r\n    <div class="card-body p-1">\r\n      <div class="card mb-1">\r\n        <div class="card-header">\r\n          <b> {{constantes.TAG_DATOS_GENERALES}}</b>\r\n          <div class="card-header-actions">\r\n            <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapsePlanContable"\r\n              aria-expanded="true" placement="top" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n              <i class="fa fa-minus"></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapsePlanContable">\r\n          <div class="row">\r\n            \x3c!--CODIGO--\x3e\r\n            <div class="form-group col-lg-6 col-sm-6">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_CODIGO}}</b>\r\n              </label>\r\n              <input [appFocus]="accion === constantes.ACCION_NUEVO" name="codigo" #codigo="ngModel" [(ngModel)]="planContableTO.cuentaCodigo"\r\n                [disabled]="deshabilitarCampoCodigo" placeholder="{{constantes.TAG_OBLIGATORIO}}" class="form-control form-control-sm"\r\n                required maxlength="{{tamanioEstructura}}" onKeypress="if (event.keyCode < 45 || event.keyCode > 57) event.returnValue = false;">\r\n              <span *ngIf="accion === constantes.ACCION_NUEVO" class="fa fa-question-circle form-control-feedback"\r\n                placement="right" ngbPopover="Ingrese s\xf3lo n\xfameros y longitud menor o igual de {{tamanioEstructura}} d\xedgitos"\r\n                container="body"></span>\r\n            </div>\r\n            \x3c!--DETALLE--\x3e\r\n            <div class="form-group col-lg-6 col-sm-6">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_DETALLE}}</b>\r\n              </label>\r\n              <input [appFocus]="accion === constantes.ACCION_EDITAR" class="form-control form-control-sm mousetrap" name="detalle"\r\n                maxlength="150" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="planContableTO.cuentaDetalle"\r\n                id="detalle" required [disabled]="accion == constantes.ACCION_CONSULTAR">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </fieldset>\r\n</form>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},Ilpd:function(t,e){t.exports=""},KAlb:function(t,e,a){"use strict";a.r(e);var i=a("CcnG"),o=a("DixL"),n=a("ZYCi"),r=a("LlOB"),s=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){var a=this;this.router=t,this.appSistemaService=e,this.showIndex=!1,this.router.events.subscribe(function(t){a.showIndex="/modulos/contabilidad"===a.router.url})}return t.prototype.ngOnInit=function(){this.listaAccesoRapido=[{item:"Ingresar contable manual",url:"contableListado",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","contableListado")},{item:"Plan de cuentas",url:"planContable",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Archivo","planContable")},{item:"Mayor auxiliar de cuentas",url:"mayorAuxiliar",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Consultas","mayorAuxiliar")},{item:"Listado de contables",url:"contableListado",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Transacciones","contableListado")},{item:"Estado de situacion de financiera",url:"estadoSituacionFinanciera",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Consultas","estadoSituacionFinanciera")},{item:"Estado de resultados",url:"estadoResultadoIntegral",mostrar:this.appSistemaService.validarPermisoAccesoDirecto("Consultas","estadoResultadoIntegral")}]},t=s([Object(i.Component)({selector:"app-contabilidad",template:a("VYNa")}),c("design:paramtypes",[n.Router,r.a])],t)}(),d=a("IY89"),u=a("yccp"),p=a("zkCp"),h=a("SZbH"),m=a("eUd/"),f=a("PSD3"),b=a.n(f),C=a("z5Y/"),g=a("LG3P"),A=a("EF/R"),S=a("6E6y"),v=a("CEfs"),R=a("mwBN"),E=a("Ungd"),T=a("nR5P"),I=a("oiVT"),O=a("8fiX"),y=function(){function t(t){this.estEmpresa="",this.estGrupo1=0,this.estGrupo2=0,this.estGrupo3=0,this.estGrupo4=0,this.estGrupo5=0,this.estGrupo6=0,this.empCodigo="",t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.estEmpresa=t.estEmpresa?t.estEmpresa:this.estEmpresa,this.estGrupo1=t.estGrupo1?t.estGrupo1:this.estGrupo1,this.estGrupo2=t.estGrupo2?t.estGrupo2:this.estGrupo2,this.estGrupo3=t.estGrupo3?t.estGrupo3:this.estGrupo3,this.estGrupo4=t.estGrupo4?t.estGrupo4:this.estGrupo4,this.estGrupo5=t.estGrupo5?t.estGrupo5:this.estGrupo5,this.estGrupo6=t.estGrupo6?t.estGrupo6:this.estGrupo6,this.empCodigo=t.empCodigo?t.empCodigo:this.empCodigo},t}(),_=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},M=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},L=function(){function t(t,e,a,i,o){this.utilService=t,this.activeModal=e,this.toastr=a,this.api=i,this.planContableService=o,this.accion=null,this.cargando=!1,this.constantes={},this.tamanioEstructura=0,this.conEstructura=new y,this.listaEjemplo=[],this.listaTamanioGrupos=[],this.constantes=R.a}return t.prototype.ngOnInit=function(){if(this.empresaSeleccionada&&this.accion)switch(this.accion){case R.a.ACCION_CREAR:break;case R.a.ACCION_EDITAR:case R.a.ACCION_CONSULTAR:this.obtenerEstructura()}},t.prototype.obtenerEstructura=function(){var t=this;this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo};this.planContableService.getTamanioListaConEstructura(e,R.a.KEY_EMPRESA_SELECT).then(function(e){""!=e.empCodigo&&(t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6,t.conEstructura=new y(e[0]),t.conEstructura.estEmpresa=t.empresaSeleccionada.empCodigo,t.generarVistaPrevia())}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.generarVistaPrevia=function(){this.listaTamanioGrupos=[],this.listaTamanioGrupos.push(Number(this.conEstructura.estGrupo1)),this.listaTamanioGrupos.push(Number(this.conEstructura.estGrupo2)),this.listaTamanioGrupos.push(Number(this.conEstructura.estGrupo3)),this.listaTamanioGrupos.push(Number(this.conEstructura.estGrupo4)),this.conEstructura.estGrupo5>0&&(this.listaTamanioGrupos.push(Number(this.conEstructura.estGrupo5)),this.conEstructura.estGrupo6>0&&this.listaTamanioGrupos.push(Number(this.conEstructura.estGrupo6))),this.tamanioEstructura=this.utilService.arraySum(this.listaTamanioGrupos),this.generarListadoDeEjemplo()},t.prototype.generarListadoDeEjemplo=function(){this.listaEjemplo=[];for(var t="",e=0;e<this.listaTamanioGrupos.length;e++){var a="grupo "+(e+1),i=this.generarCodigo(t,this.listaTamanioGrupos[e],0),o=new g.a({cuentaCodigo:i,cuentaDetalle:this.planContableService.formatoCapitalizado(a,i,this.tamanioEstructura)});this.listaEjemplo.push(o),t=i}this.cargando=!1},t.prototype.generarCodigo=function(t,e,a){var i=""+(a+1);if(e>i.length){var o=e-i.length;i="0".repeat(o)+i}return t+i},t.prototype.insertarEstructura=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_CREAR,this,!0))if(this.cargando=!0,this.conEstructura.estGrupo5<=0&&(this.conEstructura.estGrupo6=0),this.utilService.establecerFormularioTocado(t)&&t&&t.valid){this.conEstructura.empCodigo=this.empresaSeleccionada.empCodigo,this.conEstructura.estEmpresa=this.empresaSeleccionada.empCodigo;var a={conEstructura:this.conEstructura};this.api.post("todocompuWS/contabilidadWebController/insertarConEstructura",a,R.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?(e.toastr.success(t.operacionMensaje,R.a.TOAST_CORRECTO),e.cerrarModal(!0)):e.toastr.warning(t.operacionMensaje,R.a.TOAST_ERROR),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}else this.toastr.warning(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.actualizarEstructura=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this,!0))if(this.cargando=!0,this.conEstructura.estGrupo5<=0&&(this.conEstructura.estGrupo6=0),this.utilService.establecerFormularioTocado(t)&&t&&t.valid){var a={conEstructura:this.conEstructura};this.api.post("todocompuWS/contabilidadWebController/modificarConEstructura",a,R.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?(e.toastr.success(t.operacionMensaje,R.a.TOAST_CORRECTO),e.cerrarModal(!0)):e.toastr.warning(t.operacionMensaje,R.a.TOAST_ERROR),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}else this.toastr.warning(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.cerrarModal=function(t){this.activeModal.close(t)},_([Object(i.Input)(),M("design:type",O.a)],t.prototype,"empresaSeleccionada",void 0),_([Object(i.Input)(),M("design:type",String)],t.prototype,"accion",void 0),t=_([Object(i.Component)({selector:"app-cuentas-estructura",template:a("r++c"),styles:[a("24Vi")]}),M("design:paramtypes",[T.a,m.a,h.b,C.a,S.a])],t)}(),D=a("EnEm"),N=a("madF"),x=a("gLZI"),F=a("+JJ7"),P=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},w=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},G=function(){function t(t,e,a,i,o,n,r,s,c,l,d){this.route=t,this.api=e,this.toastr=a,this.auth=i,this.planContableService=o,this.atajoService=n,this.filasService=r,this.archivoService=s,this.modalService=c,this.cdRef=l,this.utilService=d,this.listaResultado=[],this.objetoSeleccionado=null,this.planContableTO=new g.a,this.objetoTamaniosEstructura=new I.a,this.listaEmpresas=[],this.constantes={},this.accion=null,this.codigoCuentaLlave=null,this.cargando=!1,this.activar=!1,this.deshabilitarCampoCodigo=!0,this.index=0,this.tamanioEstructura=0,this.tamanioPlan=null,this.modificarCodigoContable=0,this.vistaImportarContable=!1,this.vistaFormulario=!1,this.vistaListado=!1,this.dataFormulario={},this.filasTiempo=new D.a,this.screamXS=!0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.rowIndexTabla=0,this.vistaPlanFormulario=!1,this.parametrosFormulario={},this.constantes=R.a,this.tituloForm=R.a.TITULO_FILTROS,this.classForm=R.a.ICON_FILTRAR,this.planContableTO=new g.a}return t.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.planContable,this.listaEmpresas&&(this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cambiarEmpresaSeleccionada()),this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.generarOpciones(),this.inicializarAtajos(),this.iniciarAgGrid()},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.redimencionarColumnas()},t.prototype.inicializarAtajos=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){return t.listaResultado.length>0&&(t.activar=!t.activar),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_NUEVO,function(){return t.utilService.verificarPermiso(R.a.ACCION_CREAR,t,!0)&&t.objetoSeleccionado&&t.nuevoPlanContable(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EDITAR,function(){return t.utilService.verificarPermiso(R.a.ACCION_EDITAR,t,!0)&&t.objetoSeleccionado&&t.operacionPlanContable(t.objetoSeleccionado,R.a.ACCION_EDITAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_ELIMINAR,function(){return t.utilService.verificarPermiso(R.a.ACCION_ELIMINAR,t,!0)&&t.objetoSeleccionado&&t.operacionPlanContable(t.objetoSeleccionado,R.a.ACCION_ELIMINAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CANCELAR,function(){return t.resetear(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){return t.empresaSeleccionada.listaSisPermisoTO.gruExportar&&t.listaResultado.length>0&&t.exportarPlanCuentas(),!1}))},t.prototype.cambiarEmpresaSeleccionada=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.vistaImportarContable=!1,this.limpiarResultado(),this.vistaListado=!1,this.obtenerEstructura(),this.obtenerTamanioPlan(),this.resetear()},t.prototype.obtenerTamanioPlan=function(){var t=this;this.tamanioPlan=null;var e={empresa:R.a.KEY_EMPRESA_SELECT};this.api.post("todocompuWS/contabilidadWebController/tamanioPlanCuentas",e,R.a.KEY_EMPRESA_SELECT).then(function(e){e&&e.extraInfo&&(t.tamanioPlan=e.extraInfo)}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarResultado=function(){this.gridApi=null,this.gridColumnApi=null,this.listaResultado=[],this.filtroGlobal="",this.objetoSeleccionado=new g.a,this.filasTiempo.resetearContador(),this.rowIndexTabla=0,this.actualizarFilas()},t.prototype.nuevaCuenta=function(){var t=this,e={empresa:R.a.KEY_EMPRESA_SELECT};this.planContableService.getTamanioListaConEstructura(e,R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6,t.tamanioEstructura>0?t.nuevoPlanContable():t.toastr.warning(R.a.MSJ_CUENTA_ESTABLECER_ESTRUCTURA,R.a.KEY_ADVERTENCIA)}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.obtenerEstructura=function(){var t=this,e={empresa:R.a.KEY_EMPRESA_SELECT};this.planContableService.getTamanioListaConEstructura(e,R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6,t.objetoTamaniosEstructura=e[0]}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.listarPlanContables=function(){this.cargando=!0,this.limpiarResultado();var t={empresa:this.empresaSeleccionada.empCodigo};this.filasTiempo.iniciarContador(),this.planContableService.listarPlanContable(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPlanContable=function(t){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=t.length>0?t:[],this.vistaListado=!0,this.vistaFormulario=!1,this.vistaImportarContable=!1},t.prototype.generarOpciones=function(){var t=this,e=this.utilService.verificarPermiso(R.a.ACCION_CREAR,this)&&!this.accion,a=this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this)&&!this.accion,i=this.utilService.verificarPermiso(R.a.ACCION_ELIMINAR,this)&&!this.accion,o=this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this)&&!this.objetoSeleccionado.cuentaActivo&&!this.accion,n=this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this)&&this.objetoSeleccionado.cuentaActivo&&!this.accion;this.opciones=[{label:R.a.ACCION_CONSULTAR,icon:R.a.ICON_CONSULTAR,disabled:!1,command:function(){return t.operacionPlanContable(R.a.ACCION_CONSULTAR,!0)}},{label:R.a.ACCION_NUEVO,icon:R.a.ICON_NUEVO,disabled:!e,command:function(){return e?t.nuevoPlanContable():null}},{label:R.a.ACCION_EDITAR,icon:R.a.ICON_EDITAR,disabled:!a,command:function(){return a?t.operacionPlanContable(R.a.ACCION_EDITAR,a):null}},{label:R.a.ACCION_ELIMINAR,icon:R.a.ICON_ELIMINAR,disabled:!i,command:function(){return i?t.operacionPlanContable(R.a.ACCION_ELIMINAR,i):null}},{label:R.a.ACCION_INACTIVAR,icon:R.a.ICON_INACTIVAR,disabled:!n,command:function(){return n?t.operacionPlanContable(R.a.ACCION_EDITAR_ESTADO,n):null}},{label:R.a.ACCION_ACTIVAR,icon:R.a.ICON_ACTIVAR,disabled:!o,command:function(){return o?t.operacionPlanContable(R.a.ACCION_EDITAR_ESTADO,o):null}}]},t.prototype.nuevoPlanContable=function(){this.vistaPlanFormulario=!0,this.accion=R.a.ACCION_NUEVO,this.parametrosFormulario={accion:R.a.ACCION_NUEVO,planContableTO:new g.a,deshabilitarCampoCodigo:!1,tamanioEstructura:this.tamanioEstructura,cuentaCodigo:this.retornarUltimoCodigo(this.objetoSeleccionado.cuentaCodigo)+"",objetoTamaniosEstructura:this.objetoTamaniosEstructura,listaResultado:this.listaResultado}},t.prototype.cancelar=function(t){this.vistaPlanFormulario=!1,this.activar=!1,this.resetear()},t.prototype.operacionPlanContable=function(t,e){if(e)switch(t){case R.a.ACCION_ELIMINAR:this.eliminarPlanContable(this.objetoSeleccionado);break;case R.a.ACCION_NUEVO:this.planContableTO=new g.a,this.planContableTO.cuentaCodigo=this.retornarUltimoCodigo(this.objetoSeleccionado.cuentaCodigo)+"",this.deshabilitarCampoCodigo=!1,this.accion=R.a.ACCION_NUEVO,this.tituloForm=R.a.TITULO_FORM_NUEVO_PLAN_CUENTA,this.classForm=R.a.ICON_CREAR;break;case R.a.ACCION_CONSULTAR:this.vistaPlanFormulario=!0,this.accion=R.a.ACCION_CONSULTAR,this.parametrosFormulario={accion:R.a.ACCION_CONSULTAR,planContableTO:new g.a,index:this.listaResultado.indexOf(this.objetoSeleccionado),objetoSeleccionado:this.objetoSeleccionado,listaResultado:this.listaResultado,objetoTamaniosEstructura:this.objetoTamaniosEstructura,tamanioEstructura:this.tamanioEstructura};break;case R.a.ACCION_EDITAR:this.vistaPlanFormulario=!0,this.accion=R.a.ACCION_EDITAR,this.parametrosFormulario={accion:R.a.ACCION_EDITAR,planContableTO:new g.a,index:this.listaResultado.indexOf(this.objetoSeleccionado),objetoSeleccionado:this.objetoSeleccionado,listaResultado:this.listaResultado,objetoTamaniosEstructura:this.objetoTamaniosEstructura,tamanioEstructura:this.tamanioEstructura};break;case R.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this,!0)&&(this.accion=R.a.ACCION_EDITAR_ESTADO,this.tituloForm=R.a.TITULO_FILTROS,this.actualizarEstadoPlanContable(this.objetoSeleccionado))}},t.prototype.actualizarEstadoPlanCuenta=function(t){var e=this;this.empresaSeleccionada.listaSisPermisoTO.gruModificar&&b()(this.utilService.generarSwalConfirmationOption(t.cuentaActivo?R.a.MSJ_TITULO_INACTIVAR:R.a.MSJ_TITULO_ACTIVAR,t.cuentaActivo?R.a.MSJ_PREGUNTA_INACTIVAR:R.a.MSJ_PREGUNTA_ACTIVAR,"question")).then(function(a){if(a.value){e.cargando=!0;var i=Object.assign({},t);i.cuentaActivo=!i.cuentaActivo;var o={conCuentasTO:i,estado:i.cuentaActivo};e.api.post("todocompuWS/contabilidadWebController/modificarEstadoConCuenta",o,R.a.KEY_EMPRESA_SELECT).then(function(t){e.cargando=!1,t&&t.extraInfo?(e.refrescarTabla(i,"U"),e.toastr.success(t.operacionMensaje,R.a.TOAST_CORRECTO),e.resetear()):e.toastr.warning(t.operacionMensaje,R.a.TAG_AVISO)}).catch(function(t){return e.utilService.handleError(t,e)})}})},t.prototype.eliminarPlanContable=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_ELIMINAR,this,!0)){var a=JSON.parse(JSON.stringify(t)),i={title:R.a.MSJ_TITULO_ELIMINAR,texto:R.a.MSJ_PREGUNTA_ELIMINAR,type:R.a.SWAL_WARNING,confirmButtonText:R.a.MSJ_SI_ELIMINAR,cancelButtonText:R.a.MSJ_NO_CANCELAR,confirmButtonColor:R.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(i).then(function(t){if(t)if(e.utilService.verificarTieneCuentaGrupos(e.listaResultado,a.cuentaCodigo.trim()))e.toastr.warning(R.a.MSJ_NO_PUEDE_ELIMINAR_CONTABLE_DEFECTO,"Aviso");else{var i={conCuentasTO:a};e.cargando=!0,e.api.post("todocompuWS/contabilidadWebController/eliminarConCuenta",i,R.a.KEY_EMPRESA_SELECT).then(function(t){e.cargando=!1,t&&t.extraInfo?(e.refrescarTabla(e.objetoSeleccionado,"D"),e.toastr.success(t.operacionMensaje,R.a.TOAST_CORRECTO),e.resetear()):e.toastr.warning(t.operacionMensaje,R.a.TAG_AVISO)}).catch(function(t){return e.utilService.handleError(t,e)})}else e.resetear()})}},t.prototype.exportarTxtPlanCuentas=function(){var t=this;if(this.empresaSeleccionada.listaSisPermisoTO.gruExportar){this.cargando=!0;var e={ConCuentasTO:this.listaResultado};this.archivoService.postTxt("todocompuWS/contabilidadWebController/exportarReporteTXTConCuentasTO",e,this.empresaSeleccionada).then(function(e){e?t.descargarArchivoTxt(e._body):t.toastr.warning(R.a.MSJ_NO_DATA),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.descargarArchivoTxt=function(t){var e=new Blob([t],{type:"data:text/plain;charset=utf-8"}),a=URL.createObjectURL(e),i=document.createElement("a");document.body.appendChild(i),i.href=a,i.download="PlanCuentas_"+this.utilService.obtenerHorayFechaActual()+".txt",i.click()},t.prototype.exportarPlanCuentas=function(){var t=this;if(this.empresaSeleccionada.listaSisPermisoTO.gruExportar){this.cargando=!0;var e={ConCuentasTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteConCuentasTO",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"PlanCuentas_"):t.toastr.warning(R.a.MSJ_NO_DATA),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.retornarUltimoCodigo=function(t){for(var e=[],a=0;a<this.listaResultado.length;a++)this.listaResultado[a].cuentaCodigo.length===t.length&&(1===this.listaResultado[a].cuentaCodigo.length?e.push(this.listaResultado[a].cuentaCodigo):this.listaResultado[a].cuentaCodigo.length>1&&this.listaResultado[a].cuentaCodigo.substring(0,this.listaResultado[a].cuentaCodigo.length-2)===t.substring(0,t.length-2)&&e.push(this.listaResultado[a].cuentaCodigo));return parseFloat(e[e.length-1])+1},t.prototype.resetear=function(){this.accion=null,this.index=0,this.tituloForm=R.a.TITULO_FILTROS,this.classForm=R.a.ICON_FILTRAR,this.codigoCuentaLlave=null,this.actualizarFilas()},t.prototype.editarConfiguracion=function(t){var e=this;t.srcElement.blur(),t.preventDefault();var a=this.modalService.open(L,{size:"lg",windowClass:"miSize",backdrop:"static"});a.componentInstance.empresaSeleccionada=this.empresaSeleccionada,a.componentInstance.accion=this.tamanioEstructura>0?R.a.ACCION_EDITAR:R.a.ACCION_CREAR,a.result.then(function(t){t&&e.obtenerEstructura()},function(t){})},t.prototype.importarCuentas=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_CREAR_PC,this,!0))if(this.tamanioEstructura>0){var e={empresa:R.a.KEY_EMPRESA_SELECT};this.planContableService.getConteoConCuentasTO(e,R.a.KEY_EMPRESA_SELECT).then(function(e){0===e?(t.dataFormulario={conEstructuraTO:t.objetoTamaniosEstructura,tamanioEstructura:t.tamanioEstructura},t.vistaListado=!1,t.vistaImportarContable=!0):t.toastr.warning(R.a.MSJ_PLAN_CUENTAS_ESTABLECIDO,R.a.TAG_AVISO)}).catch(function(e){t.utilService.handleError(e,t)})}else this.toastr.warning(R.a.MSJ_CUENTA_ESTABLECER_ESTRUCTURA,R.a.TAG_AVISO)},t.prototype.eliminarTodoCuentas=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_ELIMINAR_PC,this,!0)){var e={title:R.a.MSJ_TITULO_ELIMINAR,texto:R.a.MSJ_PREGUNTA_ELIMINAR,type:R.a.SWAL_QUESTION,confirmButtonText:R.a.MSJ_SI_ACEPTAR,cancelButtonText:R.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(e).then(function(e){if(e){t.cargando=!0;var a={empresa:R.a.KEY_EMPRESA_SELECT};t.api.post("todocompuWS/contabilidadWebController/eliminarTodoConCuenta",a,R.a.KEY_EMPRESA_SELECT).then(function(e){e&&e.extraInfo?(t.toastr.success(e.operacionMensaje,R.a.TOAST_CORRECTO),t.limpiarResultado()):t.toastr.warning(e.operacionMensaje),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}})}},t.prototype.actualizarEstadoPlanContable=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this,!0)){var a=JSON.parse(JSON.stringify(t)),i={title:a.cuentaActivo?R.a.MSJ_TITULO_INACTIVAR:R.a.MSJ_TITULO_ACTIVAR,texto:(a.cuentaActivo?R.a.MSJ_PREGUNTA_INACTIVAR:R.a.MSJ_PREGUNTA_ACTIVAR)+"<br>La cuenta: "+a.cuentaDetalle,type:R.a.SWAL_QUESTION,confirmButtonText:R.a.MSJ_SI_ACEPTAR,cancelButtonText:R.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(i).then(function(t){t?(e.cargando=!0,a.cuentaActivo=!a.cuentaActivo,e.api.post("todocompuWS/contabilidadWebController/modificarEstadoConCuenta",{conCuentasTO:a,estado:a.cuentaActivo},R.a.KEY_EMPRESA_SELECT).then(function(t){e.cargando=!1,t&&t.extraInfo?!0===a.cuentaActivo?(e.refrescarTabla(a,"U"),e.toastr.success(R.a.MSJ_TIPO_CONTABLE+a.cuentaCodigo+R.a.MSJ_ESTADO_ACTIVAR,"Aviso"),e.resetear()):(e.refrescarTabla(a,"U"),e.toastr.success(R.a.MSJ_TIPO_CONTABLE+a.cuentaCodigo+R.a.MSJ_ESTADO_INACTIVAR,"Aviso"),e.resetear()):e.toastr.warning(t.operacionMensaje,"Aviso")}).catch(function(t){return e.utilService.handleError(t,e)})):e.resetear()})}else this.resetear()},t.prototype.formularioCancelar=function(){this.vistaImportarContable=!1,this.vistaListado=!0,this.vistaFormulario=!1,this.activar=!1},t.prototype.formularioActivar=function(t){this.activar=t,this.cdRef.detectChanges()},t.prototype.ejecutarAccion=function(t){switch(t.operacion||t.accion){case R.a.ACCION_NUEVO:this.refrescarTabla(t,"I");break;case R.a.ACCION_EDITAR:this.refrescarTabla(t,"U")}this.resetear(),this.vistaPlanFormulario=!1},t.prototype.refrescarTabla=function(t,e){var a=t.planCuentaCopia||t;switch(e){case"I":if(this.listaResultado.length>0){this.listaResultado.unshift(a),this.listaResultado.sort(function(t,e){return t.cuentaCodigo.localeCompare(e.cuentaCodigo+"")});var i=this.listaResultado.findIndex(function(t){return t.cuentaCodigo===a.cuentaCodigo});this.gridApi&&this.gridApi.updateRowData({add:[a],addIndex:i});break}case"U":i=this.listaResultado.findIndex(function(t){return t.cuentaCodigo===a.cuentaCodigo});if(this.listaResultado[i]=a,this.gridApi)this.gridApi.getRowNode(i+"").setData(a);break;case"D":i=this.listaResultado.findIndex(function(e){return e.cuentaCodigo===t.cuentaCodigo});this.listaResultado.splice(i,1),this.gridApi&&this.gridApi.updateRowData({remove:[t]})}this.refreshGrid()},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.planContableService.generarColumnasPlanContable(this),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:N.a,toolTip:x.a,inputEstado:F.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.objetoSeleccionado=t,this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation()},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.objetoSeleccionado=e?e.data:null},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},P([Object(i.ViewChild)("excelDownload"),w("design:type",Object)],t.prototype,"excelDownload",void 0),P([Object(i.ViewChild)("menuOpciones"),w("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),P([Object(i.HostListener)("window:resize",["$event"]),w("design:type",Function),w("design:paramtypes",[]),w("design:returntype",void 0)],t.prototype,"onResize",null),t=P([Object(i.Component)({selector:"app-plan-contable",template:a("LOsP"),styles:[a("9vsu")]}),w("design:paramtypes",[n.ActivatedRoute,C.a,h.b,A.a,S.a,u.HotkeysService,v.a,E.a,m.b,i.ChangeDetectorRef,T.a])],t)}(),j=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},B=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},U=function(){function t(){}return t.prototype.ngOnInit=function(){},t=j([Object(i.Component)({selector:"app-mayor-auxiliar",template:"<app-mayor-auxiliar-formulario></app-mayor-auxiliar-formulario>",styles:[a("9E1w")]}),B("design:paramtypes",[])],t)}(),k=a("bodW"),H=a("BPXi"),z=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},J=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Y=function(){function t(t,e,a,i,o,n,r,s){this.route=t,this.api=e,this.toastr=a,this.atajoService=i,this.filasService=o,this.tipoContableService=n,this.archivoService=r,this.utilService=s,this.empresaSeleccionada=new O.a,this.listaEmpresas=[],this.listaModulos=R.a.LISTA_MODULOS,this.listaTipos=R.a.LISTA_TIPOS,this.listaResultado=[],this.listaResultadoTodo=[],this.columnas=[],this.columnasSeleccionadas=[],this.conTipoTO=new H.a,this.parametro={},this.cargando=!1,this.activar=!1,this.tituloForm=R.a.TITULO_FILTROS,this.classIcon=R.a.ICON_FILTRAR,this.accion=null,this.filasTiempo=new D.a,this.tipoFiltrado=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.vistaFormulario=!1,this.parametrosFormulario={},this.isScreamMd=!0,this.conTipoTO=new H.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.isScreamMd=!(this.innerWidth<=576),this.listaEmpresas=this.route.snapshot.data.tipoContable,this.generarAtgajosTeclado(),this.iniciarAgGrid(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada()},t.prototype.cambiarEmpresaSeleccionada=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.filasService.actualizarFilas("0","0")},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.listaResultadoTodo=[],this.listaTipos=[]},t.prototype.listarTiposContables=function(t,e){this.limpiarResultado(),this.filasTiempo.iniciarContador(),this.tipoFiltrado=t,this.filtroGlobal="",this.filtrarRapido();var a=this.utilService.establecerFormularioTocado(e);this.listaResultadoTodo&&0!==this.listaResultadoTodo.length?this.despuesDeListarTipoContable(this.listaResultadoTodo):a&&e&&e.valid?(this.cargando=!0,this.tipoContableService.listarTipoContable({empresa:R.a.KEY_EMPRESA_SELECT},this,R.a.KEY_EMPRESA_SELECT)):(this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},t.prototype.despuesDeListarTipoContable=function(t){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultadoTodo=t.slice(),this.listaResultado=t,this.filtradoTipoContable(this.tipoFiltrado,t)},t.prototype.filtradoTipoContable=function(t,e){switch(this.refreshGrid(),this.cargando=!0,this.filasTiempo.iniciarContador(),t){case"G":this.gridApi&&(this.listaResultadoTodo=e,this.gridApi.setRowData(e));break;case"A":var a=[];this.gridApi?(this.listaResultadoTodo=e,this.gridApi.setRowData(this.listaResultadoTodo),this.gridApi.forEachNodeAfterFilterAndSort(function(t){var e=t.data;e.tipInactivo||a.push(e)}),this.listaResultado=a,this.gridApi.setRowData(a)):(this.listaResultadoTodo.forEach(function(t){t.tipInactivo||a.push(t)}),this.listaResultado=a);break;case"I":var i=[];this.gridApi?(this.listaResultadoTodo=e,this.gridApi.setRowData(this.listaResultadoTodo),this.gridApi.forEachNodeAfterFilterAndSort(function(t){var e=t.data;e.tipInactivo&&i.push(e)}),this.listaResultado=i,this.gridApi.setRowData(i)):(this.listaResultadoTodo.forEach(function(t){t.tipInactivo&&i.push(t)}),this.listaResultado=i)}this.filasTiempo.finalizarContador(),this.cargando=!1},t.prototype.nuevoTipoContable=function(){this.vistaFormulario=!0,this.parametrosFormulario={accion:R.a.ACCION_CREAR,conTipoTO:new H.a}},t.prototype.operacionTipoContable=function(t,e){if(e)switch(t){case R.a.ACCION_CONSULTAR:case R.a.ACCION_EDITAR:this.vistaFormulario=!0,this.parametrosFormulario={accion:t,conTipoTO:this.objetoSeleccionado};break;case R.a.ACCION_ELIMINAR:this.utilService.verificarPermiso(R.a.ACCION_ELIMINAR,this,!0)&&(this.accion=R.a.ACCION_ELIMINAR,this.eliminarTipoContable(this.objetoSeleccionado));break;case R.a.ACCION_EDITAR_ESTADO:this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this,!0)&&(this.accion=R.a.ACCION_EDITAR_ESTADO,this.actualizarEstadoTipoContable(this.objetoSeleccionado))}},t.prototype.ejecutarAccion=function(t){switch(t.operacion||t.accion){case R.a.ACCION_CREAR:this.refrescarTabla(t,"I");break;case R.a.ACCION_EDITAR:this.refrescarTabla(t,"U")}},t.prototype.refrescarTabla=function(t,e){var a=t.tipoCopia||t;switch(e){case"I":if(this.listaResultado.length>0)(i=this.listaResultado.slice()).unshift(a),this.listaResultado=i,this.actualizarFilas(),this.listaResultadoTodo.unshift(a);break;case"U":var i,o=this.listaResultado.findIndex(function(t){return t.tipCodigo===a.tipCodigo});(i=this.listaResultado.slice())[o]=a,this.listaResultado=i;o=this.listaResultadoTodo.findIndex(function(t){return t.tipCodigo===a.tipCodigo});this.listaResultadoTodo[o]=a;break;case"D":o=this.listaResultado.findIndex(function(e){return e.tipCodigo===t.tipCodigo});this.listaResultado.splice(o,1);o=this.listaResultadoTodo.findIndex(function(e){return e.tipCodigo===t.tipCodigo});this.listaResultadoTodo.splice(o,1),this.gridApi&&this.gridApi.updateRowData({remove:[t]})}this.vistaFormulario=!1},t.prototype.actualizarTipoContable=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this,!0)){this.cargando=!0;var a=this.utilService.establecerFormularioTocado(t);if(t&&t.valid&&a){var i=JSON.parse(JSON.stringify(this.conTipoTO));i.tipDetalle=this.conTipoTO.tipDetalle;var o={conTipoTO:i};this.api.post("todocompuWS/contabilidadWebController/modificarConTipo",o,R.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?(e.refrescarTabla(i,"U"),e.resetear(),e.toastr.success(t.operacionMensaje,"Aviso")):e.toastr.warning(t.operacionMensaje,"Aviso"),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},t.prototype.eliminarTipoContable=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_ELIMINAR,this,!0)){var a={title:R.a.MSJ_TITULO_ELIMINAR,texto:R.a.MSJ_PREGUNTA_ELIMINAR,type:R.a.SWAL_WARNING,confirmButtonText:R.a.MSJ_SI_ELIMINAR,cancelButtonText:R.a.MSJ_NO_CANCELAR,confirmButtonColor:R.a.COLOR_ELIMINAR};this.utilService.generarSwallConfirmacionHtml(a).then(function(a){a?(e.cargando=!0,e.api.post("todocompuWS/contabilidadWebController/eliminarConTipo",{conTipoTO:t},R.a.KEY_EMPRESA_SELECT).then(function(a){e.cargando=!1,a&&a.extraInfo?(e.refrescarTabla(t,"D"),e.toastr.success(a.operacionMensaje,"Aviso")):e.toastr.warning(a.operacionMensaje,"Aviso"),e.resetear()}).catch(function(t){return e.utilService.handleError(t,e)})):e.resetear()})}else this.resetear()},t.prototype.actualizarEstadoTipoContable=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this,!0)){var a=JSON.parse(JSON.stringify(t)),i={title:a.tipInactivo?R.a.MSJ_TITULO_ACTIVAR:R.a.MSJ_TITULO_INACTIVAR,texto:(a.tipInactivo?R.a.MSJ_PREGUNTA_ACTIVAR:R.a.MSJ_PREGUNTA_INACTIVAR)+"<br>Tipo contable: "+a.tipDetalle,type:R.a.SWAL_QUESTION,confirmButtonText:R.a.MSJ_SI_ACEPTAR,cancelButtonText:R.a.MSJ_NO_CANCELAR};this.utilService.generarSwallConfirmacionHtml(i).then(function(t){t?(e.cargando=!0,a.tipInactivo=!a.tipInactivo,e.api.post("todocompuWS/contabilidadWebController/modificarEstadoConTipo",{conTipoTO:a,estado:a.tipInactivo},R.a.KEY_EMPRESA_SELECT).then(function(t){e.cargando=!1,t&&t.extraInfo?!0===a.tipInactivo?(e.refrescarTabla(a,"U"),e.toastr.success(R.a.MSJ_TIPO_CONTABLE+a.tipCodigo+R.a.MSJ_ESTADO_INACTIVAR,"Aviso"),e.resetear()):(e.refrescarTabla(a,"U"),e.toastr.success(R.a.MSJ_TIPO_CONTABLE+a.tipCodigo+R.a.MSJ_ESTADO_ACTIVAR,"Aviso"),e.resetear()):e.toastr.warning(t.operacionMensaje,"Aviso")}).catch(function(t){return e.utilService.handleError(t,e)})):e.resetear()})}else this.resetear()},t.prototype.imprimirTipoContable=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={listadoTipos:this.listaResultado};this.archivoService.postPDF("todocompuWS/contabilidadWebController/imprimirReporteConTipoTO",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("TipoContable.pdf",e):t.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarTipoContable=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ConTipoTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteConTipoTO",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"TipoContable_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.cancelar=function(t){this.vistaFormulario=!1,this.activar=!1},t.prototype.resetear=function(){this.accion=null,this.tituloForm=R.a.TITULO_FILTROS,this.actualizarFilas()},t.prototype.generarOpciones=function(){var t=this,e=this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this)&&!this.accion,a=this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this)&&!this.objetoSeleccionado.tipInactivo&&!this.accion,i=this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this)&&this.objetoSeleccionado.tipInactivo&&!this.accion,o=this.utilService.verificarPermiso(R.a.ACCION_ELIMINAR,this)&&!this.accion;this.opciones=[{label:R.a.ACCION_CONSULTAR,icon:R.a.ICON_CONSULTAR,disabled:!1,command:function(){return t.operacionTipoContable(R.a.ACCION_CONSULTAR,!0)}},{label:R.a.ACCION_EDITAR,icon:R.a.ICON_EDITAR,disabled:!e,command:function(){return e?t.operacionTipoContable(R.a.ACCION_EDITAR,e):null}},{label:R.a.ACCION_ELIMINAR,icon:R.a.ICON_ELIMINAR,disabled:!o,command:function(){return o?t.operacionTipoContable(R.a.ACCION_ELIMINAR,o):null}},{label:R.a.ACCION_ACTIVAR,icon:R.a.ICON_ACTIVAR,disabled:!i,command:function(){return i?t.operacionTipoContable(R.a.ACCION_EDITAR_ESTADO,i):null}},{label:R.a.ACCION_INACTIVAR,icon:R.a.ICON_INACTIVAR,disabled:!a,command:function(){return a?t.operacionTipoContable(R.a.ACCION_EDITAR_ESTADO,a):null}}]},t.prototype.generarAtgajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_NUEVO,function(){var t=document.getElementById("btnNuevo");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_GUARDAR,function(){var t=document.getElementById("btnGuardar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EDITAR,function(){return t.listaResultado.length>0&&t.operacionTipoContable(R.a.ACCION_EDITAR,!0),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_ELIMINAR,function(){return t.listaResultado.length>0&&t.operacionTipoContable(R.a.ACCION_ELIMINAR,!0),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CANCELAR,function(){return t.accion&&t.resetear(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(t){var e=document.getElementById("btnExportarTipoContable");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(t){var e=document.getElementById("btnImprimirTipoContable");return e&&e.click(),!1}))},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.tipoContableService.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:N.a,toolTip:x.a,inputEstado:F.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.objetoSeleccionado=e?e.data:null},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.objetoSeleccionado=t,this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation()},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.onResize=function(){this.isScreamMd=!(this.innerWidth<=576),this.isScreamMd=!(this.innerWidth<=576)},z([Object(i.ViewChild)("menuOpciones"),J("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),z([Object(i.HostListener)("window:resize",["$event"]),J("design:type",Function),J("design:paramtypes",[]),J("design:returntype",void 0)],t.prototype,"onResize",null),t=z([Object(i.Component)({selector:"app-tipo-contable",template:a("yqHu"),styles:[a("8qMC")]}),J("design:paramtypes",[n.ActivatedRoute,C.a,h.b,u.HotkeysService,v.a,k.a,E.a,T.a])],t)}(),V=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},W=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},X=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarNumeraciones=function(t,e,a){var i=this;e.filasTiempo&&e.filasTiempo.iniciarContador(),this.api.post("todocompuWS/contabilidadWebController/getListaConNumeracionTO",t,a).then(function(t){e.filasTiempo&&e.filasTiempo.finalizarContador(),t&&t.extraInfo?e.despuesDeListarNumeraciones(t.extraInfo):(e.despuesDeListarNumeraciones([]),i.toastr.warning(t.operacionMensaje,"Aviso"),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,e)})},t.prototype.generarColumnas=function(){return[{headerName:R.a.TAG_PERIODO,field:"numPeriodo",width:200},{headerName:R.a.TAG_TIPO,field:"numTipo",width:200},{headerName:R.a.TAG_SECUENCIA,field:"numSecuencia",width:200}]},t=V([Object(i.Injectable)({providedIn:"root"}),W("design:paramtypes",[C.a,h.b,T.a])],t)}(),K=a("i8Jn"),q=a("0cNW"),$=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Z=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Q=function(){function t(t,e,a,i,o,n,r){this.route=t,this.numeracionesService=e,this.atajoService=a,this.filasService=i,this.periodoService=o,this.tipoContableService=n,this.utilService=r,this.listaPeriodos=[],this.listaTipos=[],this.listaResultado=[],this.periodoSeleccionado=new K.a,this.tipoSeleccionado=new H.a,this.listaEmpresas=[],this.constantes=R.a,this.activar=!1,this.cargando=!1,this.filasTiempo=new D.a,this.screamXS=!0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal=""}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.numeraciones,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.listarNumeraciones=function(){this.cargando=!0;var t={empresa:R.a.KEY_EMPRESA_SELECT,periodo:this.periodoSeleccionado.sisPeriodoPK.perCodigo,tipo:this.tipoSeleccionado.tipCodigo};this.numeracionesService.listarNumeraciones(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarNumeraciones=function(t){this.cargando=!1,this.listaResultado=t},t.prototype.listarPeriodos=function(){this.listaPeriodos=[],this.cargando=!0;var t={empresa:R.a.KEY_EMPRESA_SELECT};this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){var e=this;this.listaPeriodos=t,this.listaPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.sisPeriodoPK.perCodigo?this.listaPeriodos.find(function(t){return t.sisPeriodoPK.perCodigo===e.periodoSeleccionado.sisPeriodoPK.perCodigo}):this.listaPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},t.prototype.listarTipos=function(){this.listaTipos=[],this.cargando=!0;var t={empresa:R.a.KEY_EMPRESA_SELECT};this.tipoContableService.listarTipoContable(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarTipoContable=function(t){var e=this;this.listaTipos=t,this.listaTipos.length>0?this.tipoSeleccionado=this.tipoSeleccionado&&this.tipoSeleccionado.tipCodigo?this.listaTipos.find(function(t){return t.tipCodigo===e.tipoSeleccionado.tipCodigo}):this.listaTipos[0]:this.tipoSeleccionado=null,this.cargando=!1},t.prototype.cambiarEmpresaSeleccionada=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.tipoSeleccionado=null,this.periodoSeleccionado=null,this.listarTipos(),this.listarPeriodos(),this.limpiarResultado()},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarNum");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.numeracionesService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.onresize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},$([Object(i.HostListener)("window:resize",["$event"]),Z("design:type",Function),Z("design:paramtypes",[]),Z("design:returntype",void 0)],t.prototype,"onresize",null),t=$([Object(i.Component)({selector:"app-numeraciones",template:a("wv9v"),styles:[a("ks3V")]}),Z("design:paramtypes",[n.ActivatedRoute,X,u.HotkeysService,v.a,q.a,k.a,T.a])],t)}(),tt=a("Ip0R"),et=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},at=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},it=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarVerificacionesFechasCompras=function(t,e,a){var i=this;e.filasTiempo&&e.filasTiempo.iniciarContador(),this.api.post("todocompuWS/contabilidadWebController/getConFunContablesVerificacionesComprasTOs",t,a).then(function(t){e.filasTiempo&&e.filasTiempo.finalizarContador(),t&&t.extraInfo?e.despuesDeListarVerificacionesFechasCompras(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarVerificacionesFechasCompras([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(){return[{headerName:R.a.TAG_FECHA_CONTABILIDAD,field:"contabilidadFecha",width:200,minWidth:200},{headerName:R.a.TAG_FECHA_INVENTARIO,field:"inventarioFecha",width:200,minWidth:200},{headerName:R.a.TAG_MONTO,field:"inventarioMonto",width:200,minWidth:200,cellClass:" text-md-right",valueFormatter:ot}]},t=et([Object(i.Injectable)({providedIn:"root"}),at("design:paramtypes",[C.a,h.b,T.a])],t)}();function ot(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var nt=a("wd/R"),rt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},st=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ct=function(){function t(t,e,a,i,o,n,r,s,c){this.route=t,this.filasService=e,this.utilService=a,this.archivoService=i,this.toastr=o,this.atajoService=n,this.sistemaService=r,this.verificacionFechasComprasService=s,this.periodoService=c,this.listaResultado=[],this.constantes=R.a,this.es={},this.listaEmpresas=[],this.activar=!1,this.cargando=!1,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.screamXS=!0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.verificacionFechasCompras,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.listarVerificacionesFechasCompras=function(t){if(this.cargando=!0,this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido){var e={empresa:this.empresaSeleccionada.empCodigo,fechaInicio:this.utilService.convertirFechaStringDDMMYYYY(this.fechaInicio),fechaFin:this.utilService.convertirFechaStringDDMMYYYY(this.fechaFin)};this.verificacionFechasComprasService.listarVerificacionesFechasCompras(e,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarVerificacionesFechasCompras=function(t){this.cargando=!1,this.listaResultado=t},t.prototype.imprimirListadoVerificacion=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={listConFunContablesVerificacionesComprasTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaFin)};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteContablesVerificacionesCompras",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoMayorAuxiliar.pdf",e):t.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarVerificaciones=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ConFunContablesVerificacionesComprasTO:this.listaResultado,fechaDesde:this.utilService.convertirFechaStringDDMMYYYY(this.fechaInicio),fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaFin)};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteContablesVerificacionesCompras",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"VerificacionesFechasCompras_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaInicio,this.fechaFin)))},t.prototype.cambiarEmpresaSeleccionada=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.obtenerFechaInicioFinMes(),this.listarPeriodos(),this.limpiarResultado()},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.obtenerFechaInicioFinMes=function(){var t=this;this.sistemaService.getFechaInicioFinMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaInicio=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirListadoVerificacion");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarVerificaciones");return t&&t.click(),!1}))},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.verificacionFechasComprasService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.onresize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},rt([Object(i.HostListener)("window:resize",["$event"]),st("design:type",Function),st("design:paramtypes",[]),st("design:returntype",void 0)],t.prototype,"onresize",null),t=rt([Object(i.Component)({selector:"app-verificacion-fechas-compras",template:a("cZ8u"),styles:[a("fS+z")]}),st("design:paramtypes",[n.ActivatedRoute,v.a,T.a,E.a,h.b,u.HotkeysService,r.a,it,q.a])],t)}(),lt=function(){function t(t){this.bgCuenta=null,this.bgDetalle=null,this.bgSaldo6=null,this.bgSaldo5=null,this.bgSaldo4=null,this.bgSaldo3=null,this.bgSaldo2=null,this.bgSaldo1=null,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.bgCuenta=t?t.bgCuenta:this.bgCuenta,this.bgDetalle=t?t.bgDetalle:this.bgDetalle,this.bgSaldo6=t?t.bgSaldo6:this.bgSaldo6,this.bgSaldo5=t?t.bgSaldo5:this.bgSaldo5,this.bgSaldo4=t?t.bgSaldo4:this.bgSaldo4,this.bgSaldo3=t?t.bgSaldo3:this.bgSaldo3,this.bgSaldo2=t?t.bgSaldo2:this.bgSaldo2,this.bgSaldo1=t?t.bgSaldo1:this.bgSaldo1},t}(),dt=a("nxr/"),ut=a("tmev"),pt=a("hyxj"),ht=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},mt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ft=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarMayorGeneral=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getListaMayorGeneralTO",t,a).then(function(t){t&&t.extraInfo?e.despuesDeListarMayorGeneral(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarMayorGeneral([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t){return[{headerName:R.a.TAG_CUENTA,field:"bgCuenta",width:150,minWidth:150,cellClass:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"bgDetalle",width:250,minWidth:250,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO6,field:"bgSaldo6",width:150,minWidth:150,valueFormatter:bt,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO5,field:"bgSaldo5",width:150,minWidth:150,valueFormatter:bt,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO4,field:"bgSaldo4",width:150,minWidth:150,valueFormatter:bt,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO3,field:"bgSaldo3",width:150,minWidth:150,valueFormatter:bt,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO2,field:"bgSaldo2",width:150,minWidth:150,valueFormatter:bt,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO1,field:"bgSaldo1",width:150,minWidth:150,valueFormatter:bt,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:R.a.WIDTH_OPCIONES,minWidth:R.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length===t.tamanioEstructura?{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_MAYOR_AUXILIAR,accion:R.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}]},t=ht([Object(i.Injectable)({providedIn:"root"}),mt("design:paramtypes",[C.a,h.b,T.a])],t)}();function bt(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var Ct=a("/TJv"),gt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},At=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},St=function(){function t(t,e,a,i,o,n,r,s,c,l,d,u){this.route=t,this.filasService=e,this.utilService=a,this.archivoService=i,this.toastr=o,this.mayorGeneralService=n,this.modalService=r,this.sectorService=s,this.atajoService=c,this.sistemaService=l,this.planContableService=d,this.periodoService=u,this.listaResultado=[],this.listaSectores=[],this.objetoSeleccionado=new lt,this.sectorSeleccionado=new dt.a,this.conCuentas=new g.a,this.listaEmpresas=[],this.codigoCuenta=null,this.tamanioEstructura=0,this.activar=!1,this.cargando=!1,this.es={},this.filasTiempo=new D.a,this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.mayorGeneral,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.conCuentas=new g.a,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.listarMayorGeneral=function(t){if(this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechaFin){this.cargando=!0,this.filasTiempo.iniciarContador();var e={empresa:R.a.KEY_EMPRESA_SELECT,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,codigoCuenta:this.codigoCuenta,fechaFin:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.mayorGeneralService.listarMayorGeneral(e,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarMayorGeneral=function(t){this.filasTiempo.finalizarContador(),this.cargando=!1,this.listaResultado=t},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;this.listaResultado=[],this.conCuentas.cuentaCodigo=null,this.conCuentas.cuentaDetalle=null,this.codigoCuenta=null,this.sectorSeleccionado=null,R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listarSectores(),this.listarPeriodos(),this.limpiarResultado();var e={empresa:this.empresaSeleccionada.empCodigo};this.planContableService.getTamanioListaConEstructura(e,R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.obtenerFechaActualServidor=function(){this.sistemaService.obtenerFechaServidor(this,this.empresaSeleccionada)},t.prototype.despuesDeObtenerFechaServidor=function(t){this.fechaFin=this.utilService.formatoDateSinZonaHorariaYYYMMDD(t),this.fechaActual=this.utilService.formatoDateSinZonaHorariaYYYMMDD(t)},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarMayorGeneral");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarMayorGeneral");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirMayorGeneral");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarMayorGeneral");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultado.length>0&&t.consultarMayorAuxiliar(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultado.length>0;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarMayorAuxiliar():null}}]},t.prototype.imprimirListadoMayorGeneral=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={cuentaContable:this.codigoCuenta,listConMayorGeneralTO:this.listaResultado,fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaFin)};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteMayorGeneral",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoMayorGeneral.pdf",e):t.toastr.warning("El reporte no existe o tiene errores"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarMayorGeneral=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ConMayorGeneralTO:this.listaResultado,codigoCuenta:this.codigoCuenta,fechaHasta:this.utilService.convertirFechaStringDDMMYYYY(this.fechaFin)};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteMayorGeneral",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"MayorGeneral_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.validarCuenta=function(){this.codigoCuenta!==this.conCuentas.cuentaCodigo&&(this.codigoCuenta=null,this.conCuentas.cuentaCodigo=null,this.conCuentas.cuentaDetalle=null,this.limpiarResultado())},t.prototype.buscarConCuentas=function(t){var e=this;if(this.utilService.validarTeclasAgregarFila(t.keyCode)&&(!(this.conCuentas.cuentaCodigo===this.codigoCuenta&&this.conCuentas.cuentaCodigo&&this.codigoCuenta)&&(this.conCuentas.cuentaCodigo=""===this.conCuentas.cuentaCodigo?null:this.conCuentas.cuentaCodigo,this.conCuentas.cuentaCodigo=this.conCuentas.cuentaCodigo?this.conCuentas.cuentaCodigo.toUpperCase():null,this.conCuentas.cuentaCodigo))){var a={empresa:this.empresaSeleccionada.empCodigo,buscar:this.conCuentas.cuentaCodigo,ctaGrupo:null};t.srcElement.blur(),t.preventDefault();var i=this.modalService.open(ut.a,{size:"lg",windowClass:"miSize",backdrop:"static"});i.componentInstance.filtrosBusquedaPlanCuenta=a,i.componentInstance.tamanioEstructura=this.tamanioEstructura,i.result.then(function(t){e.codigoCuenta=t?t.cuentaCodigo:null,e.conCuentas.cuentaCodigo=t?t.cuentaCodigo:null,e.conCuentas.cuentaDetalle=t?t.cuentaDetalle.trim():null,document.getElementById("cuenta").focus()},function(t){var e=document.getElementById("cuenta");e&&e.focus()})}},t.prototype.consultarMayorAuxiliar=function(){if(this.objetoSeleccionado.bgCuenta&&this.objetoSeleccionado.bgCuenta.length===this.tamanioEstructura){var t=this.utilService.obtenerFechaInicioRestando30Dias(this.fechaFin);this.objetoMayorAuxiliarDesdeFuera={empresa:this.empresaSeleccionada,codigoCuentaDesde:this.objetoSeleccionado.bgCuenta,cuentaDetalle:this.objetoSeleccionado.bgDetalle.trim(),fechaInicio:t,fechaFin:this.fechaFin,mostrarBtnCancelar:!0,listaSectores:this.listaSectores,sector:this.sectorSeleccionado},this.mostrarFormularioMayorAuxiliar=!0}},t.prototype.cerrarMayorAuxiliar=function(t){this.mostrarFormularioMayorAuxiliar=t,this.objetoMayorAuxiliarDesdeFuera=null,this.actualizarFilas(),this.generarAtajosTeclado()},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.mayorGeneralService.generarColumnas(this),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.objetoSeleccionado=e?e.data:null},t.prototype.ejecutarAccion=function(t){this.objetoSeleccionado=t,this.consultarMayorAuxiliar()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.objetoSeleccionado=t,this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation()},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},gt([Object(i.ViewChild)("menuOpciones"),At("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),gt([Object(i.HostListener)("window:resize",["$event"]),At("design:type",Function),At("design:paramtypes",[]),At("design:returntype",void 0)],t.prototype,"onResize",null),t=gt([Object(i.Component)({selector:"app-mayor-general",template:a("KrUO"),styles:[a("Lvl+")]}),At("design:paramtypes",[n.ActivatedRoute,v.a,T.a,E.a,h.b,ft,m.b,pt.a,u.HotkeysService,r.a,S.a,q.a])],t)}(),vt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Rt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Et=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarDiarioAuxiliar=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getListaDiarioAuxiliarTO",t,a).then(function(t){t&&t.extraInfo?e.despuesDeListarDiarioAuxiliar(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarDiarioAuxiliar([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(){return[{headerName:R.a.TAG_ORDEN,field:"daOrden",width:100,minWidth:100,cellClass:function(t){return t.data.daOrden?"":"tr-negrita "}},{headerName:R.a.TAG_CUENTA,field:"daCuenta",width:200,minWidth:150,valueFormatter:function(t){return t.data.daCuenta?t.data.daCuenta.split("+").join(""):null},cellClass:function(t){return t.data.daOrden?"":"tr-negrita textoMayuscula"}},{headerName:R.a.TAG_DETALLE,field:"daDetalle",width:300,minWidth:250,valueFormatter:function(t){return t.data.daDetalle?t.data.daDetalle.split(">").join(""):null},cellClass:function(t){return t.data.daOrden?"text-whitespace":"tr-negrita textoMayuscula"}},{headerName:R.a.TAG_CP,field:"daCP",width:100,minWidth:80,cellClass:function(t){return t.data.daOrden?"":"tr-negrita textoMayuscula"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:R.a.TAG_CENTRO_PRODUCCION,text:R.a.TAG_CP}},{headerName:R.a.TAG_CC,field:"daCC",width:100,minWidth:80,valueFormatter:function(t){return t.data.daCC?t.data.daCC.split("+").join(""):null},cellClass:function(t){return t.data.daOrden?"":"tr-negrita textoMayuscula"},headerComponent:"toolTip",headerComponentParams:{class:"",tooltip:R.a.TAG_CENTRO_COSTO,text:R.a.TAG_CC}},{headerName:R.a.TAG_DOCUMENTO,field:"daDocumento",width:200,minWidth:140,valueFormatter:function(t){return t.data.daDocumento?t.data.daDocumento.split("+").join(""):null},cellClass:function(t){return t.data.daOrden?"":"tr-negrita textoMayuscula"}},{headerName:R.a.TAG_DEBE,field:"daDebe",width:100,minWidth:80,valueFormatter:function(t){return"Debe"!==t.data.daDebe?new tt.DecimalPipe("en-US").transform(t.value,"1.2-2"):null},cellClass:function(t){return t.data.daOrden?"text-whitespace text-right":"tr-negrita text-whitespace text-right"}},{headerName:R.a.TAG_HABER,field:"daHaber",width:100,minWidth:80,valueFormatter:function(t){return"Haber"!==t.data.daHaber?new tt.DecimalPipe("en-US").transform(t.value,"1.2-2"):null},cellClass:function(t){return t.data.daOrden?"text-whitespace text-right":"tr-negrita text-whitespace text-right"}}]},t=vt([Object(i.Injectable)({providedIn:"root"}),Rt("design:paramtypes",[C.a,h.b,T.a])],t)}(),Tt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},It=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ot=function(){function t(t,e,a,i,o,n,r,s,c,l){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.tipoContableService=o,this.utilService=n,this.archivoService=r,this.sistemaService=s,this.diarioAuxiliarService=c,this.periodoService=l,this.listaResultado=[],this.listaTipos=[],this.tipoSeleccionado=new H.a,this.listaEmpresas=[],this.constantes=R.a,this.es={},this.cargando=!1,this.activar=!1,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.screamXS=!0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.diarioAuxiliarCuentas,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.iniciarAgGrid(),this.generarAtajosTeclado()},t.prototype.listarDiarioAuxiliar=function(t){if(this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido){this.limpiarResultado();var e={empresa:this.empresaSeleccionada.empCodigo,codigoTipo:this.tipoSeleccionado?this.tipoSeleccionado.tipCodigo:"",fechaInicio:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaFin:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.cargando=!0,this.filasTiempo.iniciarContador(),this.diarioAuxiliarService.listarDiarioAuxiliar(e,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarDiarioAuxiliar=function(t){this.filasTiempo.finalizarContador(),this.listaResultado=t,this.cargando=!1},t.prototype.imprimirListadoDiarioAuxiliar=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={codigoTipo:this.tipoSeleccionado?this.tipoSeleccionado.tipCodigo:"",listConDiarioAuxiliarTO:this.listaResultado,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteDiarioAuxiliar",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoDiarioAuxiliar.pdf",e):t.toastr.warning(R.a.MSJ_ERROR_IMPRIMIR,R.a.MSJ_TITULO_REPORTE),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarDiarioAuxiliar=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ConFunContablesVerificacionesComprasTO:this.listaResultado,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteDiarioAuxiliar",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"DiarioAuxiliar_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.cambiarEmpresaSeleccionada=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.obtenerFechaInicioActualMes(),this.tipoSeleccionado=null,this.listarTipos(),this.listarPeriodos()},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaInicio=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.validarFechas=function(t){this.limpiarResultado(),this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaInicio,this.fechaFin)))},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarDiarioAuxiliar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarDiarioAuxiliar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirListadoDiarioAuxiliar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarDiarioAuxiliar");return t&&t.click(),!1}))},t.prototype.listarTipos=function(){this.listaTipos=[],this.cargando=!0,this.tipoContableService.listarTipoContable({empresa:R.a.KEY_EMPRESA_SELECT},this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarTipoContable=function(t){var e=this;this.listaTipos=t,this.listaTipos.length>0?this.tipoSeleccionado=this.tipoSeleccionado&&this.tipoSeleccionado.tipCodigo?this.listaTipos.find(function(t){return t.tipCodigo===e.tipoSeleccionado.tipCodigo}):this.listaTipos[0]:this.tipoSeleccionado=null,this.cargando=!1},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.diarioAuxiliarService.generarColumnas(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.components={},this.frameworkComponents={toolTip:x.a}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.onresize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},Tt([Object(i.HostListener)("window:resize",["$event"]),It("design:type",Function),It("design:paramtypes",[]),It("design:returntype",void 0)],t.prototype,"onresize",null),t=Tt([Object(i.Component)({selector:"app-diario-auxiliar-cuentas",template:a("6fia"),styles:[a("rxgQ")]}),It("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,k.a,T.a,E.a,r.a,Et,q.a])],t)}(),yt=a("RT9d"),_t=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Mt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lt=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.existenConsumosPendientes=function(t,e,a){var i=this;return this.api.post("todocompuWS/contabilidadWebController/getListaInvConsultaConsumosPendientes",t,a).then(function(t){return(!t||t.estadoOperacion!==R.a.KEY_EXITO)&&(t&&t.estadoOperacion===R.a.KEY_ADVERTENCIA&&t.extraInfo?t:(i.toastr.warning(t.operacionMensaje,R.a.TAG_AVISO),[]))}).catch(function(t){return i.utilService.handleError(t,e)})},t.prototype.listarIPP=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getFunListaIPP",t,a).then(function(t){t&&t.extraInfo&&t.extraInfo.length>1?e.despuesDeListarIPP(t.extraInfo):t&&t.extraInfo&&1===t.extraInfo.length?i.toastr.warning(R.a.MSJ_NO_RESULTADOS,R.a.TAG_AVISO):i.toastr.warning(t.operacionMensaje,R.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return i.utilService.handleError(t,e)})},t.prototype.listarTodoProceso=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/listarTodoProceso",t,a).then(function(t){t&&t.extraInfo?e.despuesDeListarTodoProceso(t.extraInfo):i.toastr.warning(t.operacionMensaje,R.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return i.utilService.handleError(t,e)})},t.prototype.insertarModificarIPP=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/insertarModificarIPP",t,a).then(function(t){t&&t.estadoOperacion===R.a.KEY_EXITO?(i.utilService.generarSwal(R.a.TITULO_IPP_CONTABILIZAR_CIERRE_CORRIDAS,R.a.SWAL_SUCCESS,t.operacionMensaje),e.limpiarResultado(),e.enviarActivar.emit(!1)):i.utilService.generarSwal(R.a.TITULO_IPP_CONTABILIZAR,R.a.SWAL_ERROR,t.operacionMensaje),e.cargando=!1}).catch(function(t){return i.utilService.handleError(t,e)})},t.prototype.contabilizarTodoProceso=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/insertarModificarContablesIPPTodo",t,a).then(function(t){t&&t.extraInfo?(i.utilService.generarSwal(R.a.TITULO_IPP_CONTABILIZAR_CIERRE_CORRIDAS,R.a.SWAL_SUCCESS,t.operacionMensaje),e.limpiarResultado(),e.enviarActivar.emit(!1)):i.utilService.generarSwal(R.a.TITULO_IPP_CONTABILIZAR,R.a.SWAL_ERROR,t.operacionMensaje),e.cargando=!1}).catch(function(t){return i.utilService.handleError(t,e)})},t.prototype.generarColumnas=function(){var t=this;return[{headerName:R.a.TAG_SECTOR,field:"costoSector",width:150,minWidth:150,cellClass:function(e){return t.negritaSubtotales(e)+" text-md-left"}},{headerName:R.a.TAG_PISCINA,field:"costoPiscina",width:150,minWidth:150,cellClass:function(e){return t.negritaSubtotales(e)+" text-md-left"}},{headerName:R.a.TAG_TOTAL,field:"costoTotal",width:200,minWidth:200,cellClass:function(e){return t.negritaSubtotales(e)+" text-md-right"},valueFormatter:this.formatearTotales},{headerName:R.a.TAG_CUENTA_DESDE,field:"costoCuentaOrigen",width:200,minWidth:200,cellClass:function(e){return t.negritaSubtotales(e)+" text-md-left"}},{headerName:R.a.TAG_CUENTA_HASTA,field:"costoCuentaDestino",width:200,minWidth:200,cellClass:function(e){return t.negritaSubtotales(e)+" text-md-left"}}]},t.prototype.formatearTotales=function(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")},t.prototype.negritaSubtotales=function(t){return null===t.data.costoSector?"tr-negrita":""},t.prototype.mostrarSwalError=function(t){var e={title:R.a.TOAST_INFORMACION,texto:t,type:R.a.SWAL_INFO,confirmButtonText:"<i class='"+R.a.ICON_AGREGAR+"'></i>  "+R.a.LABEL_MAS_INFORMACION,cancelButtonText:R.a.MSJ_ACEPTAR};this.utilService.generarSwallConfirmacionHtml(e).then(function(t){window.open(R.a.ENLACE_MANUAL_USUARIO,"_blank")})},t=_t([Object(i.Injectable)({providedIn:"root"}),Mt("design:paramtypes",[C.a,h.b,T.a])],t)}(),Dt=a("4EM/"),Nt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},xt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ft=function(){function t(t,e,a,o,n,r,s,c,l){this.contabilizarMeterialDirectoService=t,this.contabilizarIppCierreCorridasService=e,this.sectorService=a,this.route=o,this.toastr=n,this.filasService=r,this.atajoService=s,this.utilService=c,this.sistemaService=l,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.empresaSeleccionada=new O.a,this.listaEmpresas=[],this.listaSectores=[],this.sectorSeleccionado=new dt.a,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.vistaFormulario=!1,this.vistaListado=!1,this.parametroBusquedaListado={},this.mostrarDialogo=!1,this.listaMensajes=[],this.tituloDialogo="",this.tamanio="255px",this.columnasDirectoIndirecto=[],this.columnasCorrida=[],this.listadoDirecto=[],this.listadoIndirecto=[],this.listadoCorrida=[],this.mensajeDirecto="",this.mensajeIndirecto="",this.mensajeCorrida="",this.enviarActivar=new i.EventEmitter,this.filasTiempo=new D.a,this.constantes=R.a,this.frmTitulo=R.a.TITULO_FILTROS,this.classTitulo=R.a.ICON_FILTRAR,this.es=this.utilService.setLocaleDate()}return t.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.contabilizarIPPTodoProceso,this.listaEmpresas&&(this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cambiarEmpresaSelect()),this.isScreamMd=!(window.innerWidth<=R.a.WINDOW_WIDTH_XS),this.inicializarAtajos(),this.inicializarColumnas(),this.obtenerFechaInicioActualMes()},t.prototype.inicializarAtajos=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(t){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(t){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONTABILIZAR,function(t){var e=document.getElementById("btnContabilizar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CANCELAR,function(e){return t.cargando||t.limpiarLista(),!1}))},t.prototype.inicializarColumnas=function(){this.columnasDirectoIndirecto=this.contabilizarMeterialDirectoService.generarColumnas(),this.columnasCorrida=this.contabilizarIppCierreCorridasService.generarColumnas()},t.prototype.cambiarEmpresaSelect=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarLista(),this.activar=!1,this.listarSectores()},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaDesde=e[0],t.fechaHasta=e[1],t.fechaActual=e[1]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarLista=function(){this.vistaListado=!1,this.activar=!1,this.filasService.actualizarFilas(0)},t.prototype.listarSectores=function(){this.cargando=!0,this.listaSectores=[],this.sectorSeleccionado=null;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){this.listaSectores=t,this.listaSectores.length>0&&(this.sectorSeleccionado=this.listaSectores[0]),this.cargando=!1},t.prototype.listaContabilizarTodoProceso=function(){this.cargando=!0,this.limpiarResultado();var t=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),e=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta);if(this.fechaDesde&&this.fechaHasta&&t.split("-")[0]===e.split("-")[0]){var a={empresa:R.a.KEY_EMPRESA_SELECT,fechaDesde:t,fechaHasta:e};this.parametroBusquedaListado=a,this.filasTiempo.iniciarContador(),this.contabilizarMeterialDirectoService.listarTodoProceso(a,this,R.a.KEY_EMPRESA_SELECT)}else this.cargando=!1,this.toastr.warning(R.a.MSJ_FECHAS_DIFERENTES,R.a.TOAST_ADVERTENCIA)},t.prototype.modificarActivar=function(t){this.activar=t},t.prototype.limpiarResultado=function(){this.listadoDirecto=[],this.listadoIndirecto=[],this.listadoCorrida=[],this.mensajeDirecto="",this.mensajeIndirecto="",this.mensajeCorrida="",this.vistaListado=!1},t.prototype.despuesDeListarTodoProceso=function(t){this.filasTiempo.finalizarContador(),this.listadoDirecto=t.listadoDirecto,this.listadoIndirecto=t.listadoIndirecto,this.listadoCorrida=t.listadoCorrida,this.mensajeDirecto=t.mensajeDirecto,this.mensajeIndirecto=t.mensajeIndirecto,this.mensajeCorrida=t.mensajeCorrida,this.mensajeDirecto===R.a.MSJ_CONTABILIZAR_TODO_PROCESO_DIRECTO&&this.mensajeIndirecto===R.a.MSJ_CONTABILIZAR_TODO_PROCESO_INDIRECTO&&this.mensajeCorrida===R.a.MSJ_CONTABILIZAR_TODO_PROCESO_CORRIDA?(this.vistaListado=!1,this.toastr.warning(R.a.MSJ_NO_RESULTADOS,R.a.TOAST_ADVERTENCIA)):this.mensajeDirecto===R.a.MSJ_COSNSUMOS_PENDIENTES&&this.mensajeIndirecto===R.a.MSJ_COSNSUMOS_PENDIENTES&&this.mensajeCorrida===R.a.MSJ_CONTABILIZAR_TODO_PROCESO_CORRIDA?(this.vistaListado=!1,this.toastr.warning(R.a.MSJ_COSNSUMOS_PENDIENTES,R.a.TOAST_ADVERTENCIA)):this.vistaListado=!0,this.cargando=!1},t.prototype.contabilizar=function(){if(this.cargando=!0,this.listadoDirecto&&this.listadoDirecto.length>1&&this.listadoDirecto.pop(),this.listadoIndirecto&&this.listadoIndirecto.length>1&&this.listadoIndirecto.pop(),this.validarListadoIPP(this.listadoDirecto)&&this.validarListadoIPP(this.listadoIndirecto)){var t=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),e=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta);if(this.listadoDirecto&&this.listadoDirecto.length>=1&&this.listadoIndirecto&&this.listadoIndirecto.length>=1&&this.listadoCorrida&&this.listadoCorrida.length>=1)this.parametroBusquedaListado.listaContabilizarCorrida=this.listadoCorrida,this.contabilizarMeterialDirectoService.contabilizarTodoProceso(this.parametroBusquedaListado,this,R.a.KEY_EMPRESA_SELECT);else{if(this.listadoDirecto&&this.listadoDirecto.length>=1){var a={empresa:R.a.KEY_EMPRESA_SELECT,fechaInicio:t,fechaFin:e,tipo:"DIRECTO"};this.contabilizarMeterialDirectoService.insertarModificarIPP(a,this,R.a.KEY_EMPRESA_SELECT)}if(this.listadoIndirecto&&this.listadoIndirecto.length>=1){a={empresa:R.a.KEY_EMPRESA_SELECT,fechaInicio:t,fechaFin:e,tipo:"INDIRECTO"};this.contabilizarMeterialDirectoService.insertarModificarIPP(a,this,R.a.KEY_EMPRESA_SELECT)}if(this.listadoCorrida&&this.listadoCorrida.length>=1){a={empresa:R.a.KEY_EMPRESA_SELECT,fechaDesde:t,fechaHasta:e,listaContabilizarCorrida:this.listadoCorrida};this.contabilizarIppCierreCorridasService.insertarModificarContabilizarCorrida(a,this,R.a.KEY_EMPRESA_SELECT)}}}},t.prototype.validarListadoIPP=function(t){if(t&&t.length>0)for(var e=0,a=t;e<a.length;e++){var i=a[e];if(!i.costoCuentaOrigen)return this.cargando=!1,this.contabilizarMeterialDirectoService.mostrarSwalError(R.a.MSJ_NO_CUENTA_ORIGEN+i.costoPiscina+R.a.MSJ_DEL_SECTOR+i.costoSector),!1;if(!i.costoCuentaDestino)return this.cargando=!1,this.contabilizarMeterialDirectoService.mostrarSwalError(R.a.MSJ_NO_CUENTA_DESTINO+i.costoPiscina+R.a.MSJ_DEL_SECTOR+i.costoSector),!1}return!0},Nt([Object(i.Output)(),xt("design:type",i.EventEmitter)],t.prototype,"enviarActivar",void 0),t=Nt([Object(i.Component)({selector:"app-contabilizar-todo-proceso",template:a("ivj3"),styles:[a("/RJ2")]}),xt("design:paramtypes",[Lt,Dt.a,pt.a,n.ActivatedRoute,h.b,v.a,u.HotkeysService,T.a,r.a])],t)}(),Pt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},wt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gt=function(){function t(t,e,a,i,o,n,r,s){this.sectorService=t,this.route=e,this.toastr=a,this.filasService=i,this.atajoService=o,this.utilService=n,this.sistemaService=r,this.materialDirectoService=s,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.empresaSeleccionada=new O.a,this.listaEmpresas=[],this.listaSectores=[],this.sectorSeleccionado=new dt.a,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.vistaFormulario=!1,this.vistaListado=!1,this.parametroBusquedaListado={},this.mostrarDialogo=!1,this.listaMensajes=[],this.tituloDialogo="",this.constantes=R.a,this.frmTitulo=R.a.TITULO_FILTROS,this.classTitulo=R.a.ICON_FILTRAR,this.es=this.utilService.setLocaleDate()}return t.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.contabilizarIPPIndirecto,this.listaEmpresas&&(this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cambiarEmpresaSelect()),this.isScreamMd=!(window.innerWidth<=R.a.WINDOW_WIDTH_XS),this.inicializarAtajos(),this.obtenerFechaInicioActualMes()},t.prototype.inicializarAtajos=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(t){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(t){var e=document.getElementById("btnBuscar");return e&&e.click(),!1}))},t.prototype.cambiarEmpresaSelect=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarLista(),this.activar=!1,this.listarSectores()},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaDesde=e[0],t.fechaHasta=e[1],t.fechaActual=e[1]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarLista=function(){this.vistaListado=!1,this.filasService.actualizarFilas(0)},t.prototype.listarSectores=function(){this.cargando=!0,this.listaSectores=[],this.sectorSeleccionado=null;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){this.listaSectores=t,this.listaSectores.length>0&&(this.sectorSeleccionado=this.listaSectores[0]),this.cargando=!1},t.prototype.buscarContabilizarMaterialIndirecto=function(){var t=this;this.cargando=!0;var e=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),a=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta);if(this.fechaDesde&&this.fechaHasta&&e.split("-")[0]===a.split("-")[0]){var i={empCodigo:R.a.KEY_EMPRESA_SELECT,fechaDesde:e,fechaHasta:a};this.materialDirectoService.existenConsumosPendientes(i,this,R.a.KEY_EMPRESA_SELECT).then(function(i){if(!1===i){var o={empresa:R.a.KEY_EMPRESA_SELECT,fechaInicio:e,fechaFin:a,parametro:"INDIRECTO"};t.parametroBusquedaListado=o,t.vistaListado=!0}else i&&i.extraInfo&&(t.listaMensajes=i.extraInfo,t.tituloDialogo=i.operacionMensaje,t.mostrarDialogo=!0);t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}else this.cargando=!1,this.toastr.warning(R.a.MSJ_FECHAS_DIFERENTES,R.a.TOAST_ADVERTENCIA)},t.prototype.modificarActivar=function(t){this.activar=t},t=Pt([Object(i.Component)({selector:"app-contabilizar-material-indirecto",template:a("VrVl"),styles:[a("RaG6")]}),wt("design:paramtypes",[pt.a,n.ActivatedRoute,h.b,v.a,u.HotkeysService,T.a,r.a,Lt])],t)}(),jt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Bt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ut=function(){function t(t,e,a,i,o,n,r,s){this.sectorService=t,this.route=e,this.toastr=a,this.filasService=i,this.atajoService=o,this.utilService=n,this.sistemaService=r,this.materialDirectoService=s,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.empresaSeleccionada=new O.a,this.listaEmpresas=[],this.listaSectores=[],this.sectorSeleccionado=new dt.a,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.vistaFormulario=!1,this.vistaListado=!1,this.parametroBusquedaListado={},this.mostrarDialogo=!1,this.listaMensajes=[],this.tituloDialogo="",this.constantes=R.a,this.frmTitulo=R.a.TITULO_FILTROS,this.classTitulo=R.a.ICON_FILTRAR,this.es=this.utilService.setLocaleDate()}return t.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.contabilizarIPPDirecto,this.listaEmpresas&&(this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cambiarEmpresaSelect()),this.isScreamMd=!(window.innerWidth<=R.a.WINDOW_WIDTH_XS),this.inicializarAtajos(),this.obtenerFechaInicioActualMes()},t.prototype.inicializarAtajos=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(t){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(t){var e=document.getElementById("btnBuscar");return e&&e.click(),!1}))},t.prototype.cambiarEmpresaSelect=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarLista(),this.activar=!1,this.listarSectores()},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaDesde=e[0],t.fechaHasta=e[1],t.fechaActual=e[1]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarLista=function(){this.vistaListado=!1,this.activar=!1,this.filasService.actualizarFilas(0)},t.prototype.listarSectores=function(){this.cargando=!0,this.listaSectores=[],this.sectorSeleccionado=null;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){this.listaSectores=t,this.listaSectores.length>0&&(this.sectorSeleccionado=this.listaSectores[0]),this.cargando=!1},t.prototype.buscarContabilizarMaterialDirecto=function(){var t=this;this.cargando=!0;var e=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),a=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta);if(this.fechaDesde&&this.fechaHasta&&e.split("-")[0]===a.split("-")[0]){var i={empCodigo:R.a.KEY_EMPRESA_SELECT,fechaDesde:e,fechaHasta:a};this.materialDirectoService.existenConsumosPendientes(i,this,R.a.KEY_EMPRESA_SELECT).then(function(i){if(!1===i){var o={empresa:R.a.KEY_EMPRESA_SELECT,fechaInicio:e,fechaFin:a,parametro:"DIRECTO"};t.parametroBusquedaListado=o,t.vistaListado=!0}else i&&i.extraInfo&&(t.listaMensajes=i.extraInfo,t.tituloDialogo=i.operacionMensaje,t.mostrarDialogo=!0);t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}else this.cargando=!1,this.toastr.warning(R.a.MSJ_FECHAS_DIFERENTES,R.a.TOAST_ADVERTENCIA)},t.prototype.modificarActivar=function(t){this.activar=t},t=jt([Object(i.Component)({selector:"app-contabilizar-material-directo",template:a("dYAe"),styles:[a("RJJX")]}),Bt("design:paramtypes",[pt.a,n.ActivatedRoute,h.b,v.a,u.HotkeysService,T.a,r.a,Lt])],t)}(),kt=function(){function t(t){this.conNumero=null,this.empCodigo=null,this.perCodigo=null,this.tipCodigo=null,this.conFecha=null,this.conPendiente=!1,this.conBloqueado=!1,this.conAnulado=!1,this.conReversado=!1,this.conGenerado=!1,this.conConcepto=null,this.conDetalle=null,this.conObservaciones=null,this.usrInsertaContable=null,this.usrFechaInsertaContable=null,this.conCodigo=null,this.conReferencia=null,this.hydrate(t)}return t.prototype.hydrate=function(t){this.conNumero=t?t.conNumero:this.conNumero,this.empCodigo=t?t.empCodigo:this.empCodigo,this.perCodigo=t?t.perCodigo:this.perCodigo,this.tipCodigo=t?t.tipCodigo:this.tipCodigo,this.conFecha=t?t.conFecha:this.conFecha,this.conPendiente=t?t.conPendiente:this.conPendiente,this.conBloqueado=t?t.conBloqueado:this.conBloqueado,this.conAnulado=t?t.conAnulado:this.conAnulado,this.conReversado=t?t.conReversado:this.conReversado,this.conGenerado=t?t.conGenerado:this.conGenerado,this.conConcepto=t?t.conConcepto:this.conConcepto,this.conDetalle=t?t.conDetalle:this.conDetalle,this.conObservaciones=t?t.conObservaciones:this.conObservaciones,this.usrInsertaContable=t?t.usrInsertaContable:this.usrInsertaContable,this.usrFechaInsertaContable=t?t.usrFechaInsertaContable:this.usrFechaInsertaContable,this.conCodigo=t?t.conCodigo:this.conCodigo,this.conReferencia=t?t.conReferencia:this.conReferencia},t}(),Ht=a("rx3f"),zt=a("gIcY"),Jt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Yt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vt=function(){function t(t,e,a,i){this.api=t,this.toastr=e,this.authService=a,this.utilService=i}return t.prototype.getConFunBalanceResultadosNecTO=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getConFunBalanceResultadosNecTO",t,a).then(function(t){t&&t.extraInfo&&t.extraInfo.length>1?e.despuesDeGetConFunBalanceResultadosNecTO(t.extraInfo):t&&t.extraInfo&&1===t.extraInfo.length?(i.toastr.warning(R.a.MSJ_NO_DATA,R.a.TAG_AVISO),e.cargando=!1):(i.toastr.warning(t.operacionMensaje,R.a.TAG_AVISO),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,e)})},t.prototype.formatearConContableTOCierreCuentas=function(t,e){var a=new kt(t);return a.empCodigo=e.empresaSeleccionada.empCodigo,a.tipCodigo=e.tipoContableSeleccionado.tipCodigo,a.conFecha=this.utilService.formatearDateToStringYYYYMMDD(e.fechaSeleccionada),a.conPendiente=!1,a.conBloqueado=!1,a.conAnulado=!1,a.conGenerado=!1,a.conConcepto="CIERRE DE CUENTAS DE RESULTADOS",a.conDetalle="COMPROBANTE GENERADO POR EL SISTEMA",a.usrInsertaContable=this.authService.getCodigoUser(),a},t=Jt([Object(i.Injectable)({providedIn:"root"}),Yt("design:paramtypes",[C.a,h.b,A.a,T.a])],t)}(),Wt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Xt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Kt=function(){function t(t,e,a,i,o,n,r,s,c,l,d,u,p){this.sectorService=t,this.route=e,this.api=a,this.toastr=i,this.filasService=o,this.atajoService=n,this.utilService=r,this.sistemaService=s,this.empresaService=c,this.tipoContableService=l,this.modalService=d,this.cierreService=u,this.planContableService=p,this.cargando=!1,this.activar=!1,this.accion=null,this.isScreamMd=!0,this.empresaSeleccionada=new O.a,this.listaEmpresas=[],this.listaSectores=[],this.sectorSeleccionado=new dt.a,this.columnaEstadoFinanciero=-1,this.vistaFormulario=!1,this.vistaListado=!1,this.parametroBusquedaListado={},this.dataListado={},this.tamanioEstructura=0,this.conContableTO=new kt,this.listaTipoContable=new Array,this.tipoContableSeleccionado=new H.a,this.cuentaCodigo=null,this.cuentaDetalle="",this.listaFiltrado=[],this.constantes=R.a,this.frmTitulo=R.a.TITULO_FILTROS,this.classTitulo=R.a.ICON_FILTRAR,this.es=this.utilService.setLocaleDate()}return t.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.contabilizarCierreCuentasResultado,this.listaEmpresas&&(this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cambiarEmpresaSelect()),this.isScreamMd=!(window.innerWidth<=576),this.inicializarAtajos(),this.obtenerFechaInicioFinMes(),this.obtenerTamanioEstructura()},t.prototype.extraerValoresIniciales=function(){var t=this;setTimeout(function(){t.valoresIniciales=JSON.parse(JSON.stringify(t.frmContable?t.frmContable.value:null)),t.listaFiltradoInicial=JSON.parse(JSON.stringify(t.listaFiltrado?t.listaFiltrado:null))},50)},t.prototype.inicializarAtajos=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(t){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(t){var e=document.getElementById("btnBuscar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_GUARDAR,function(e){if(t.vistaFormulario){var a=document.getElementById("btnGuardar");return a&&a.click(),!1}})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CANCELAR,function(e){if(t.vistaFormulario){var a=document.getElementById("btnCancelar");return a&&a.click(),!1}}))},t.prototype.cambiarEmpresaSelect=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarLista(),this.activar=!1,this.accion=null,this.listarSectores(),this.obtenerColumnaEstadoFinanciero(),this.obtenerListaTiposContable(),this.obtenerTamanioEstructura()},t.prototype.obtenerFechaInicioFinMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaSeleccionada=e[1],t.fechaActual=e[1]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarLista=function(){this.vistaListado=!1,this.filasService.actualizarFilas(0)},t.prototype.listarSectores=function(){this.cargando=!0,this.listaSectores=[],this.sectorSeleccionado=null;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){this.listaSectores=t,this.listaSectores.length>0&&(this.sectorSeleccionado=this.listaSectores[0]),this.cargando=!1},t.prototype.obtenerColumnaEstadoFinanciero=function(){this.columnaEstadoFinanciero=-1;var t={empCodigo:R.a.KEY_EMPRESA_SELECT};this.empresaService.getColumnasEstadosFinancieros(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeGetColumnasEstadosFinancieros=function(t){t&&(this.columnaEstadoFinanciero=t)},t.prototype.buscarContabilizarCierreCuentas=function(){this.columnaEstadoFinanciero>-1?(this.parametroBusquedaListado={empresa:R.a.KEY_EMPRESA_SELECT,sector:this.sectorSeleccionado.secCodigo,fechaDesde:null,fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaSeleccionada),columnasEstadosFinancieros:this.columnaEstadoFinanciero,ocultarDetalle:!1},this.dataListado={empresaSeleccionada:this.empresaSeleccionada,ocultarEncabezado:!0},this.vistaListado=!0):this.toastr.warning(R.a.MSJ_EMPRESA_NO_COL_ESTADO_FIN,R.a.TAG_AVISO)},t.prototype.modificarActivar=function(t){this.vistaFormulario||(this.conContableTO=new kt,this.tipoContableSeleccionado=this.listaTipoContable.length>0?this.listaTipoContable[0]:new H.a,this.accion=R.a.ACCION_CREAR,this.vistaFormulario=!0,this.extraerValoresIniciales())},t.prototype.obtenerListaTiposContable=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.tipoContableService.listarTipoContable(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarTipoContable=function(t){this.listaTipoContable=t,this.listaTipoContable.length>0&&(this.tipoContableSeleccionado=this.listaTipoContable[0])},t.prototype.obtenerTamanioEstructura=function(){var t=this,e={empresa:R.a.KEY_EMPRESA_SELECT};this.planContableService.getTamanioListaConEstructura(e,R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.buscarCuentaContable=function(t){var e=this;if(this.utilService.validarKeyBuscar(t.keyCode)&&!this.esCuentaCodigoValido())if(this.conContableTO.conNumero&&this.conContableTO.conNumero.length>0){var a={empresa:R.a.KEY_EMPRESA_SELECT,buscar:this.conContableTO.conNumero,cuentaActivo:!0,ctaGrupo:null};t.srcElement.blur(),t.preventDefault();var i=this.modalService.open(ut.a,{size:"lg",windowClass:"miSize",backdrop:"static"});i.componentInstance.filtrosBusquedaPlanCuenta=a,i.componentInstance.tamanioEstructura=this.tamanioEstructura,i.result.then(function(t){e.cuentaCodigo=t?t.cuentaCodigo:null,e.conContableTO.conNumero=t?t.cuentaCodigo:"",e.cuentaDetalle=t?t.cuentaDetalle.trim():""},function(t){})}else this.toastr.info(R.a.MSJ_ENTER_NO_DATA,R.a.TOAST_INFORMACION)},t.prototype.esCuentaCodigoValido=function(){return this.cuentaCodigo&&this.cuentaCodigo===this.conContableTO.conNumero},t.prototype.validarCuentaCodigo=function(){this.cuentaCodigo!==this.conContableTO.conNumero&&(this.cuentaCodigo=null,this.cuentaDetalle="",this.conContableTO.conNumero="")},t.prototype.resetearFormulario=function(){this.conContableTO=new kt,this.tipoContableSeleccionado=new H.a,this.vistaFormulario=!1,this.limpiarLista(),this.accion=null,this.activar=!1,this.cuentaDetalle=""},t.prototype.cancelarAccion=function(){var t=this;if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmContable))this.resetearFormulario();else if(this.accion===R.a.ACCION_CONSULTAR)this.resetearFormulario();else{var e={title:R.a.MSJ_TITULO_CANCELAR,texto:R.a.MSJ_PREGUNTA_CANCELAR,type:R.a.SWAL_QUESTION,confirmButtonText:R.a.MSJ_SI,cancelButtonText:R.a.MSJ_NO};this.utilService.generarSwallConfirmacionHtml(e).then(function(e){e&&t.resetearFormulario()})}},t.prototype.insertarContableCierreCuentas=function(t){var e=this;if(this.utilService.verificarPermiso(R.a.ACCION_CREAR,this,!0))if(this.cargando=!0,this.utilService.establecerFormularioTocado(t)&&t.valid){var a={conContableTO:this.cierreService.formatearConContableTOCierreCuentas(this.conContableTO,this),centroProduccion:this.sectorSeleccionado.secCodigo,conNumeroContable:this.conContableTO.conNumero};this.api.post("todocompuWS/contabilidadWebController/insertarConContableCierreCuentas",a,R.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?(e.resetearFormulario(),e.utilService.generarSwalHTML(R.a.TOAST_CORRECTO,R.a.SWAL_SUCCESS,t.operacionMensaje,R.a.ICON_OK_SWAL,R.a.SWAL_OK)):e.toastr.warning(t.operacionMensaje,R.a.TAG_AVISO),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}else this.toastr.warning(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},Wt([Object(i.ViewChild)("frmContable"),Xt("design:type",zt.NgForm)],t.prototype,"frmContable",void 0),t=Wt([Object(i.Component)({selector:"app-contabilizar-cierre-cuentas",template:a("DnyP"),styles:[a("jeDy")]}),Xt("design:paramtypes",[pt.a,n.ActivatedRoute,C.a,h.b,v.a,u.HotkeysService,T.a,r.a,Ht.a,k.a,m.b,Vt,S.a])],t)}(),qt=function(){function t(t){this.id=0,this.maContable="",this.maFecha="",this.maSecuencia=0,this.maCuenta="",this.maCuentaDetalle="",this.maCP="",this.maCC="",this.maDocumento="",this.maDebe=0,this.maHaber=0,this.maSaldo=0,this.maObservaciones="",this.maGenerado=!1,this.maReferencia="",this.maOrden=0,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t?t.id:this.id,this.maContable=t.maContable?t.maContable:this.maContable,this.maFecha=t.maFecha?t.maFecha:this.maFecha,this.maSecuencia=t.maSecuencia?t.maSecuencia:this.maSecuencia,this.maCuenta=t.maCuenta?t.maCuenta:this.maCuenta,this.maCuentaDetalle=t.maCuentaDetalle?t.maCuentaDetalle:this.maCuentaDetalle,this.maCP=t.maCP?t.maCP:this.maCP,this.maCC=t.maCC?t.maCC:this.maCC,this.maDocumento=t.maDocumento?t.maDocumento:this.maDocumento,this.maDebe=t.maDebe?t.maDebe:this.maDebe,this.maHaber=t.maHaber?t.maHaber:this.maHaber,this.maSaldo=t.maSaldo?t.maSaldo:this.maSaldo,this.maObservaciones=t.maObservaciones?t.maObservaciones:this.maObservaciones,this.maGenerado=t.maGenerado?t.maGenerado:this.maGenerado,this.maReferencia=t.maReferencia?t.maReferencia:this.maReferencia,this.maOrden=t.maOrden?t.maOrden:this.maOrden},t}(),$t=a("WDoE"),Zt=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Qt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},te=function(){function t(t,e,a,i,o,n,r,s,c,l,d,u,p){this.route=t,this.toastr=e,this.sectorService=a,this.atajoService=i,this.filasService=o,this.modalService=n,this.planContableService=r,this.mayorAuxiliarService=s,this.utilService=c,this.cdRef=l,this.sistemaService=d,this.periodoService=u,this.archivoService=p,this.listaSectores=[],this.listaResultadoMayorAuxiliarMul=[],this.sectorSeleccionado=new dt.a,this.mayorAuxiliarMultipleSeleccionado=new qt,this.conCuentasDesde=new g.a,this.conCuentasHasta=new g.a,this.listaEmpresas=[],this.es={},this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.tamanioEstructura=0,this.codigoCuentaDesde=null,this.codigoCuentaHasta=null,this.objetoContableEnviar=null,this.cargando=!1,this.activar=!1,this.mostrarContabilidaAcciones=!1,this.isSeleccionarPrimeraFila=!0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.screamXS=!0,this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.mayorAuxiliarMultiple,this.innerWidth=window.innerWidth,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarMayorAuxiliarMultiple");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarMayorAuxiliar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultadoMayorAuxiliarMul.length>0&&t.operacionMayorAuxiliarMultiple(R.a.ACCION_CONSULTAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_MAYORIZAR,function(){return t.listaResultadoMayorAuxiliarMul.length>0&&t.operacionMayorAuxiliarMultiple(R.a.ACCION_MAYORIZAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_DESMAYORIZAR,function(){return t.listaResultadoMayorAuxiliarMul.length>0&&t.operacionMayorAuxiliarMultiple(R.a.ACCION_DESMAYORIZAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_REVERSAR,function(){return t.listaResultadoMayorAuxiliarMul.length>0&&t.operacionMayorAuxiliarMultiple(R.a.ACCION_REVERSAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_ANULAR,function(){return t.listaResultadoMayorAuxiliarMul.length>0&&t.operacionMayorAuxiliarMultiple(R.a.ACCION_ANULAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_RESTAURAR,function(){return t.listaResultadoMayorAuxiliarMul.length>0&&t.operacionMayorAuxiliarMultiple(R.a.ACCION_RESTAURAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirMayorAuxiliarMultiple");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarMayorAuxiliarMultiple");return t&&t.click(),!1}))},t.prototype.operacionMayorAuxiliarMultiple=function(t){this.mayorAuxiliarService.verificarPermiso(t,this,!0)&&this.mayorAuxiliarMultipleSeleccionado.maContable&&(this.cargando=!0,this.objetoContableEnviar={accion:t,contable:this.mayorAuxiliarMultipleSeleccionado.maContable,listadoSectores:this.listaSectores,tamanioEstructura:this.tamanioEstructura,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0})},t.prototype.imprimirListadoMayorAuxiliarMultiple=function(){var t=this;if(this.mayorAuxiliarService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,ListaConMayorAuxiliarTO:this.listaResultadoMayorAuxiliarMul,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),ctaDesde:this.codigoCuentaDesde,ctaHasta:this.codigoCuentaHasta};this.archivoService.postPDF("todocompuWS/contabilidadWebController/imprimirReporteMayorAuxiliar",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoMayorAuxiliarMultiple.pdf",e):t.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarMayorAuxiliarMultiple=function(){var t=this;if(this.mayorAuxiliarService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ConMayorAuxiliarTO:this.listaResultadoMayorAuxiliarMul,codigoCuenta:this.codigoCuentaDesde,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteConMayorAuxiliarTO",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"MayorAuxiliarMultiple_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.listarMayorAuxiliarMultipleTO=function(t){this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido?(this.filasTiempo.iniciarContador(),this.listar()):(this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},t.prototype.listar=function(){var t={codigoCuentaDesde:this.codigoCuentaDesde,codigoCuentaHasta:this.codigoCuentaHasta,fechaInicio:this.fechaInicio,fechaFin:this.fechaFin,empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.cargando=!0,this.mayorAuxiliarService.listarMayorAuxiliar(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarMayorAuxiliar=function(t){this.filasTiempo.finalizarContador(),this.listaResultadoMayorAuxiliarMul=t,this.cargando=!1},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;this.conCuentasDesde.cuentaCodigo=null,this.conCuentasHasta.cuentaCodigo=null,this.conCuentasDesde.cuentaDetalle=null,this.conCuentasHasta.cuentaDetalle=null,this.codigoCuentaDesde=null,this.codigoCuentaHasta=null,this.sectorSeleccionado=null,R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo;var e={empresa:this.empresaSeleccionada.empCodigo};this.obtenerFechaInicioActualMes(),this.planContableService.getTamanioListaConEstructura(e,R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)}),this.listarSectores(),this.limpiarResultado(),this.listarPeriodos()},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaInicio=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarResultado=function(){this.listaResultadoMayorAuxiliarMul=[],this.filasService.actualizarFilas("0","0")},t.prototype.generarOpciones=function(){var t=this,e=this.mayorAuxiliarMultipleSeleccionado.maContable,a=e&&this.mayorAuxiliarMultipleSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruMayorizarContables,i=e&&this.mayorAuxiliarMultipleSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruDesmayorizarContables,o=e&&this.mayorAuxiliarMultipleSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruAnularContables,n=e&&this.mayorAuxiliarMultipleSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruAnularContables,r=e&&this.mayorAuxiliarMultipleSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruAnularContables;this.opciones=[{label:R.a.ACCION_CONSULTAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.operacionMayorAuxiliarMultiple(R.a.ACCION_CONSULTAR):null}},{label:R.a.ACCION_MAYORIZAR,icon:R.a.ICON_MAYORIZAR,disabled:!a,command:function(){return a?t.operacionMayorAuxiliarMultiple(R.a.ACCION_MAYORIZAR):null}},{label:R.a.ACCION_DESMAYORIZAR,icon:R.a.ICON_DESMAYORIZAR,disabled:!i,command:function(){return i?t.operacionMayorAuxiliarMultiple(R.a.ACCION_DESMAYORIZAR):null}},{label:R.a.ACCION_REVERSAR,icon:R.a.ICON_REVERSAR,disabled:!o,command:function(){return o?t.operacionMayorAuxiliarMultiple(R.a.ACCION_REVERSAR):null}},{label:R.a.ACCION_ANULAR,icon:R.a.ICON_ANULAR,disabled:!n,command:function(){return n?t.operacionMayorAuxiliarMultiple(R.a.ACCION_ANULAR):null}},{label:R.a.ACCION_RESTAURAR,icon:R.a.ICON_RESTAURAR,disabled:!r,command:function(){return r?t.operacionMayorAuxiliarMultiple(R.a.ACCION_RESTAURAR):null}}]},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.mayorAuxiliarService.generarColumnas("MayorAuxiliarMultiple"),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:N.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.mayorAuxiliarMultipleSeleccionado=t,this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation()},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.mayorAuxiliarMultipleSeleccionado=e?e.data:null},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.validarCuentaDesde=function(){this.codigoCuentaDesde!==this.conCuentasDesde.cuentaCodigo&&(this.codigoCuentaDesde=null,this.conCuentasDesde.cuentaCodigo=null,this.conCuentasDesde.cuentaDetalle=null,this.limpiarResultado())},t.prototype.validarCuentaHasta=function(){this.codigoCuentaHasta!==this.conCuentasHasta.cuentaCodigo&&(this.codigoCuentaHasta=null,this.conCuentasHasta.cuentaCodigo=null,this.conCuentasHasta.cuentaDetalle=null,this.limpiarResultado())},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaInicio,this.fechaFin)))},t.prototype.buscarConCuentaDesde=function(t){var e=this;if(this.utilService.validarTeclasAgregarFila(t.keyCode)&&!this.fueBuscadoAnteriormente(this.conCuentasDesde,this.codigoCuentaDesde)&&(this.conCuentasDesde.cuentaCodigo=""===this.conCuentasDesde.cuentaCodigo?null:this.conCuentasDesde.cuentaCodigo,this.conCuentasDesde.cuentaCodigo=this.conCuentasDesde.cuentaCodigo?this.conCuentasDesde.cuentaCodigo.toUpperCase():null,this.conCuentasDesde.cuentaCodigo)){var a={empresa:this.empresaSeleccionada.empCodigo,buscar:this.conCuentasDesde.cuentaCodigo,ctaGrupo:null};t.srcElement.blur(),t.preventDefault();var i=this.modalService.open(ut.a,{size:"lg",windowClass:"miSize",backdrop:"static"});i.componentInstance.filtrosBusquedaPlanCuenta=a,i.componentInstance.tamanioEstructura=this.tamanioEstructura,i.result.then(function(t){e.codigoCuentaDesde=t?t.cuentaCodigo:null,e.conCuentasDesde.cuentaCodigo=t?t.cuentaCodigo:null,e.conCuentasDesde.cuentaDetalle=t?t.cuentaDetalle.trim():null,document.getElementById("cuentaDesde").focus()},function(t){var e=document.getElementById("cuentaDesde");e&&e.focus()})}},t.prototype.buscarConCuentaHasta=function(t){var e=this;if(this.utilService.validarTeclasAgregarFila(t.keyCode)&&!this.fueBuscadoAnteriormente(this.conCuentasHasta,this.codigoCuentaHasta)&&(this.conCuentasHasta.cuentaCodigo=""===this.conCuentasHasta.cuentaCodigo?null:this.conCuentasHasta.cuentaCodigo,this.conCuentasHasta.cuentaCodigo=this.conCuentasHasta.cuentaCodigo?this.conCuentasHasta.cuentaCodigo.toUpperCase():null,this.conCuentasHasta.cuentaCodigo)){var a={empresa:this.empresaSeleccionada.empCodigo,buscar:this.conCuentasHasta.cuentaCodigo,ctaGrupo:null};t.srcElement.blur(),t.preventDefault();var i=this.modalService.open(ut.a,{size:"lg",windowClass:"miSize",backdrop:"static"});i.componentInstance.filtrosBusquedaPlanCuenta=a,i.componentInstance.tamanioEstructura=this.tamanioEstructura,i.result.then(function(t){e.codigoCuentaHasta=t?t.cuentaCodigo:null,e.conCuentasHasta.cuentaCodigo=t?t.cuentaCodigo:null,e.conCuentasHasta.cuentaDetalle=t?t.cuentaDetalle.trim():null,document.getElementById("cuentaHasta").focus()},function(t){var e=document.getElementById("cuentaHasta");e&&e.focus()})}},t.prototype.fueBuscadoAnteriormente=function(t,e){return t.cuentaCodigo&&t.cuentaCodigo===e},t.prototype.cerrarContabilidadAcciones=function(t){this.activar=!!t.objetoEnviar&&t.objetoEnviar.activar,this.objetoContableEnviar=t.objetoEnviar,this.mostrarContabilidaAcciones=t.mostrarContilidadAcciones,this.filasService.actualizarFilas(this.listaResultadoMayorAuxiliarMul.length,this.filasTiempo.getTiempo()),this.cdRef.detectChanges(),t.contable&&this.listar(),this.generarAtajosTeclado()},t.prototype.cambiarEstadoCargando=function(t){this.cargando=t,this.cdRef.detectChanges()},t.prototype.cambiarEstadoActivar=function(t){this.activar=t,this.cdRef.detectChanges()},t.prototype.verContable=function(){this.operacionMayorAuxiliarMultiple(R.a.ACCION_CONSULTAR)},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},Zt([Object(i.ViewChild)("menuOpciones"),Qt("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),Zt([Object(i.HostListener)("window:resize",["$event"]),Qt("design:type",Function),Qt("design:paramtypes",[]),Qt("design:returntype",void 0)],t.prototype,"onResize",null),t=Zt([Object(i.Component)({selector:"app-mayor-auxiliar-multiple",template:a("Kh9/"),styles:[a("EHw9")]}),Qt("design:paramtypes",[n.ActivatedRoute,h.b,pt.a,u.HotkeysService,v.a,m.b,S.a,$t.a,T.a,i.ChangeDetectorRef,r.a,q.a,E.a])],t)}(),ee=function(){function t(t){this.id=0,this.vcPeriodo="",this.vcTipo="",this.vcNumero="",this.vcFecha="",this.vcPendiente=!1,this.vcBloqueado=!1,this.vcAnulado=!1,this.vcDebitos=0,this.vcCreditos=0,this.vcObservaciones="",t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t.id?t.id:this.id,this.vcPeriodo=t.vcPeriodo?t.vcPeriodo:this.vcPeriodo,this.vcTipo=t.vcTipo?t.vcTipo:this.vcTipo,this.vcNumero=t.vcNumero?t.vcNumero:this.vcNumero,this.vcFecha=t.vcFecha?t.vcFecha:this.vcFecha,this.vcPendiente=t.vcPendiente?t.vcPendiente:this.vcPendiente,this.vcBloqueado=t.vcBloqueado?t.vcBloqueado:this.vcBloqueado,this.vcAnulado=t.vcAnulado?t.vcAnulado:this.vcAnulado,this.vcDebitos=t.vcDebitos?t.vcDebitos:this.vcDebitos,this.vcCreditos=t.vcCreditos?t.vcCreditos:this.vcCreditos,this.vcObservaciones=t.vcObservaciones?t.vcObservaciones:this.vcObservaciones},t}(),ae=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},ie=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},oe=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarContablesVerificacionesTO=function(t,e,a){var i=this;e.filasTiempo&&e.filasTiempo.iniciarContador(),this.api.post("todocompuWS/contabilidadWebController/getFunContablesVerificacionesTO",t,a).then(function(t){e.filasTiempo&&e.filasTiempo.finalizarContador(),t&&t.extraInfo?e.despuesDeListarContablesVerificacionesTO(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarContablesVerificacionesTO([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(){return[{headerName:R.a.TAG_PERIODO,field:"vcPeriodo",width:150,minWidth:150,cellClass:"text-whitespace"},{headerName:R.a.TAG_TIPO,field:"vcTipo",width:150,minWidth:150,cellClass:"text-whitespace"},{headerName:R.a.TAG_NUMERO,field:"vcNumero",width:150,minWidth:150,cellClass:"text-whitespace"},{headerName:R.a.TAG_FECHA,field:"vcFecha",width:150,minWidth:150,cellClass:"text-whitespace"},{headerName:R.a.TAG_PENDIENTE,headerClass:"text-md-center",field:"vcPendiente",width:180,minWidth:180,cellRenderer:"inputEstado",cellClass:"text-md-center"},{headerName:R.a.TAG_BLOQUEADO,headerClass:"text-md-center",field:"vcBloqueado",width:180,minWidth:180,cellRenderer:"inputEstado",cellClass:"text-md-center"},{headerName:R.a.TAG_ANULADO,headerClass:"text-md-center",field:"vcAnulado",width:180,minWidth:180,cellRenderer:"inputEstado",cellClass:"text-md-center"},{headerName:R.a.TAG_DEBITOS,field:"vcDebitos",width:150,minWidth:150,valueFormatter:ne,cellClass:"text-whitespace text-right"},{headerName:R.a.TAG_CREDITOS,field:"vcCreditos",width:150,minWidth:150,valueFormatter:ne,cellClass:"text-whitespace text-right"},{headerName:R.a.TAG_OBSERVACIONES,field:"vcObservaciones",width:600,minWidth:600,cellClass:"text-whitespace"},{headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:R.a.WIDTH_OPCIONES,minWidth:R.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(t){return{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_CONTABLE,accion:R.a.ACCION_CONSULTAR}},headerComponent:"toolTip",headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}]},t=ae([Object(i.Injectable)({providedIn:"root"}),ie("design:paramtypes",[C.a,h.b,T.a])],t)}();function ne(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var re=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},se=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ce=function(){function t(t,e,a,i,o,n,r,s,c){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.cdRef=r,this.planContableService=s,this.verificacionContablesErroresService=c,this.listaResultado=[],this.objetoSeleccionado=new ee,this.listaEmpresas=[],this.constantes=R.a,this.es={},this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.objetoContableEnviar=null,this.mostrarContabilidaAcciones=!1,this.tamanioEstructura=0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.verificacionContablesErrores,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.iniciarAgGrid(),this.generarAtajosTeclado()},t.prototype.listarContablesVerificaciones=function(){this.listaResultado=[],this.cargando=!0,this.verificacionContablesErroresService.listarContablesVerificacionesTO({empresa:this.empresaSeleccionada.empCodigo},this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarContablesVerificacionesTO=function(t){this.listaResultado=t,this.cargando=!1},t.prototype.imprimirVerificacionContablesErrores=function(){var t=this;this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)&&(this.cargando=!0,this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteContablesVerificacionesErrores",{listConFunContablesVerificacionesTO:this.listaResultado},this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoVerificacionContableErrores.pdf",e):t.toastr.warning(R.a.MSJ_ERROR_IMPRIMIR),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)}))},t.prototype.exportarVerificacionContablesErrores=function(){var t=this;this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)&&(this.cargando=!0,this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteContablesVerificacionesErrores",{listConFunContablesVerificacionesTO:this.listaResultado},this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"VerificacionContableErrores_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)}))},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.listaResultado=[],this.filasService.actualizarFilas("0","0"),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarVerifContErrores");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarVerifContErrores");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirVerifContErrores");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarVerifContErrores");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultado.length>0&&t.consultarContable(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultado.length>0;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarContable():null}}]},t.prototype.consultarContable=function(){this.cargando=!0,this.objetoContableEnviar={accion:R.a.ACCION_CONSULTAR,contable:this.objetoSeleccionado.vcPeriodo+"|"+this.objetoSeleccionado.vcTipo+"|"+this.objetoSeleccionado.vcNumero,listadoSectores:[],tamanioEstructura:this.tamanioEstructura,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:this.objetoSeleccionado.vcTipo,listaPeriodos:[],volverACargar:!1}},t.prototype.cambiarEstadoCargando=function(t){this.cargando=t},t.prototype.cambiarEstadoActivar=function(t){this.activar=t,this.cdRef.detectChanges()},t.prototype.cerrarContabilidadAcciones=function(t){this.activar=!!t.objetoEnviar&&t.objetoEnviar.activar,this.objetoContableEnviar=t.objetoEnviar,this.mostrarContabilidaAcciones=t.mostrarContilidadAcciones,this.actualizarFilas(),this.cdRef.detectChanges(),this.generarAtajosTeclado()},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.verificacionContablesErroresService.generarColumnas(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a,inputEstado:F.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.objetoSeleccionado=e?e.data:null},t.prototype.ejecutarAccion=function(t,e){this.objetoSeleccionado=t,this.consultarContable()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.objetoSeleccionado=t,this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation()},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},re([Object(i.ViewChild)("menuOpciones"),se("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),re([Object(i.HostListener)("window:resize",["$event"]),se("design:type",Function),se("design:paramtypes",[]),se("design:returntype",void 0)],t.prototype,"onResize",null),t=re([Object(i.Component)({selector:"app-verificacion-contables-errores",template:a("XgA3"),styles:[a("ETl4")]}),se("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,i.ChangeDetectorRef,S.a,oe])],t)}(),le=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},de=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ue=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarFunCuentasSobregiradasTO=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getFunCuentasSobregiradasTO",t,a).then(function(t){t&&t.extraInfo?e.despuesDeListarFunCuentasSobregiradasTO(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarFunCuentasSobregiradasTO([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t){return[{headerName:R.a.TAG_CUENTA,field:"bgCuenta",width:200,minWidth:200,cellClass:function(e){return e.value.length<t.tamanioEstructura?"tr-negrita ":""}},{headerName:R.a.TAG_DETALLE,field:"bgDetalle",width:450,minWidth:450,cellClass:function(e){return e.data.bgCuenta.length<t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"bgSaldo1",width:150,minWidth:100,valueFormatter:pe,cellClass:function(e){return e.data.bgCuenta.length<t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}}]},t=le([Object(i.Injectable)({providedIn:"root"}),de("design:paramtypes",[C.a,h.b,T.a])],t)}();function pe(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var he=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},me=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fe=function(){function t(t,e,a,i,o,n,r,s,c,l,d){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.sectorService=r,this.planContableService=s,this.sistemaService=c,this.verificacionCuentasSobregiradasService=l,this.periodoService=d,this.listaResultado=[],this.listaSectores=[],this.listaEmpresas=[],this.sectorSeleccionado=new dt.a,this.constantes=R.a,this.es={},this.cargando=!1,this.activar=!1,this.tamanioEstructura=0,this.filasTiempo=new D.a,this.screamXS=!0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.verificacionCuentasSobregiradas,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.onresize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},t.prototype.listarContablesCuentasSobregiradas=function(t){if(this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechaFin){this.limpiarResultado(),this.cargando=!0,this.filasTiempo.iniciarContador();var e={empresa:this.empresaSeleccionada.empCodigo,secCodigo:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null,fecha:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.verificacionCuentasSobregiradasService.listarFunCuentasSobregiradasTO(e,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarFunCuentasSobregiradasTO=function(t){this.filasTiempo.finalizarContador(),this.listaResultado=t,this.cargando=!1},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.imprimirVerificacionCuentasSobregiradas=function(){var t=this;this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)&&(this.cargando=!0,this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteBalanceGeneralTO",{listConBalanceGeneralNecTO:this.listaResultado,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)},this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoVerificacionContableErrores.pdf",e):t.toastr.warning(R.a.MSJ_ERROR_IMPRIMIR),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)}))},t.prototype.exportarVerificacionCuentasSobregiradas=function(){var t=this;this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)&&(this.cargando=!0,this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteBalanceGeneral",{listConBalanceGeneralTO:this.listaResultado,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",fecha:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)},this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"VerificacionCuentasSobregiradas_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)}))},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.limpiarResultado(),this.listarSectores(),this.listarPeriodos(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.verificacionCuentasSobregiradasService.generarColumnas(this),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarVerificacionCuentasSobregiradas");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirVerificacionCuentasSobregiradas");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarVerificacionCuentasSobregiradas");return t&&t.click(),!1}))},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},he([Object(i.HostListener)("window:resize",["$event"]),me("design:type",Function),me("design:paramtypes",[]),me("design:returntype",void 0)],t.prototype,"onresize",null),t=he([Object(i.Component)({selector:"app-verificacion-cuentas-sobregiradas",template:a("ENTR"),styles:[a("DnGz")]}),me("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,pt.a,S.a,r.a,ue,q.a])],t)}(),be=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ce=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ge=function(){function t(t,e,a){this.api=t,this.utilService=e,this.toastr=a}return t.prototype.listarBalanceResultadoMensualizado=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getBalanceResultadoMensualizado",t,a).then(function(t){if(t&&t.extraInfo){var a=i.utilService.convertirMatrizEnLista(t.extraInfo.datos),o={columnas:t.extraInfo.columnas,listado:a,datos:t.extraInfo.datos,columnasFaltantes:t.extraInfo.columnas};e.despuesDeListarBalanceResultadoMensualizado(o)}else i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarBalanceResultadoMensualizado(null),e.cargando=!1}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.convertirCabeceraObjetoConEstilo=function(t,e,a,i){var o=[],n=0;return t.forEach(function(t){var r={headerName:null,width:null,field:null,cellClass:null,valueFormatter:null,pinned:null,minWidth:null};r.headerName=t,r.field=n+"",r.width="Detalle"===t?350:200,"Detalle"===t&&(r.minWidth=350),r.pinned="Detalle"===t||"Cuenta"===t?"left":null,r.cellClass=function(o){var n="Detalle"===t||"Cuenta"===t?"text-sm-left ":"text-sm-right ";return o.data[0].length!==a&&!i||o.data[0].length===e&&i?n+=" text-whitespace tr-negrita":(o.data[0].length,n+="text-whitespace")},r.valueFormatter="Detalle"===t||"Cuenta"===t?null:Ae,o.push(r),n+=1}),o.push({headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:R.a.WIDTH_OPCIONES,minWidth:R.a.WIDTH_OPCIONES,cellRendererFramework:Ct.a,cellClass:"text-md-center",cellRendererParams:function(t){return t.data[0].length===a||i?{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_MAYOR_AUXILIAR,accion:R.a.ACCION_CONSULTAR}:{icono:"",tooltip:"",accion:""}},headerComponentFramework:x.a,headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}),o},t=be([Object(i.Injectable)({providedIn:"root"}),Ce("design:paramtypes",[C.a,T.a,h.b])],t)}();function Ae(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var Se=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},ve=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Re=function(){function t(t,e,a,i,o,n,r,s,c,l,d,u){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.sectorService=r,this.planContableService=s,this.auth=c,this.sistemaService=l,this.estadoResultadoIntegralMensualizadoService=d,this.periodoService=u,this.listaSectores=[],this.listaEmpresas=[],this.sectorSeleccionado=new dt.a,this.constantes=R.a,this.es={},this.tamanioEstructura=0,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.listaResultado=[],this.columnasFaltantes=[],this.objetoSeleccionado=new lt,this.mostrarFormularioMayorAuxiliar=!1,this.filtrarLista=!1,this.longitudGrupo1=0,this.longitudPenultimoGrupo=0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.balanceResultadoIntegralMensualizado,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.obtenerFechaInicioFinMes(),this.limpiarResultado(),this.listarSectores(),this.listarPeriodos(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6,t.longitudGrupo1=e[0].estGrupo1,t.longitudPenultimoGrupo=t.utilService.establecerLongitudPenultimoGrupo(e)}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.obtenerFechaInicioFinMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaInicio=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarResultado=function(){this.datos=[],this.gridApi=null,this.gridColumnApi=null,this.listaResultado=[],this.filasTiempo.resetearContador(),this.actualizarFilas()},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarBalanceResultadoMensualizados");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarBalanceResultadoMensualizados");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirBalanceResultadoMensualizados");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarBalanceResultadoMensualizados");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultado.length>0&&t.consultarMayorAuxiliar(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultado.length>0&&this.objetoSeleccionado[0].length===this.tamanioEstructura;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarMayorAuxiliar():null}}]},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaInicio,this.fechaFin)))},t.prototype.listarBalanceResultadoMensualizado=function(t,e){if(this.cargando=!0,this.filtrarLista=e,this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido){this.limpiarResultado();var a={usuario:this.auth.getCodigoUser(),fechaInicio:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaFin:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),empresa:this.empresaSeleccionada.empCodigo,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.cargando=!0,this.filasTiempo.iniciarContador(),this.estadoResultadoIntegralMensualizadoService.listarBalanceResultadoMensualizado(a,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarBalanceResultadoMensualizado=function(t){this.filasTiempo.finalizarContador(),this.datos=t?t.datos:[],this.columnasFaltantes=t?t.columnasFaltantes:[],t&&(this.columnDefs=this.estadoResultadoIntegralMensualizadoService.convertirCabeceraObjetoConEstilo(t.columnas?t.columnas:[],this.longitudGrupo1,this.tamanioEstructura,this.filtrarLista),this.listaResultado=t?t.listado:[],this.iniciarAgGrid(),this.filtrarLista&&this.filtrarListaBalanceResultadoMensualizado()),this.cargando=!1},t.prototype.filtrarListaBalanceResultadoMensualizado=function(){var t=this,e=[];this.gridApi&&(this.gridApi.forEachNodeAfterFilterAndSort(function(a){var i=a.data;i[0].length==t.longitudGrupo1&&e.push(i),i[0].length==t.longitudPenultimoGrupo&&e.push(i)}),this.listaResultado=e,this.gridApi.updateRowData({update:e}))},t.prototype.ejecutarAccion=function(t){this.objetoSeleccionado=t,this.consultarMayorAuxiliar()},t.prototype.consultarMayorAuxiliar=function(){this.objetoSeleccionado[0]&&this.objetoSeleccionado[0].length===this.tamanioEstructura&&(this.objetoMayorAuxiliarDesdeFuera={empresa:this.empresaSeleccionada,codigoCuentaDesde:this.objetoSeleccionado[0],cuentaDetalle:this.objetoSeleccionado[1].trim(),fechaInicio:this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.fechaInicio),fechaFin:this.utilService.formatoDateSinZonaHorariaYYYMMDD(this.fechaFin),mostrarBtnCancelar:!0,listaSectores:this.listaSectores,sector:this.sectorSeleccionado},this.mostrarFormularioMayorAuxiliar=!0)},t.prototype.cerrarMayorAuxiliar=function(t){this.mostrarFormularioMayorAuxiliar=t,this.objetoMayorAuxiliarDesdeFuera=null,this.actualizarFilas(),this.generarAtajosTeclado()},t.prototype.imprimirBalanceResultadoMensualizados=function(){var t=this;this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)&&(this.cargando=!0,this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteMayorGeneralDatos",{datos:this.datos,fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),cuentaContable:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null},this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("balanceResultadoIntegralMensualizado.pdf",e):t.toastr.warning(R.a.MSJ_ERROR_IMPRIMIR),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)}))},t.prototype.exportarBalanceResultadoMensualizados=function(){var t=this;this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)&&(this.cargando=!0,this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteBalanceResultadoMensualizado",{datos:this.datos,columnas:this.columnasFaltantes,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null},this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"balanceResultadoIntegralMensualizado_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)}))},t.prototype.iniciarAgGrid=function(){this.filtrarLista&&this.columnDefs.pop(),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.filtrarLista&&this.filtrarListaBalanceResultadoMensualizado(),this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.objetoSeleccionado=t,this.objetoSeleccionado[0].length===this.tamanioEstructura&&(this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation())},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},Se([Object(i.ViewChild)("menuOpciones"),ve("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),Se([Object(i.HostListener)("window:resize",["$event"]),ve("design:type",Function),ve("design:paramtypes",[]),ve("design:returntype",void 0)],t.prototype,"onResize",null),t=Se([Object(i.Component)({selector:"app-estado-resultado-integral-mensualizado",template:a("6iNw"),styles:[a("3Bj5")]}),ve("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,pt.a,S.a,A.a,r.a,ge,q.a])],t)}(),Ee=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Te=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ie=function(){function t(t,e,a,i,o,n,r,s,c){this.route=t,this.atajoService=e,this.filasService=a,this.periodoService=i,this.tipoContableService=o,this.cdRef=n,this.utilService=r,this.toastr=s,this.planContableService=c,this.listaPeriodos=[],this.listaTipos=[],this.periodoSeleccionado=new K.a,this.tipoSeleccionado=new H.a,this.listaEmpresas=[],this.constantes=R.a,this.activar=!1,this.isScreamMd=!0,this.cargando=!1,this.objetoContableEnviar=null,this.conNumero=null,this.tamanioEstructura=0,this.mostrarContabilidaAcciones=!1}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.consultarComprobanteContable,this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},t.prototype.buscarContable=function(t){this.utilService.establecerFormularioTocado(t)&&t&&t.valid?(this.cargando=!0,this.objetoContableEnviar={accion:R.a.ACCION_CONSULTAR,contable:this.periodoSeleccionado.sisPeriodoPK.perCodigo+"|"+this.tipoSeleccionado.tipCodigo+"|"+this.conNumero,listadoSectores:[],tamanioEstructura:this.tamanioEstructura,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:this.tipoSeleccionado,listaPeriodos:[],volverACargar:!1},this.mostrarContabilidaAcciones=!0,this.cdRef.detectChanges()):(this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},t.prototype.listarPeriodos=function(){this.listaPeriodos=[];var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){var e=this;this.listaPeriodos=t,this.listaPeriodos.length>0?this.periodoSeleccionado=this.periodoSeleccionado&&this.periodoSeleccionado.sisPeriodoPK.perCodigo?this.listaPeriodos.find(function(t){return t.sisPeriodoPK.perCodigo===e.periodoSeleccionado.sisPeriodoPK.perCodigo}):this.listaPeriodos[0]:this.periodoSeleccionado=null,this.cargando=!1},t.prototype.listarTipos=function(){this.listaTipos=[];var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.tipoContableService.listarTipoContable(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarTipoContable=function(t){var e=this;this.listaTipos=t,this.listaTipos.length>0?this.tipoSeleccionado=this.tipoSeleccionado&&this.tipoSeleccionado.tipCodigo?this.listaTipos.find(function(t){return t.tipCodigo===e.tipoSeleccionado.tipCodigo}):this.listaTipos[0]:this.tipoSeleccionado=null,this.cargando=!1},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.tipoSeleccionado=null,this.periodoSeleccionado=null,this.listarTipos(),this.listarPeriodos(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1}))},t.prototype.soloNumeros=function(t){return this.utilService.soloNumeros(t)},t.prototype.completarCeros=function(){this.conNumero=this.utilService.completarCeros(this.conNumero)},t.prototype.cambiarEstadoCargando=function(t){this.cargando=t},t.prototype.cambiarEstadoActivar=function(t){this.activar=t,this.cdRef.detectChanges()},t.prototype.cerrarContabilidadAcciones=function(t){this.activar=!!t.objetoEnviar&&t.objetoEnviar.activar,this.objetoContableEnviar=t.objetoEnviar,this.mostrarContabilidaAcciones=t.mostrarContilidadAcciones,this.filasService.actualizarFilas("0","0"),this.cdRef.detectChanges()},t=Ee([Object(i.Component)({selector:"app-consultar-comprobante-contable",template:a("Cu1O"),styles:[a("wAhZ")]}),Te("design:paramtypes",[n.ActivatedRoute,u.HotkeysService,v.a,q.a,k.a,i.ChangeDetectorRef,T.a,h.b,S.a])],t)}(),Oe=function(){function t(t){this.id=0,this.bcCuenta=null,this.bcDetalle=null,this.bcSaldoAnterior=0,this.bcTotalDebito=0,this.bcTotalCredito=0,this.bcSaldoFinal=0,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t.id?t.id:this.id,this.bcCuenta=t.bcCuenta?t.bcCuenta:this.bcCuenta,this.bcDetalle=t.bcDetalle?t.bcDetalle:this.bcDetalle,this.bcSaldoAnterior=t.bcSaldoAnterior?t.bcSaldoAnterior:this.bcSaldoAnterior,this.bcTotalDebito=t.bcTotalDebito?t.bcTotalDebito:this.bcTotalDebito,this.bcTotalCredito=t.bcTotalCredito?t.bcTotalCredito:this.bcTotalCredito,this.bcSaldoFinal=t.bcSaldoFinal?t.bcSaldoFinal:this.bcSaldoFinal},t}(),ye=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},_e=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Me=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarEstadoComprobacion=function(t,e,a){var i=this;e.filasTiempo&&e.filasTiempo.iniciarContador(),this.api.post("todocompuWS/contabilidadWebController/getListaBalanceComprobacionTO",t,a).then(function(t){e.filasTiempo&&e.filasTiempo.finalizarContador(),t&&t.extraInfo?1===t.extraInfo.length?(i.toastr.warning(R.a.MSJ_NO_DATA,"Aviso"),e.despuesDeListarEstadoComprobacion([]),e.cargando=!1):e.despuesDeListarEstadoComprobacion(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarEstadoComprobacion([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t,e,a){return t.ocultarOpciones?[{headerName:R.a.TAG_CUENTA,field:"bcCuenta",width:150,minWidth:150,cellClass:function(i){return i.data.bcCuenta&&i.data.bcCuenta.length===a?"tr-negrita ":i.data.bcCuenta&&i.data.bcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"bcDetalle",width:250,minWidth:250,cellClass:function(i){return i.data.bcCuenta&&i.data.bcCuenta.length===a?"tr-negrita ":!i.data.bcCuenta||i.data.bcCuenta&&i.data.bcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO_ANTERIOR,field:"bcSaldoAnterior",width:150,minWidth:150,valueFormatter:Le,cellClass:function(i){return i.data.bcCuenta&&i.data.bcCuenta.length===a?"tr-negrita ":!i.data.bcCuenta||i.data.bcCuenta&&i.data.bcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_TOTAL_DEBITOS,field:"bcTotalDebito",width:150,minWidth:150,valueFormatter:Le,cellClass:function(i){return i.data.bcCuenta&&i.data.bcCuenta.length===a?"tr-negrita ":!i.data.bcCuenta||i.data.bcCuenta&&i.data.bcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_TOTAL_CREDITOS,field:"bcTotalCredito",width:150,minWidth:150,valueFormatter:Le,cellClass:function(i){return i.data.bcCuenta&&i.data.bcCuenta.length===a?"tr-negrita ":!i.data.bcCuenta||i.data.bcCuenta&&i.data.bcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO_FINAL,field:"bcSaldoFinal",width:150,minWidth:150,valueFormatter:Le,cellClass:function(i){return i.data.bcCuenta&&i.data.bcCuenta.length===a?"tr-negrita ":!i.data.bcCuenta||i.data.bcCuenta&&i.data.bcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}}]:[{headerName:R.a.TAG_CUENTA,field:"bcCuenta",width:150,minWidth:150,cellClass:function(e){return e.data.bcCuenta&&e.data.bcCuenta.length!==t.tamanioEstructura?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"bcDetalle",width:250,minWidth:250,cellClass:function(e){return!e.data.bcCuenta||e.data.bcCuenta&&e.data.bcCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO_ANTERIOR,field:"bcSaldoAnterior",width:150,minWidth:150,valueFormatter:Le,cellClass:function(e){return!e.data.bcCuenta||e.data.bcCuenta&&e.data.bcCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_TOTAL_DEBITOS,field:"bcTotalDebito",width:150,minWidth:150,valueFormatter:Le,cellClass:function(e){return!e.data.bcCuenta||e.data.bcCuenta&&e.data.bcCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_TOTAL_CREDITOS,field:"bcTotalCredito",width:150,minWidth:150,valueFormatter:Le,cellClass:function(e){return!e.data.bcCuenta||e.data.bcCuenta&&e.data.bcCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO_FINAL,field:"bcSaldoFinal",width:150,minWidth:150,valueFormatter:Le,cellClass:function(e){return!e.data.bcCuenta||e.data.bcCuenta&&e.data.bcCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:R.a.WIDTH_OPCIONES,minWidth:R.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.bcCuenta&&e.data.bcCuenta.length===t.tamanioEstructura?{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_MAYOR_AUXILIAR,accion:R.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}]},t=ye([Object(i.Injectable)({providedIn:"root"}),_e("design:paramtypes",[C.a,h.b,T.a])],t)}();function Le(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var De=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ne=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xe=function(){function t(t,e,a,i,o,n,r,s,c,l,d){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.sectorService=r,this.planContableService=s,this.sistemaService=c,this.estadoComprobacionService=l,this.periodoService=d,this.listaResultadoEstadoComprobacion=[],this.listaSectores=[],this.balanceComprobacionSeleccionado=new Oe,this.sectorSeleccionado=new dt.a,this.listaEmpresas=[],this.constantes=R.a,this.es={},this.tamanioEstructura=0,this.cargando=!1,this.activar=!1,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.ocultarOpciones=!1,this.mostrarFormularioMayorAuxiliar=!1,this.longitudGrupo1=0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.estadosComprobacion,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},t.prototype.consultarMayorAuxiliar=function(){this.balanceComprobacionSeleccionado.bcCuenta&&this.balanceComprobacionSeleccionado.bcCuenta.length===this.tamanioEstructura&&(this.objetoMayorAuxiliarDesdeFuera={empresa:this.empresaSeleccionada,codigoCuentaDesde:this.balanceComprobacionSeleccionado.bcCuenta,cuentaDetalle:this.balanceComprobacionSeleccionado.bcDetalle.trim(),fechaInicio:this.fechaInicio,fechaFin:this.fechaFin,mostrarBtnCancelar:!0,listaSectores:this.listaSectores,sector:this.sectorSeleccionado},this.mostrarFormularioMayorAuxiliar=!0)},t.prototype.cerrarMayorAuxiliar=function(t){this.mostrarFormularioMayorAuxiliar=t,this.objetoMayorAuxiliarDesdeFuera=null,this.actualizarFilas(),this.generarAtajosTeclado()},t.prototype.listarEstadoComprobacion=function(t,e){if(this.limpiarResultado(),this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido){var a={ocultarDetalle:e,fechaInicio:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaFin:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),empresa:this.empresaSeleccionada.empCodigo,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.filasTiempo.iniciarContador(),this.cargando=!0,this.ocultarOpciones=e,this.estadoComprobacionService.listarEstadoComprobacion(a,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarEstadoComprobacion=function(t){this.iniciarAgGrid(),this.filasTiempo.finalizarContador(),this.listaResultadoEstadoComprobacion=t,this.cargando=!1},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaInicio,this.fechaFin)))},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.obtenerFechaInicioActualMes(),this.limpiarResultado(),this.listarSectores(),this.listarPeriodos(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.longitudGrupo1=e[0].estGrupo1,t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaInicio=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarResultado=function(){this.listaResultadoEstadoComprobacion=[],this.filasService.actualizarFilas("0","0")},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarEstadoComprobacion");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarBalanceComprobacion");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirBalanceComprobacion");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarBalanceComprobacion");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultadoEstadoComprobacion.length>0&&t.consultarMayorAuxiliar(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultadoEstadoComprobacion.length>0&&this.balanceComprobacionSeleccionado.bcCuenta.length===this.tamanioEstructura;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarMayorAuxiliar():null}}]},t.prototype.imprimirBalanceComprobacion=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),listConBalanceComprobacionTO:this.listaResultadoEstadoComprobacion};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteBalanceComprobacion",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoEstadoComprobacion.pdf",e):t.toastr.warning("El reporte no existe o tiene errores"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarBalanceComprobacion=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),listConBalanceComprobacionTO:this.listaResultadoEstadoComprobacion};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteEstadosComprobacion",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"estadoComprobacion_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.estadoComprobacionService.generarColumnas(this,this.ocultarOpciones,this.longitudGrupo1),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.balanceComprobacionSeleccionado=e?e.data:null},t.prototype.ejecutarAccion=function(t){this.balanceComprobacionSeleccionado=t,this.consultarMayorAuxiliar()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.balanceComprobacionSeleccionado=t,this.balanceComprobacionSeleccionado.bcCuenta.length===this.tamanioEstructura&&(this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation())},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},De([Object(i.ViewChild)("menuOpciones"),Ne("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),De([Object(i.HostListener)("window:resize",["$event"]),Ne("design:type",Function),Ne("design:paramtypes",[]),Ne("design:returntype",void 0)],t.prototype,"onResize",null),t=De([Object(i.Component)({selector:"app-estado-comprobacion",template:a("BRk2"),styles:[a("svf8")]}),Ne("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,pt.a,S.a,r.a,Me,q.a])],t)}(),Fe=function(){function t(t){this.id=0,this.brcCuenta=null,this.brcDetalle=null,this.brcSaldo=0,this.brcSaldo2=0,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t.id?t.id:this.id,this.brcCuenta=t.brcCuenta?t.brcCuenta:this.brcCuenta,this.brcDetalle=t.brcDetalle?t.brcDetalle:this.brcDetalle,this.brcSaldo=t.brcSaldo?t.brcSaldo:this.brcSaldo,this.brcSaldo2=t.brcSaldo2?t.brcSaldo2:this.brcSaldo2},t}(),Pe=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},we=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ge=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarEstadoIntegralComparativo=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getConBalanceResultadoComparativoTO",t,a).then(function(t){t&&t.extraInfo?1===t.extraInfo.length?(i.toastr.warning(R.a.MSJ_NO_DATA,"Aviso"),e.despuesDeListarEstadoIntegralComparativo([]),e.cargando=!1):e.despuesDeListarEstadoIntegralComparativo(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarEstadoIntegralComparativo([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t,e,a){return t.ocultarOpciones?[{headerName:R.a.TAG_CUENTA,field:"brcCuenta",width:100,minWidth:100,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"brcDetalle",width:200,minWidth:200,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":!e&&i.data.brcCuenta||i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"brcSaldo",width:150,minWidth:150,valueFormatter:je,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":!e&&i.data.brcCuenta||i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO2,field:"brcSaldo2",width:150,minWidth:150,valueFormatter:je,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":!e&&i.data.brcCuenta||i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}}]:[{headerName:R.a.TAG_CUENTA,field:"brcCuenta",width:100,minWidth:100,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"brcDetalle",width:200,minWidth:200,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":!i.data.brcCuenta||i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"brcSaldo",width:150,minWidth:150,valueFormatter:je,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":!i.data.brcCuenta||i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO2,field:"brcSaldo2",width:150,minWidth:150,valueFormatter:je,cellClass:function(i){return i.data.brcCuenta&&i.data.brcCuenta.length===a?"tr-negrita ":!i.data.brcCuenta||i.data.brcCuenta&&i.data.brcCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:R.a.WIDTH_OPCIONES,minWidth:R.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.brcCuenta&&e.data.brcCuenta.length===t.tamanioEstructura?{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_MAYOR_AUXILIAR,accion:R.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}]},t=Pe([Object(i.Injectable)({providedIn:"root"}),we("design:paramtypes",[C.a,h.b,T.a])],t)}();function je(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var Be=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ue=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ke=function(){function t(t,e,a,i,o,n,r,s,c,l){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.sectorService=r,this.sistemaService=s,this.planContableService=c,this.estadoResIntComparativoService=l,this.listaResultado=[],this.listaSectores=[],this.balanceComparativoSeleccionado=new Fe,this.sectorSeleccionado=new dt.a,this.listaEmpresas=[],this.constantes=R.a,this.es={},this.tamanioEstructura=0,this.cargando=!1,this.activar=!1,this.fechasValidos1={fechaInicioValido:!0,fechaFinValido:!0},this.fechasValidos2={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.ocultarOpciones=!1,this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal=""}return t.prototype.ngOnInit=function(){this.constantes=R.a,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.estadoResultadoIntegralComparativo,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},t.prototype.consultarMayorAuxiliar=function(){this.balanceComparativoSeleccionado.brcCuenta&&this.balanceComparativoSeleccionado.brcCuenta.length===this.tamanioEstructura&&(this.objetoMayorAuxiliarDesdeFuera={empresa:this.empresaSeleccionada,codigoCuentaDesde:this.balanceComparativoSeleccionado.brcCuenta,cuentaDetalle:this.balanceComparativoSeleccionado.brcDetalle.trim(),fechaInicio:this.fechaDesde,fechaFin:this.fechaHasta,mostrarBtnCancelar:!0,listaSectores:this.listaSectores,sector:this.sectorSeleccionado},this.mostrarFormularioMayorAuxiliar=!0)},t.prototype.cerrarMayorAuxiliar=function(t){this.mostrarFormularioMayorAuxiliar=t,this.objetoMayorAuxiliarDesdeFuera=null,this.filasService.actualizarFilas(this.listaResultado.length,this.filasTiempo.getTiempo()),this.generarAtajosTeclado()},t.prototype.listarEstadoIntegralComparativo=function(t,e){if(this.limpiarResultado(),this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos1.fechaInicioValido&&this.fechasValidos1.fechaFinValido&&this.fechasValidos2.fechaInicioValido&&this.fechasValidos2.fechaFinValido){this.filasTiempo.iniciarContador();var a={ocultarDetalle:e,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta),fechaDesde2:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde2),fechaHasta2:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta2),empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:""};this.cargando=!0,this.ocultarOpciones=e,this.estadoResIntComparativoService.listarEstadoIntegralComparativo(a,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarEstadoIntegralComparativo=function(t){this.iniciarAgGrid(),this.filasTiempo.finalizarContador(),this.listaResultado=t,this.cargando=!1},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.validarFechas=function(t){this.limpiarResultado(),this.fechasValidos1=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaDesde,this.fechaHasta)))},t.prototype.validarFechas2=function(t){this.limpiarResultado(),this.fechasValidos2=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaDesde2,this.fechaHasta2))),this.fechaHasta,this.fechaDesde2},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.limpiarResultado(),this.listarSectores(),this.obtenerFechaInicioFinMes(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.longitudGrupo1=e[0].estGrupo1,t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.obtenerFechaInicioFinMes=function(){var t=this;this.sistemaService.getFechaInicioFinMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaDesde=e[0],t.fechaHasta=t.utilService.obtenerFechaActual(),t.fechaDesde2=t.utilService.obtenerFechaActual(),t.fechaHasta2=e[1]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarERIC");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirERIC");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarERIC");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultado.length>0&&t.consultarMayorAuxiliar(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultado.length>0&&this.balanceComparativoSeleccionado.brcCuenta.length===this.tamanioEstructura;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarMayorAuxiliar():null}}]},t.prototype.imprimirBalanceResultadoIntComparativo=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta),fechaDesde2:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde2),fechaHasta2:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta2),codigoSector:this.sectorSeleccionado.secCodigo,conBalanceResultadoComparativoTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteBalanceResultadoComparativo",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoEstadoResultadoIntegralComparativo.pdf",e):t.toastr.warning("El reporte no existe o tiene errores"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarBalanceResultadoIntComparativo=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta),codigoSector:this.sectorSeleccionado.secCodigo,conBalanceResultadoComparativoTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteEstadoResultadoIntegralComparativo",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"estadoResultadoIntegralComparativo_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.estadoResIntComparativoService.generarColumnas(this,this.ocultarOpciones,this.longitudGrupo1),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.balanceComparativoSeleccionado=e?e.data:null},t.prototype.ejecutarAccion=function(t){this.balanceComparativoSeleccionado=t,this.consultarMayorAuxiliar()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.balanceComparativoSeleccionado=t,this.balanceComparativoSeleccionado.brcCuenta.length===this.tamanioEstructura&&(this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation())},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},Be([Object(i.ViewChild)("menuOpciones"),Ue("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),Be([Object(i.HostListener)("window:resize",["$event"]),Ue("design:type",Function),Ue("design:paramtypes",[]),Ue("design:returntype",void 0)],t.prototype,"onResize",null),t=Be([Object(i.Component)({selector:"app-estado-resultado-integral-comparativo",template:a("x+dq"),styles:[a("Tedv")]}),Ue("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,pt.a,r.a,S.a,Ge])],t)}(),He=function(){function t(t){this.id=0,this.vriCuentaContable=null,this.vriNombre=null,this.vriSaldoContable=0,this.vriInventarioInicial=0,this.vriDiferencia=0,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t.id?t.id:this.id,this.vriCuentaContable=t.vriCuentaContable?t.vriCuentaContable:this.vriCuentaContable,this.vriNombre=t.vriNombre?t.vriNombre:this.vriNombre,this.vriSaldoContable=t.vriSaldoContable?t.vriSaldoContable:this.vriSaldoContable,this.vriInventarioInicial=t.vriInventarioInicial?t.vriInventarioInicial:this.vriInventarioInicial,this.vriDiferencia=t.vriDiferencia?t.vriDiferencia:this.vriDiferencia},t}(),ze=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Je=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ye=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarBalanceResultadosVsInventarioTO=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getConListaBalanceResultadosVsInventarioTO",t,a).then(function(t){t&&t.extraInfo?1===t.extraInfo.length?(i.toastr.warning(R.a.MSJ_NO_DATA,"Aviso"),e.despuesDeListarBalanceResultadosVsInventarioTO([]),e.cargando=!1):e.despuesDeListarBalanceResultadosVsInventarioTO(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarBalanceResultadosVsInventarioTO([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t){return[{headerName:R.a.TAG_CUENTA,field:"vriCuentaContable",width:100,minWidth:100,cellClass:function(e){return e.value.length<t.tamanioEstructura?"tr-negrita ":""}},{headerName:R.a.TAG_NOMBRE,field:"vriNombre",width:200,minWidth:200,cellClass:function(e){return e.data.vriCuentaContable.length<t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO_CONTABLE,field:"vriSaldoContable",width:150,minWidth:150,valueFormatter:Ve,cellClass:function(e){return e.data.vriCuentaContable.length<t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_INV_INICIAL,field:"vriInventarioInicial",width:150,minWidth:150,valueFormatter:Ve,cellClass:function(e){return e.data.vriCuentaContable.length<t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_DIFERENCIA,field:"vriDiferencia",width:150,minWidth:150,valueFormatter:Ve,cellClass:function(e){return e.data.vriCuentaContable.length<t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}}]},t=ze([Object(i.Injectable)({providedIn:"root"}),Je("design:paramtypes",[C.a,h.b,T.a])],t)}();function Ve(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var We=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Xe=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ke=function(){function t(t,e,a,i,o,n,r,s,c,l,d){this.route=t,this.toastr=e,this.sectorService=a,this.atajoService=i,this.filasService=o,this.estadoResultadoVsInventarioService=n,this.utilService=r,this.sistemaService=s,this.planContableService=c,this.archivoService=l,this.periodoService=d,this.listaResultado=[],this.listaSectores=[],this.sectorSeleccionado=new dt.a,this.balanceResultadosVsInventarioSeleccionado=new He,this.listaEmpresas=[],this.constantes=R.a,this.es={},this.tamanioEstructura=0,this.cargando=!1,this.activar=!1,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.screamXS=!0,this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.listaEmpresas=this.route.snapshot.data.balanceResultadosVsInventario,this.innerWidth=window.innerWidth,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.obtenerFechaInicioActualMes(),this.listarPeriodos(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)}),this.listarSectores(),this.limpiarResultado()},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaInicio=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.listarBalanceResultadosVsInventarioTO=function(t){if(this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido){var e={desde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),hasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.filasTiempo.iniciarContador(),this.cargando=!0,this.estadoResultadoVsInventarioService.listarBalanceResultadosVsInventarioTO(e,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarBalanceResultadosVsInventarioTO=function(t){this.filasTiempo.finalizarContador(),this.listaResultado=t,this.cargando=!1},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.imprimirEstadoResultadoVsInventario=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),listConListaBalanceResultadosVsInventarioTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteConListaBalanceResultadosVsInventario",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0&&t.utilService.descargarArchivoPDF("listadoEstadoResultadoVsInventario.pdf",e),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarEstadoResultadoVsInventario=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),listConListaBalanceResultadosVsInventarioTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteEstadoResultadosVsInventario",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"estadoResultadoVsInventario_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaInicio,this.fechaFin)))},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.estadoResultadoVsInventarioService.generarColumnas(this),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarERI");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirEstadoResultadoVsInventario");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarEstadoResultadoVsInventario");return t&&t.click(),!1}))},t.prototype.onresize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},We([Object(i.HostListener)("window:resize",["$event"]),Xe("design:type",Function),Xe("design:paramtypes",[]),Xe("design:returntype",void 0)],t.prototype,"onresize",null),t=We([Object(i.Component)({selector:"app-estado-resultado-vs-inventario",template:a("aFGy"),styles:[a("yNz4")]}),Xe("design:paramtypes",[n.ActivatedRoute,h.b,pt.a,u.HotkeysService,v.a,Ye,T.a,r.a,S.a,E.a,q.a])],t)}(),qe=function(){function t(t){this.id=0,this.bgCuenta=null,this.bgDetalle=null,this.bgSaldoAnterior=0,this.bgSaldoActual=0,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t.id?t.id:this.id,this.bgCuenta=t.bgCuenta?t.bgCuenta:this.bgCuenta,this.bgDetalle=t.bgDetalle?t.bgDetalle:this.bgDetalle,this.bgSaldoAnterior=t.bgSaldoAnterior?t.bgSaldoAnterior:this.bgSaldoAnterior,this.bgSaldoActual=t.bgSaldoActual?t.bgSaldoActual:this.bgSaldoActual},t}(),$e=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ze=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qe=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarFunBalanceGeneralComparativoTO=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getFunBalanceGeneralComparativoTO",t,a).then(function(t){t&&t.extraInfo?1===t.extraInfo.length?(i.toastr.warning(R.a.MSJ_NO_DATA,"Aviso"),e.despuesDeListarFunBalanceGeneralComparativoTO([]),e.cargando=!1):e.despuesDeListarFunBalanceGeneralComparativoTO(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarFunBalanceGeneralComparativoTO([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t){return t.ocultarOpciones?[{headerName:R.a.TAG_CUENTA,field:"bgCuenta",width:100,minWidth:100,cellClass:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"bgDetalle",width:200,minWidth:200,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO_ANTERIOR,field:"bgSaldoAnterior",width:150,minWidth:150,valueFormatter:ta,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO_ACTUAL,field:"bgSaldoActual",width:150,minWidth:150,valueFormatter:ta,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}}]:[{headerName:R.a.TAG_CUENTA,field:"bgCuenta",width:100,minWidth:100,cellClass:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"bgDetalle",width:200,minWidth:200,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO_ANTERIOR,field:"bgSaldoAnterior",width:150,minWidth:150,valueFormatter:ta,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_SALDO_ACTUAL,field:"bgSaldoActual",width:150,minWidth:150,valueFormatter:ta,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:R.a.WIDTH_OPCIONES,minWidth:R.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length===t.tamanioEstructura?{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_MAYOR_AUXILIAR,accion:R.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}]},t=$e([Object(i.Injectable)({providedIn:"root"}),Ze("design:paramtypes",[C.a,h.b,T.a])],t)}();function ta(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var ea=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},aa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ia=function(){function t(t,e,a,i,o,n,r,s,c,l,d){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.sectorService=r,this.planContableService=s,this.sistemaService=c,this.estadoSituacionFinComp=l,this.periodoService=d,this.listaResultado=[],this.listaSectores=[],this.listaEmpresas=[],this.estadoSituacionFinCompSeleccionado=new qe,this.sectorSeleccionado=new dt.a,this.constantes=R.a,this.es={},this.tamanioEstructura=0,this.cargando=!1,this.activar=!1,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.ocultarOpciones=!1,this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.estadoSituacionFinancieraComparativo,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.listarFunBalanceGeneralComparativoTO=function(t,e){if(this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido){this.limpiarResultado();var a={ocultar:e,fechaAnterior:this.fechaAnterior,fechaActual:this.fechaActual,empresa:this.empresaSeleccionada.empCodigo,secCodigo:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.cargando=!0,this.ocultarOpciones=e,this.filasTiempo.iniciarContador(),this.estadoSituacionFinComp.listarFunBalanceGeneralComparativoTO(a,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarFunBalanceGeneralComparativoTO=function(t){this.iniciarAgGrid(),this.filasTiempo.finalizarContador(),this.listaResultado=t,this.cargando=!1},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.limpiarResultado(),this.listarSectores(),this.obtenerFechaInicioActualMes(),this.listarPeriodos(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaAnterior=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.imprimirEstadoSituacionFinancieraComp=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaAnterior:this.utilService.convertirFechaStringDDMMYYYY(this.fechaAnterior),fechaActual:this.utilService.convertirFechaStringDDMMYYYY(this.fechaActual),codigoSector:this.sectorSeleccionado.secCodigo,listConBalanceGeneralComparativoTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteBalanceGeneralComparativo",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoEstadoSituacionFinancieraComparativa.pdf",e):t.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarEstadoSituacionFinancieraComp=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaAnterior:this.utilService.convertirFechaStringDDMMYYYY(this.fechaAnterior),fechaActual:this.utilService.convertirFechaStringDDMMYYYY(this.fechaActual),sector:this.sectorSeleccionado.secCodigo,listConBalanceGeneralComparativoTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteEstadoSituacionFinancieraComparativo",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"estadoSituacionFinancieraComparativa_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarEstadoSituacionFinancieraComp");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarEstadoSituacionFinancieraComp");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirEstadoSituacionFinancieraComp");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarEstadoSituacionFinancieraComp");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultado.length>0&&t.consultarMayorAuxiliar(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultado.length>0&&this.estadoSituacionFinCompSeleccionado.bgCuenta.length===this.tamanioEstructura;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarMayorAuxiliar():null}}]},t.prototype.consultarMayorAuxiliar=function(){this.estadoSituacionFinCompSeleccionado.bgCuenta&&this.estadoSituacionFinCompSeleccionado.bgCuenta.length===this.tamanioEstructura&&(this.objetoMayorAuxiliarDesdeFuera={empresa:this.empresaSeleccionada,codigoCuentaDesde:this.estadoSituacionFinCompSeleccionado.bgCuenta,cuentaDetalle:this.estadoSituacionFinCompSeleccionado.bgDetalle.trim(),fechaInicio:this.fechaAnterior,fechaFin:this.fechaActual,mostrarBtnCancelar:!0,listaSectores:this.listaSectores,sector:this.sectorSeleccionado},this.mostrarFormularioMayorAuxiliar=!0)},t.prototype.cerrarMayorAuxiliar=function(t){this.mostrarFormularioMayorAuxiliar=t,this.objetoMayorAuxiliarDesdeFuera=null,this.actualizarFilas(),this.generarAtajosTeclado()},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaAnterior,this.fechaActual)))},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.estadoSituacionFinComp.generarColumnas(this),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.estadoSituacionFinCompSeleccionado=e?e.data:null},t.prototype.ejecutarAccion=function(t){this.estadoSituacionFinCompSeleccionado=t,this.consultarMayorAuxiliar()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.estadoSituacionFinCompSeleccionado=t,this.estadoSituacionFinCompSeleccionado.bgCuenta.length===this.tamanioEstructura&&(this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation())},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},ea([Object(i.ViewChild)("menuOpciones"),aa("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),ea([Object(i.HostListener)("window:resize",["$event"]),aa("design:type",Function),aa("design:paramtypes",[]),aa("design:returntype",void 0)],t.prototype,"onResize",null),t=ea([Object(i.Component)({selector:"app-estado-situacion-financiero-comparativo",template:a("F/vv"),styles:[a("EkOG")]}),aa("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,pt.a,S.a,r.a,Qe,q.a])],t)}(),oa=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},na=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ra=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarConBalanceResultadoTO=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getConBalanceResultadoTO",t,a).then(function(t){t&&t.extraInfo?1===t.extraInfo.length?(i.toastr.warning(R.a.MSJ_NO_DATA,"Aviso"),e.despuesDeListarConBalanceResultadoTO([]),e.cargando=!1):e.despuesDeListarConBalanceResultadoTO(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarConBalanceResultadoTO([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t,e,a){return t.ocultarOpciones?[{headerName:R.a.TAG_CUENTA,field:"brCuenta",width:150,minWidth:150,cellClass:function(i){return i.data.brCuenta&&i.data.brCuenta.length===a?"tr-negrita ":i.data.brCuenta&&i.data.brCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"brDetalle",width:150,minWidth:150,cellClass:function(i){return i.data.brCuenta&&i.data.brCuenta.length===a?"tr-negrita ":!e&&!i.data.brCuenta||i.data.brCuenta&&i.data.brCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"brSaldo1",width:150,minWidth:150,valueFormatter:sa,cellClass:function(i){return i.data.brCuenta&&i.data.brCuenta.length===a?"tr-negrita ":!i.data.brCuenta&&!e||i.data.brCuenta&&i.data.brCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}}]:[{headerName:R.a.TAG_CUENTA,field:"brCuenta",width:150,minWidth:150,cellClass:function(i){return i.data.brCuenta&&i.data.brCuenta.length===a?"tr-negrita ":i.data.brCuenta&&i.data.brCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"brDetalle",width:150,minWidth:150,cellClass:function(i){return i.data.brCuenta&&i.data.brCuenta.length===a?"tr-negrita ":!i.data.brCuenta&&!e||i.data.brCuenta&&i.data.brCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"brSaldo1",width:150,minWidth:150,valueFormatter:sa,cellClass:function(i){return i.data.brCuenta&&i.data.brCuenta.length===a?"tr-negrita ":!i.data.brCuenta&&!e||i.data.brCuenta&&i.data.brCuenta.length!==t.tamanioEstructura&&!e?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",minWidth:R.a.WIDTH_OPCIONES,width:R.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.brCuenta&&e.data.brCuenta.length===t.tamanioEstructura?{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_MAYOR_AUXILIAR,accion:R.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}]},t=oa([Object(i.Injectable)({providedIn:"root"}),na("design:paramtypes",[C.a,h.b,T.a])],t)}();function sa(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var ca=function(){function t(t){this.id=0,this.brCuenta="",this.brDetalle="",this.brSaldo1=0,this.brSaldo2=0,this.brSaldo3=0,this.brSaldo4=0,this.brSaldo5=0,this.brSaldo6=0,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t.id?t.id:this.id,this.brCuenta=t.brCuenta?t.brCuenta:this.brCuenta,this.brDetalle=t.brDetalle?t.brDetalle:this.brDetalle,this.brSaldo1=t.brSaldo1?t.brSaldo1:this.brSaldo1,this.brSaldo2=t.brSaldo2?t.brSaldo2:this.brSaldo2,this.brSaldo3=t.brSaldo3?t.brSaldo3:this.brSaldo3,this.brSaldo4=t.brSaldo4?t.brSaldo4:this.brSaldo4,this.brSaldo5=t.brSaldo5?t.brSaldo5:this.brSaldo5,this.brSaldo6=t.brSaldo6?t.brSaldo6:this.brSaldo6},t}(),la=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},da=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ua=function(){function t(t,e,a,i,o,n,r,s,c,l,d){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.sectorService=r,this.planContableService=s,this.sistemaService=c,this.estadoResultadoIntegralService=l,this.periodoService=d,this.listaResultado=[],this.listaSectores=[],this.listaEmpresas=[],this.balanceResultadoSeleccionado=new ca,this.sectorSeleccionado=new dt.a,this.constantes=R.a,this.es={},this.tamanioEstructura=0,this.cargando=!1,this.activar=!1,this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.ocultarOpciones=!1,this.mostrarFormularioMayorAuxiliar=!1,this.filtrarLista=!1,this.longitudGrupo1=0,this.longitudPenultimoGrupo=0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.estadoResultadoIntegral,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado()},t.prototype.listarConBalanceResultado=function(t,e){if(this.limpiarResultado(),this.filtrarLista=e,this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido){this.filasTiempo.iniciarContador();var a={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta),empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.cargando=!0,this.estadoResultadoIntegralService.listarConBalanceResultadoTO(a,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarConBalanceResultadoTO=function(t){this.iniciarAgGrid(),this.filtrarLista&&this.filtrarListaBalanceResultadoMensualizado(),this.filasTiempo.finalizarContador(),this.listaResultado=t,this.cargando=!1},t.prototype.filtrarListaBalanceResultadoMensualizado=function(){var t=this,e=[];this.gridApi&&(this.gridApi.forEachNodeAfterFilterAndSort(function(a){var i=a.data;i.brCuenta&&i.brCuenta.length==t.longitudGrupo1&&e.push(i),i.brCuenta&&i.brCuenta.length==t.longitudPenultimoGrupo&&e.push(i)}),this.listaResultado=e,this.gridApi.updateRowData({update:e}))},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.listarSectores(),this.listarPeriodos(),this.fechaDesde=this.utilService.obtenerFechaInicioMes(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6,t.longitudGrupo1=e[0].estGrupo1,t.longitudPenultimoGrupo=t.utilService.establecerLongitudPenultimoGrupo(e)}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaActual=new Date(this.periodoSeleccionado.perHasta),this.fechaHasta=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.imprimirEstadoResultado=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta),codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",ConBalanceResultadoTO:this.listaResultado};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteBalanceResultado",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoEstadoResultadoIntegral.pdf",e):t.toastr.warning(R.a.MSJ_ERROR_IMPRIMIR),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarEstadoResultado=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta),sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",ConBalanceResultadoTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteEstadoResultadoIntegral",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"estadoResultadoIntegral_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirEstadoResult");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarEstadoResult");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultado.length>0&&t.consultarMayorAuxiliar(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultado.length>0&&this.balanceResultadoSeleccionado.brCuenta.length===this.tamanioEstructura;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarMayorAuxiliar():null}}]},t.prototype.consultarMayorAuxiliar=function(){this.balanceResultadoSeleccionado.brCuenta&&this.balanceResultadoSeleccionado.brCuenta.length===this.tamanioEstructura&&(this.objetoMayorAuxiliarDesdeFuera={empresa:this.empresaSeleccionada,codigoCuentaDesde:this.balanceResultadoSeleccionado.brCuenta,cuentaDetalle:this.balanceResultadoSeleccionado.brDetalle.trim(),fechaInicio:this.fechaDesde,fechaFin:this.fechaHasta,mostrarBtnCancelar:!0,listaSectores:this.listaSectores,sector:this.sectorSeleccionado},this.mostrarFormularioMayorAuxiliar=!0)},t.prototype.cerrarMayorAuxiliar=function(t){this.mostrarFormularioMayorAuxiliar=t,this.objetoMayorAuxiliarDesdeFuera=null,this.actualizarFilas(),this.generarAtajosTeclado()},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaDesde,this.fechaHasta)))},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.estadoResultadoIntegralService.generarColumnas(this,this.filtrarLista,this.longitudGrupo1),this.filtrarLista&&this.columnDefs.pop(),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.filtrarLista&&this.filtrarListaBalanceResultadoMensualizado(),this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.balanceResultadoSeleccionado=e?e.data:null},t.prototype.ejecutarAccion=function(t){this.balanceResultadoSeleccionado=t,this.consultarMayorAuxiliar()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.balanceResultadoSeleccionado=t,this.balanceResultadoSeleccionado.brCuenta.length===this.tamanioEstructura&&(this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation())},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},la([Object(i.ViewChild)("menuOpciones"),da("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),la([Object(i.HostListener)("window:resize",["$event"]),da("design:type",Function),da("design:paramtypes",[]),da("design:returntype",void 0)],t.prototype,"onResize",null),t=la([Object(i.Component)({selector:"app-estado-resultado-integral",template:a("ZVzk"),styles:[a("Anb2")]}),da("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,pt.a,S.a,r.a,ra,q.a])],t)}(),pa=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},ha=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ma=function(){function t(t,e,a,i,o,n,r){this.sectorService=t,this.route=e,this.toastr=a,this.filasService=i,this.atajoService=o,this.utilService=n,this.sistemaService=r,this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.empresaSeleccionada=new O.a,this.listaEmpresas=[],this.listaSectores=[],this.sectorSeleccionado=new dt.a,this.fechaDesde=new Date,this.fechaHasta=new Date,this.fechaActual=new Date,this.vistaFormulario=!1,this.vistaListado=!1,this.parametroBusquedaListado={},this.mostrarDialogo=!1,this.listaMensajes=[],this.tituloDialogo="",this.filasTiempo=new D.a,this.constantes=R.a,this.frmTitulo=R.a.TITULO_FILTROS,this.classTitulo=R.a.ICON_FILTRAR,this.es=this.utilService.setLocaleDate()}return t.prototype.ngOnInit=function(){this.listaEmpresas=this.route.snapshot.data.contabilizarIPPCierreCorridas,this.listaEmpresas&&(this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.cambiarEmpresaSelect()),this.isScreamMd=!(window.innerWidth<=R.a.WINDOW_WIDTH_XS),this.inicializarAtajos(),this.obtenerFechaInicioActualMes()},t.prototype.inicializarAtajos=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(t){var e=document.getElementById("btnActivar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(t){var e=document.getElementById("btnBuscar");return e&&e.click(),!1}))},t.prototype.cambiarEmpresaSelect=function(){R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarLista(),this.activar=!1,this.listarSectores()},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaDesde=e[0],t.fechaHasta=e[1],t.fechaActual=e[1]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.limpiarLista=function(){this.vistaListado=!1,this.activar=!1,this.filasTiempo.resetearContador(),this.filasService.actualizarFilas(0)},t.prototype.listarSectores=function(){this.cargando=!0,this.listaSectores=[],this.sectorSeleccionado=null;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){this.listaSectores=t,this.listaSectores.length>0&&(this.sectorSeleccionado=this.listaSectores[0]),this.cargando=!1},t.prototype.listaContabilizarCorridaTO=function(){var t=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaDesde),e=this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaHasta);if(this.fechaDesde&&this.fechaHasta&&t.split("-")[0]===e.split("-")[0]){var a={empCodigo:R.a.KEY_EMPRESA_SELECT,fechaDesde:t,fechaHasta:e};this.parametroBusquedaListado=a,this.vistaListado=!0}else this.cargando=!1,this.toastr.warning(R.a.MSJ_FECHAS_DIFERENTES,R.a.TOAST_ADVERTENCIA)},t.prototype.modificarActivar=function(t){this.activar=t},t=pa([Object(i.Component)({selector:"app-contabilizar-ipp-cierre-corridas",template:a("lwCr"),styles:[a("xtwb")]}),ha("design:paramtypes",[pt.a,n.ActivatedRoute,h.b,v.a,u.HotkeysService,T.a,r.a])],t)}(),fa=function(){function t(t){this.id=0,this.bgCuenta=null,this.bgDetalle=null,this.bgSaldo=0,t&&this.hydrate(t)}return t.prototype.hydrate=function(t){this.id=t.id?t.id:this.id,this.bgCuenta=t.bgCuenta?t.bgCuenta:this.bgCuenta,this.bgDetalle=t.bgDetalle?t.bgDetalle:this.bgDetalle,this.bgSaldo=t.bgSaldo?t.bgSaldo:this.bgSaldo},t}(),ba=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ca=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ga=function(){function t(t,e,a){this.api=t,this.toastr=e,this.utilService=a}return t.prototype.listarFunBalanceGeneralTO=function(t,e,a){var i=this;this.api.post("todocompuWS/contabilidadWebController/getFunBalanceGeneralTO",t,a).then(function(t){t&&t.extraInfo?1===t.extraInfo.length?(i.toastr.warning(R.a.MSJ_NO_DATA,"Aviso"),e.despuesDeListarFunBalanceGeneralTO([]),e.cargando=!1):e.despuesDeListarFunBalanceGeneralTO(t.extraInfo):(i.toastr.warning(t.operacionMensaje,"Aviso"),e.despuesDeListarFunBalanceGeneralTO([]),e.cargando=!1)}).catch(function(t){return i.utilService.handleError(t,i)})},t.prototype.generarColumnas=function(t){return t.ocultarOpciones?[{headerName:R.a.TAG_CUENTA,field:"bgCuenta",width:100,minWidth:100,cellClass:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"bgDetalle",width:200,minWidth:200,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"bgSaldo1",width:150,minWidth:150,valueFormatter:Aa,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}}]:[{headerName:R.a.TAG_CUENTA,field:"bgCuenta",width:100,minWidth:100,cellClass:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita ":"text-whitespace "}},{headerName:R.a.TAG_DETALLE,field:"bgDetalle",width:200,minWidth:200,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"bgSaldo1",width:150,minWidth:150,valueFormatter:Aa,cellClass:function(e){return!e.data.bgCuenta||e.data.bgCuenta&&e.data.bgCuenta.length!==t.tamanioEstructura?"tr-negrita text-whitespace text-right":"text-whitespace text-right"}},{headerName:R.a.TAG_OPCIONES,headerClass:"cell-header-center",field:"",width:R.a.WIDTH_OPCIONES,minWidth:R.a.WIDTH_OPCIONES,cellRenderer:"botonOpciones",cellClass:"text-md-center",cellRendererParams:function(e){return e.data.bgCuenta&&e.data.bgCuenta.length===t.tamanioEstructura?{icono:R.a.ICON_CONSULTAR,tooltip:R.a.MSJ_CONSULTAR_MAYOR_AUXILIAR,accion:R.a.ACCION_CONSULTAR}:{icono:null,tooltip:null,accion:null}},headerComponent:"toolTip",headerComponentParams:{class:R.a.ICON_OPCIONES,tooltip:R.a.TAG_OPCIONES,text:""}}]},t=ba([Object(i.Injectable)({providedIn:"root"}),Ca("design:paramtypes",[C.a,h.b,T.a])],t)}();function Aa(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")}var Sa=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},va=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ra=function(){function t(t,e,a,i,o,n,r,s,c,l,d){this.route=t,this.toastr=e,this.atajoService=a,this.filasService=i,this.utilService=o,this.archivoService=n,this.sectorService=r,this.planContableService=s,this.sistemaService=c,this.estadoSituacionFinService=l,this.periodoService=d,this.listaResultado=[],this.listaSectores=[],this.listaEmpresas=[],this.estadoSituacionFinSeleccionado=new fa,this.sectorSeleccionado=new dt.a,this.constantes=R.a,this.es={},this.tamanioEstructura=0,this.cargando=!1,this.activar=!1,this.filasTiempo=new D.a,this.ocultarOpciones=!1,this.mostrarFormularioMayorAuxiliar=!1,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.screamXS=!0,this.filtroGlobal="",this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.listaEmpresas=this.route.snapshot.data.estadoSituacionFinanciera,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada(),this.generarAtajosTeclado(),this.iniciarAgGrid()},t.prototype.cambiarEmpresaSeleccionada=function(){var t=this;R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.sectorSeleccionado=null,this.limpiarResultado(),this.listarSectores(),this.listarPeriodos(),this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fecha=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.limpiarResultado=function(){this.listaResultado=[],this.filasService.actualizarFilas("0","0")},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.consultarMayorAuxiliar=function(){if(this.estadoSituacionFinSeleccionado.bgCuenta&&this.estadoSituacionFinSeleccionado.bgCuenta.length===this.tamanioEstructura){var t=this.utilService.obtenerPrimerDiaDelMes(this.fecha);this.objetoMayorAuxiliarDesdeFuera={empresa:this.empresaSeleccionada,codigoCuentaDesde:this.estadoSituacionFinSeleccionado.bgCuenta,cuentaDetalle:this.estadoSituacionFinSeleccionado.bgDetalle.trim(),fechaInicio:t,fechaFin:this.fecha,mostrarBtnCancelar:!0,listaSectores:this.listaSectores,sector:this.sectorSeleccionado},this.mostrarFormularioMayorAuxiliar=!0}},t.prototype.cerrarMayorAuxiliar=function(t){this.mostrarFormularioMayorAuxiliar=t,this.objetoMayorAuxiliarDesdeFuera=null,this.actualizarFilas(),this.generarAtajosTeclado()},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarEstadoSituacionFinanciera");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscarEstadoSituacionFinanciera");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirEstadoSituacionFinanciera");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarEstadoSituacionFinanciera");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listaResultado.length>0&&t.consultarMayorAuxiliar(),!1}))},t.prototype.generarOpciones=function(){var t=this,e=this.listaResultado.length>0&&this.estadoSituacionFinSeleccionado.bgCuenta.length===this.tamanioEstructura;this.opciones=[{label:R.a.ACCION_CONSULTAR_MAYOR_AUXILIAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.consultarMayorAuxiliar():null}}]},t.prototype.listarSituacionFinanciera=function(t,e,a){if(this.cargando=!0,this.utilService.establecerFormularioTocado(t)&&t&&t.valid){this.limpiarResultado();var i={ocultar:a,ocultarDetalle:e,fecha:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fecha),empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.ocultarOpciones=e,this.filasTiempo.iniciarContador(),this.estadoSituacionFinService.listarFunBalanceGeneralTO(i,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1},t.prototype.despuesDeListarFunBalanceGeneralTO=function(t){this.iniciarAgGrid(),this.filasTiempo.finalizarContador(),this.listaResultado=t,this.cargando=!1},t.prototype.imprimirEstadoSituacionFinanciera=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={usuarioEmpresaReporteTO:this.empresaSeleccionada.empCodigo,listConBalanceGeneralNecTO:this.listaResultado,codigoSector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fecha)};this.archivoService.postPDF("todocompuWS/contabilidadWebController/generarReporteBalanceGeneralTO",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoEstadoSituacionFinanciera.pdf",e):t.toastr.warning(R.a.MSJ_ERROR_IMPRIMIR),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarEstadoSituacionFinanciera=function(){var t=this;if(this.utilService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={fecha:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fecha),sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:"",listConBalanceGeneralTO:this.listaResultado};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteEstadoSituacionFinanciera",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"estadoSituacionFinanciera_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.estadoSituacionFinService.generarColumnas(this),this.columnDefsSelected=this.columnDefs,this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:Ct.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.estadoSituacionFinSeleccionado=e?e.data:null},t.prototype.ejecutarAccion=function(t){this.estadoSituacionFinSeleccionado=t,this.consultarMayorAuxiliar()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.estadoSituacionFinSeleccionado=t,this.estadoSituacionFinSeleccionado.bgCuenta.length===this.tamanioEstructura&&(this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation())},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},Sa([Object(i.ViewChild)("menuOpciones"),va("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),Sa([Object(i.HostListener)("window:resize",["$event"]),va("design:type",Function),va("design:paramtypes",[]),va("design:returntype",void 0)],t.prototype,"onResize",null),t=Sa([Object(i.Component)({selector:"app-estado-situacion-financiero",template:a("oscH"),styles:[a("vwM9")]}),va("design:paramtypes",[n.ActivatedRoute,h.b,u.HotkeysService,v.a,T.a,E.a,pt.a,S.a,r.a,ga,q.a])],t)}(),Ea=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ta=[{path:"",component:l,children:[{path:"planContable",component:G,resolve:{planContable:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"tipoContable",component:Y,resolve:{tipoContable:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"numeraciones",component:Q,resolve:{numeraciones:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"mayorAuxiliar",component:U,resolve:{mayorAuxiliar:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"mayorAuxiliarMultiple",component:te,resolve:{mayorAuxiliarMultiple:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"diarioAuxiliarCuentas",component:Ot,resolve:{diarioAuxiliarCuentas:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"verificacionFechasCompras",component:ct,resolve:{verificacionFechasCompras:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"verificacionContablesErrores",component:ce,resolve:{verificacionContablesErrores:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"verificacionCuentasSobregiradas",component:fe,resolve:{verificacionCuentasSobregiradas:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"mayorGeneral",component:St,resolve:{mayorGeneral:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"balanceResultadoIntegralMensualizado",component:Re,resolve:{balanceResultadoIntegralMensualizado:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"consultarComprobanteContable",component:Ie,resolve:{consultarComprobanteContable:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"estadosComprobacion",component:xe,resolve:{estadosComprobacion:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"estadoResultadoIntegralComparativo",component:ke,resolve:{estadoResultadoIntegralComparativo:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"estadoResultadoIntegral",component:ua,resolve:{estadoResultadoIntegral:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"estadoSituacionFinanciera",component:Ra,resolve:{estadoSituacionFinanciera:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"estadoSituacionFinancieraComparativo",component:ia,resolve:{estadoSituacionFinancieraComparativo:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"balanceResultadosVsInventario",component:Ke,resolve:{balanceResultadosVsInventario:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"contableListado",component:d.a,resolve:{contableListado:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"contabilizarCierreCuentasResultado",component:Kt,resolve:{contabilizarCierreCuentasResultado:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"contabilizarIPPDirecto",component:Ut,resolve:{contabilizarIPPDirecto:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"contabilizarIPPTodoProceso",component:Ft,resolve:{contabilizarIPPTodoProceso:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"contabilizarIPPIndirecto",component:Gt,resolve:{contabilizarIPPIndirecto:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"},{path:"contabilizarIPPCierreCorridas",component:ma,resolve:{contabilizarIPPCierreCorridas:o.a,breadcrumb:yt.a},runGuardsAndResolvers:"always"}]}],Ia=function(){function t(){}return t=Ea([Object(i.NgModule)({imports:[n.RouterModule.forChild(Ta)],exports:[n.RouterModule]})],t)}(),Oa=a("Q8hO"),ya=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},_a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ma=function(){function t(t,e,a,o,n,r,s,c){this.filasService=t,this.utilService=e,this.auth=a,this.api=o,this.planContableService=n,this.toastr=r,this.modalService=s,this.cdRef=c,this.enviarCancelar=new i.EventEmitter,this.enviarActivar=new i.EventEmitter,this.isScreamMd=!0,this.cargando=!1,this.activar=!1,this.constantes={},this.estado={},this.columnas=[],this.columnasSeleccionadas=[],this.listadoPlanContableImportado=[],this.listadoFiltradoPlanContableImportado=[],this.indexTable=0,this.conEstructuraTO=new I.a,this.tamanioEstructura=0,this.vistaImportar=!0,this.vistaFormulario=!1,this.codigoEnfocado=!1,this.numero="",this.constantes=R.a}return t.prototype.ngOnInit=function(){this.generarColumnas(),this.isScreamMd=!(window.innerWidth<=576),this.data&&this.data.conEstructuraTO&&this.data.tamanioEstructura&&(this.conEstructuraTO=this.data.conEstructuraTO,this.tamanioEstructura=this.data.tamanioEstructura,this.vistaFormulario=!0,this.cambiarActivar(this.activar))},t.prototype.generarOpciones=function(){var t=this;this.indexTable=this.listadoPlanContableImportado.indexOf(this.cuentaSeleccionada);var e=this.utilService.verificarPermiso(R.a.ACCION_CREAR,this);this.opciones=[{label:R.a.ACCION_AGREGAR_FILA_ARRIBA,icon:R.a.ICON_FLECHA_ARRIBA,disabled:!e,command:function(a){return e?t.agregarFilaArriba():null}},{label:R.a.ACCION_AGREGAR_FILA_ABAJO,icon:R.a.ICON_FLECHA_ABAJO,disabled:!e,command:function(a){return e?t.agregarFilaAbajo():null}},{label:R.a.ACCION_ELIMINAR_FILA,icon:R.a.ICON_ELIMINAR,disabled:!e,command:function(a){return e?t.eliminarFila():null}}]},t.prototype.agregarFilaAbajo=function(){var t=this;this.cargando=!0,setTimeout(function(){var e=t.listadoPlanContableImportado.indexOf(t.cuentaSeleccionada);t.listadoPlanContableImportado.splice(e+1,0,t.planContableService.generarConCuentaTO(t.cuentaSeleccionada)),t.refrescarLista()},500)},t.prototype.agregarFilaArriba=function(){var t=this;this.cargando=!0,setTimeout(function(){var e=t.listadoPlanContableImportado.indexOf(t.cuentaSeleccionada);t.listadoPlanContableImportado.splice(e,0,t.planContableService.generarConCuentaTO(t.cuentaSeleccionada)),t.refrescarLista()},500)},t.prototype.eliminarFila=function(){var t=this;this.cargando=!0,setTimeout(function(){var e=t.listadoPlanContableImportado.indexOf(t.cuentaSeleccionada);t.listadoPlanContableImportado=t.listadoPlanContableImportado.filter(function(t,a){return a!=e}),t.refrescarLista()},500)},t.prototype.refrescarLista=function(){var t=this.listadoPlanContableImportado.slice();this.listadoPlanContableImportado=[],this.cdRef.detectChanges(),this.listadoPlanContableImportado=t,this.cargando=!1,this.actualizarFilas()},t.prototype.generarColumnas=function(){this.columnas=[{field:"cuentaCodigo",header:R.a.TAG_CODIGO,width:"15%"},{field:"cuentaDetalle",header:R.a.TAG_DETALLE,width:"75%"}],this.columnasSeleccionadas=this.columnas},t.prototype.cargarDatosDeArchivo=function(t){var e=this;if(t&&t.files&&t.files.length>0){this.cargando=!0,this.limpiarResultado();var a=t.files[0],i=new FileReader;i.onload=function(t){var a=i.result;e.cargarDatosALista(a)},i.readAsText(a)}},t.prototype.cargarDatosALista=function(t){for(var e=t.split("\n"),a=[],i=0;i<e.length;i++){var o=e[i].split(";");if(2===o.length){var n=this.auth.getCodigoUser(),r=new g.a({cuentaCodigo:o[0]+"".trim(),empCodigo:this.empresaSeleccionada.empCodigo,cuentaDetalle:this.planContableService.formatoCapitalizado(o[1]+"".trim(),o[0],this.tamanioEstructura).trim(),usrInsertaCuenta:n,usrFechaInsertaCuenta:null});a.push(r)}}this.listadoPlanContableImportado=a,this.listadoFiltradoPlanContableImportado=this.listadoPlanContableImportado,this.vistaImportar=!1,this.cdRef.detectChanges(),this.actualizarFilas(),this.seleccionarPrimeraFila(),this.cargando=!1},t.prototype.guardarPlanCuentas=function(t){var e=this;if(this.cargando=!0,this.utilService.verificarPermiso(R.a.ACCION_CREAR,this,!0))if(t&&this.validarAntesDeEnviar(t)){var a={listadoConCuentasTO:this.formaterListaConCuentasTO(this.listadoPlanContableImportado),empresa:this.empresaSeleccionada.empCodigo};this.api.post("todocompuWS/contabilidadWebController/insertarListadoConCuentaTO",a,R.a.KEY_EMPRESA_SELECT).then(function(t){t&&t.extraInfo?(e.toastr.success(t.operacionMensaje,R.a.TOAST_CORRECTO),e.resetearFormulario()):e.toastr.warning(t.operacionMensaje,R.a.TOAST_ERROR),e.cargando=!1}).catch(function(t){return e.utilService.handleError(t,e)})}else this.cargando=!1},t.prototype.formaterListaConCuentasTO=function(t){for(var e=t.slice(),a=0,i=e;a<i.length;a++){var o=i[a];o.cuentaDetalle=this.planContableService.formatoCapitalizado(o.cuentaDetalle,o.cuentaCodigo,this.tamanioEstructura)}return e},t.prototype.validarAntesDeEnviar=function(t){var e=this.validarCodigosRepetidos(t),a=this.validarCodigoTamanio(t),i=this.validarCodigoGrupos(t),o=this.utilService.obtenerFormErrores(t);if(o.length>0){switch(this.toastr.warning(this.utilService.remplazarTodo(o.join(),",","<br>"),R.a.TAG_AVISO,{enableHtml:!0}),!0){case e>-1:this.indexTable=e,this.codigoEnfocado=!0;break;case a>-1:this.indexTable=a,this.codigoEnfocado=!0;break;case i>-1:this.indexTable=i,this.codigoEnfocado=!0}return this.cdRef.detectChanges(),!1}return!!t.valid||(this.toastr.warning(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),!1)},t.prototype.validarCodigosRepetidos=function(t){var e=function(e){var i=a.listadoPlanContableImportado[e];if(a.listadoPlanContableImportado.filter(function(t){return t!=i&&t.cuentaCodigo===i.cuentaCodigo}).length>0)return t.form.controls["cuentaCodigo_"+e].setErrors({duplicado:!1}),{value:+e}},a=this;for(var i in this.listadoPlanContableImportado){var o=e(i);if("object"==typeof o)return o.value}return-1},t.prototype.validarCodigoTamanio=function(t){for(var e in this.listadoPlanContableImportado){var a=this.listadoPlanContableImportado[e];if(!this.planContableService.verificarPlanCuentaIngresadoCorrectamente(a.cuentaCodigo,this.conEstructuraTO))return t.form.controls["cuentaCodigo_"+e].setErrors({tamanioIncorrecto:!1}),+e}return-1},t.prototype.validarCodigoGrupos=function(t){for(var e in this.listadoPlanContableImportado){var a=this.listadoPlanContableImportado[e];if(!this.planContableService.verificarGrupoCuenta(this.listadoPlanContableImportado,a.cuentaCodigo,this.conEstructuraTO))return t.form.controls["cuentaCodigo_"+e].setErrors({grupoIncorrecto:!1}),+e}return-1},t.prototype.cancelarAccion=function(){var t=this,e={title:R.a.MSJ_TITULO_CANCELAR,texto:R.a.MSJ_PREGUNTA_CANCELAR,type:R.a.SWAL_QUESTION,confirmButtonText:R.a.MSJ_SI,cancelButtonText:R.a.MSJ_NO};this.utilService.generarSwallConfirmacionHtml(e).then(function(e){e&&t.resetearFormulario()})},t.prototype.limpiarResultado=function(){this.listadoFiltradoPlanContableImportado=[],this.listadoPlanContableImportado=[],this.cuentaSeleccionada=new g.a,this.actualizarFilas()},t.prototype.verEstructura=function(t){t.srcElement.blur(),t.preventDefault();var e=this.modalService.open(L,{size:"lg",backdrop:"static"});e.componentInstance.empresaSeleccionada=this.empresaSeleccionada,e.componentInstance.accion=R.a.ACCION_CONSULTAR,e.result.then(function(t){},function(t){})},t.prototype.cambiarActivar=function(t){this.activar=!t,this.enviarActivar.emit(this.activar)},t.prototype.resetearFormulario=function(){this.empresaSeleccionada=null,this.data=null,this.activar=!1,this.limpiarResultado(),this.vistaFormulario=!1,this.enviarCancelar.emit()},t.prototype.onFilterTabla=function(t){this.listadoFiltradoPlanContableImportado=t.filteredValue,this.seleccionarPrimeraFila()},t.prototype.seleccionarPrimeraFila=function(){this.listadoFiltradoPlanContableImportado.length>0&&(this.cuentaSeleccionada=this.listadoFiltradoPlanContableImportado[0],this.indexTable=0,this.cdRef.detectChanges()),this.actualizarFilas()},t.prototype.actualizarIndiceTabla=function(t){this.indexTable=t,this.codigoEnfocado=!0,this.cdRef.detectChanges()},t.prototype.detectarCambios=function(){this.cdRef.detectChanges()},t.prototype.actualizarFilas=function(){this.filasService.actualizarFilas(this.listadoPlanContableImportado.length)},ya([Object(i.Input)(),_a("design:type",O.a)],t.prototype,"empresaSeleccionada",void 0),ya([Object(i.Input)(),_a("design:type",Object)],t.prototype,"data",void 0),ya([Object(i.Output)(),_a("design:type",i.EventEmitter)],t.prototype,"enviarCancelar",void 0),ya([Object(i.Output)(),_a("design:type",i.EventEmitter)],t.prototype,"enviarActivar",void 0),t=ya([Object(i.Component)({selector:"app-cuentas-formulario",template:a("tj1M"),styles:[a("Ilpd")]}),_a("design:paramtypes",[v.a,T.a,A.a,C.a,S.a,h.b,m.b,i.ChangeDetectorRef])],t)}(),La=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Da=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Na=function(){function t(t){this.utilService=t}return t.prototype.generarColumnasCuentasResultados=function(t){return[{headerName:R.a.TAG_CODIGO,field:"brCuenta",width:200,minWidth:200,cellClass:function(e){return e.data.brCuenta&&e.data.brCuenta.length<t.tamanioEstructura?"tr-negrita ":""}},{headerName:R.a.TAG_DETALLE,field:"brDetalle",width:400,minWidth:400,cellClass:function(e){return e.data.brCuenta&&e.data.brCuenta.length<t.tamanioEstructura?"tr-negrita text-whitespace":null===e.data.brCuenta?"tr-negrita text-whitespace":"text-whitespace"}},{headerName:R.a.TAG_SALDO,field:"brSaldo1",width:200,minWidth:200,valueFormatter:this.numberFormatter,cellClass:function(e){return e.data.brCuenta&&e.data.brCuenta.length<t.tamanioEstructura||!e.data.brCuenta?"tr-negrita text-sm-right":"text-sm-right"}}]},t.prototype.numberFormatter=function(t){return new tt.DecimalPipe("en-US").transform(t.value,"1.2-2")},t=La([Object(i.Injectable)({providedIn:"root"}),Da("design:paramtypes",[T.a])],t)}(),xa=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Fa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Pa=function(){function t(t,e,a,o,n,r){this.contabilizarCierreService=t,this.filasService=e,this.atajoService=a,this.planContableService=o,this.utilService=n,this.crlService=r,this.data={},this.enviarActivar=new i.EventEmitter,this.empresaSeleccionada=new O.a,this.cargando=!1,this.activar=!1,this.accion=null,this.objetoSeleccionado=null,this.listadoResultado=[],this.ocultarEncabezado=!1,this.tamanioEstructura=0,this.screamXS=!0,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.filasTiempo=new D.a,this.constantes=R.a}return t.prototype.ngOnInit=function(){this.inicializarAtajos(),this.iniciarAgGrid()},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},t.prototype.ngOnChanges=function(t){t.parametrosBusqueda&&this.reiniciarValoresGenerales()},t.prototype.inicializarAtajos=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){if(t.listadoResultado.length>0){var a=document.getElementById("btnActivar");return a&&a.click(),!1}return!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(t){var e=document.getElementById("btnImprimir");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(t){var e=document.getElementById("btnExportar");return e&&e.click(),!1}))},t.prototype.reiniciarValoresGenerales=function(){this.data&&this.data.empresaSeleccionada&&this.parametrosBusqueda.empresa&&this.parametrosBusqueda.sector&&(this.activar=!1,this.empresaSeleccionada=this.data.empresaSeleccionada,this.ocultarEncabezado=!!this.data.ocultarEncabezado,R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.obtenerTamanioEstructura(),this.buscarCuentasResultados())},t.prototype.obtenerTamanioEstructura=function(){var t=this,e={empresa:R.a.KEY_EMPRESA_SELECT};this.planContableService.getTamanioListaConEstructura(e,R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.buscarCuentasResultados=function(){this.cargando=!0,this.filasTiempo.iniciarContador(),this.contabilizarCierreService.getConFunBalanceResultadosNecTO(this.parametrosBusqueda,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeGetConFunBalanceResultadosNecTO=function(t){this.filasTiempo.finalizarContador(),this.listadoResultado=t,this.cargando=!1,this.cambiarActivar(this.activar)},t.prototype.limpiarResultado=function(){this.gridApi=null,this.gridColumnApi=null,this.filtroGlobal="",this.listadoResultado=[],this.objetoSeleccionado=null,this.filasTiempo.resetearContador(),this.actualizarFilas()},t.prototype.cambiarActivar=function(t){this.activar=!t,this.enviarActivar.emit(this.activar)},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.crlService.generarColumnasCuentasResultados(this),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:N.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.redimencionarColumnas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.mostrarOpciones=function(t,e){},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},xa([Object(i.Input)(),Fa("design:type",Object)],t.prototype,"parametrosBusqueda",void 0),xa([Object(i.Input)(),Fa("design:type",Object)],t.prototype,"data",void 0),xa([Object(i.Output)(),Fa("design:type",i.EventEmitter)],t.prototype,"enviarActivar",void 0),xa([Object(i.HostListener)("window:resize",["$event"]),Fa("design:type",Function),Fa("design:paramtypes",[]),Fa("design:returntype",void 0)],t.prototype,"onResize",null),t=xa([Object(i.Component)({selector:"app-cuentas-resultados-listado",template:a("zeSf"),styles:[a("BqYD")]}),Fa("design:paramtypes",[Vt,v.a,u.HotkeysService,S.a,T.a,Na])],t)}(),wa=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ga=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ja=function(){function t(t,e,a,o){this.contabilizarMeterialDirectoService=t,this.atajoService=e,this.utilService=a,this.toastr=o,this.enviarActivar=new i.EventEmitter,this.empresaSeleccionada=new O.a,this.titulo="",this.cargando=!1,this.activar=!1,this.isScreamMd=!0,this.listadoResultado=[],this.tamanioEstructura=0,this.filasTiempo=new D.a,this.tamanio="207px",this.columnDefs=[],this.constantes=R.a}return t.prototype.ngOnInit=function(){this.isScreamMd=!(window.innerWidth<=R.a.WINDOW_WIDTH_XS),this.inicializarAtajos(),this.iniciarAgGrid()},t.prototype.ngOnChanges=function(t){t.parametrosBusqueda&&this.reiniciarValoresGenerales()},t.prototype.inicializarAtajos=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(e){if(t.listadoResultado.length>0){var a=document.getElementById("btnActivar");return a&&a.click(),!1}return!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONTABILIZAR,function(t){var e=document.getElementById("btnContabilizar");return e&&e.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CANCELAR,function(e){return t.cargando||t.limpiarResultado(),!1}))},t.prototype.reiniciarValoresGenerales=function(){this.parametrosBusqueda.empresa?(this.activar=!0,R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.limpiarResultado(),this.listarIPP()):this.toastr.info(R.a.MSJ_NO_HAY_PARAMETROS_DE_BUSQUEDA,R.a.TOAST_ADVERTENCIA)},t.prototype.listarIPP=function(){this.cargando=!0,this.filasTiempo.iniciarContador(),this.contabilizarMeterialDirectoService.listarIPP(this.parametrosBusqueda,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarIPP=function(t){this.filasTiempo.finalizarContador(),this.listadoResultado=t,this.cargando=!1,this.cambiarActivar(this.activar)},t.prototype.limpiarResultado=function(){this.listadoResultado=[],this.enviarActivar.emit(!1)},t.prototype.cambiarActivar=function(t){this.activar=!t,this.enviarActivar.emit(this.activar)},t.prototype.contabilizar=function(){this.cargando=!0,this.listadoResultado&&this.listadoResultado.length>1&&this.listadoResultado.pop(),this.validarListadoIPP(this.listadoResultado)&&(this.parametrosBusqueda.tipo=this.parametrosBusqueda.parametro,this.contabilizarMeterialDirectoService.insertarModificarIPP(this.parametrosBusqueda,this,R.a.KEY_EMPRESA_SELECT))},t.prototype.validarListadoIPP=function(t){if(t&&t.length>0)for(var e=0,a=t;e<a.length;e++){var i=a[e];if(!i.costoCuentaOrigen)return this.cargando=!1,this.contabilizarMeterialDirectoService.mostrarSwalError(R.a.MSJ_NO_CUENTA_ORIGEN+i.costoPiscina+R.a.MSJ_DEL_SECTOR+i.costoSector),!1;if(!i.costoCuentaDestino)return this.cargando=!1,this.contabilizarMeterialDirectoService.mostrarSwalError(R.a.MSJ_NO_CUENTA_DESTINO+i.costoPiscina+R.a.MSJ_DEL_SECTOR+i.costoSector),!1}return!0},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.contabilizarMeterialDirectoService.generarColumnas()},wa([Object(i.Input)(),Ga("design:type",Object)],t.prototype,"parametrosBusqueda",void 0),wa([Object(i.Output)(),Ga("design:type",i.EventEmitter)],t.prototype,"enviarActivar",void 0),wa([Object(i.Input)(),Ga("design:type",O.a)],t.prototype,"empresaSeleccionada",void 0),wa([Object(i.Input)(),Ga("design:type",String)],t.prototype,"titulo",void 0),t=wa([Object(i.Component)({selector:"app-contabilizar-ipp-listado",template:a("WuHj"),styles:[a("tKaK")]}),Ga("design:paramtypes",[Lt,u.HotkeysService,T.a,h.b])],t)}(),Ba=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ua=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ka=function(){function t(t,e,a,o,n,r,s,c,l,d,u,p,h){this.route=t,this.toastr=e,this.sectorService=a,this.atajoService=o,this.filasService=n,this.modalService=r,this.planContableService=s,this.mayorAuxiliarService=c,this.utilService=l,this.cdRef=d,this.sistemaService=u,this.archivoService=p,this.periodoService=h,this.listaSectores=[],this.listadoResultadoMayorAuxiliar=[],this.sectorSeleccionado=new dt.a,this.mayorAuxiliarSeleccionado=new qt,this.conCuentas=new g.a,this.constantes=R.a,this.listaEmpresas=[],this.es={},this.fechasValidos={fechaInicioValido:!0,fechaFinValido:!0},this.filasTiempo=new D.a,this.tamanioEstructura=0,this.codigoCuenta=null,this.objetoContableEnviar=null,this.cargando=!1,this.activar=!1,this.activarInicial=!1,this.mostrarContabilidaAcciones=!1,this.mostrarBtnCancelar=!1,this.cerrarMayorAuxiliar=new i.EventEmitter,this.columnDefs=[],this.columnDefsSelected=[],this.components={},this.filtroGlobal="",this.screamXS=!0,this.listadoPeriodos=new Array,this.periodoSeleccionado=new K.a}return t.prototype.ngOnInit=function(){this.constantes=R.a,this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS,nt.locale("es"),this.es=this.utilService.setLocaleDate(),this.objetoMayorAuxiliarDesdeFuera?(this.setearValoresMayorAuxiliarDesdeFuera(),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.obtenerEstructura(),this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas)):(this.listaEmpresas=this.route.snapshot.data.mayorAuxiliar,this.empresaSeleccionada=this.utilService.seleccionarEmpresa(this.listaEmpresas),this.listaEmpresas&&this.cambiarEmpresaSeleccionada()),this.generarAtajosTeclado(),this.iniciarAgGrid(),document.getElementById("cuenta").focus()},t.prototype.setearValoresMayorAuxiliarDesdeFuera=function(){this.listaEmpresas.push(this.objetoMayorAuxiliarDesdeFuera.empresa),this.empresaSeleccionada=this.listaEmpresas[0],this.conCuentas.cuentaCodigo=this.objetoMayorAuxiliarDesdeFuera.codigoCuentaDesde,this.conCuentas.cuentaDetalle=this.objetoMayorAuxiliarDesdeFuera.cuentaDetalle,this.codigoCuenta=this.conCuentas.cuentaCodigo,this.fechaInicio=this.objetoMayorAuxiliarDesdeFuera.fechaInicio,this.fechaFin=this.objetoMayorAuxiliarDesdeFuera.fechaFin,this.mostrarBtnCancelar=this.objetoMayorAuxiliarDesdeFuera.mostrarBtnCancelar,this.objetoMayorAuxiliarDesdeFuera.listaSectores.length>0?(this.listaSectores=this.objetoMayorAuxiliarDesdeFuera.listaSectores,this.sectorSeleccionado=this.objetoMayorAuxiliarDesdeFuera.sector):this.listarSectores(),this.listar()},t.prototype.operacionMayorAuxiliar=function(t){this.mayorAuxiliarService.verificarPermiso(t,this,!0)&&this.mayorAuxiliarSeleccionado.maContable&&(this.cargando=!0,this.activarInicial=JSON.parse(JSON.stringify(this.activar)),this.objetoContableEnviar={accion:t,contable:this.mayorAuxiliarSeleccionado.maContable,listadoSectores:this.listaSectores,tamanioEstructura:this.tamanioEstructura,empresaSeleccionada:this.empresaSeleccionada,activar:!0,tipoContable:null,listaPeriodos:[],volverACargar:!0})},t.prototype.imprimirListadoMayorAuxiliar=function(){var t=this;if(this.mayorAuxiliarService.verificarPermiso(R.a.ACCION_IMPRIMIR,this,!0)){this.cargando=!0;var e={empresa:this.empresaSeleccionada.empCodigo,ListaConMayorAuxiliarTO:this.listadoResultadoMayorAuxiliar,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),ctaDesde:this.codigoCuenta,ctaHasta:this.codigoCuenta};this.archivoService.postPDF("todocompuWS/contabilidadWebController/imprimirReporteMayorAuxiliar",e,this.empresaSeleccionada).then(function(e){e._body.byteLength>0?t.utilService.descargarArchivoPDF("listadoMayorAuxiliar.pdf",e):t.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.exportarMayorAuxiliar=function(){var t=this;if(this.mayorAuxiliarService.verificarPermiso(R.a.ACCION_EXPORTAR,this,!0)){this.cargando=!0;var e={ConMayorAuxiliarTO:this.listadoResultadoMayorAuxiliar,codigoCuenta:this.codigoCuenta,fechaDesde:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaHasta:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin)};this.archivoService.postExcel("todocompuWS/contabilidadWebController/exportarReporteConMayorAuxiliarTO",e,this.empresaSeleccionada).then(function(e){e?t.utilService.descargarArchivoExcel(e._body,"MayorAuxiliar_"):t.toastr.warning("No se encontraron resultados"),t.cargando=!1}).catch(function(e){return t.utilService.handleError(e,t)})}},t.prototype.listarMayorAuxiliarTO=function(t){this.filasTiempo.resetearContador(),this.utilService.establecerFormularioTocado(t)&&t&&t.valid&&this.fechasValidos.fechaInicioValido&&this.fechasValidos.fechaFinValido?this.listar():(this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1)},t.prototype.listar=function(){this.filasTiempo.iniciarContador();var t={codigoCuentaDesde:this.conCuentas.cuentaCodigo,codigoCuentaHasta:this.conCuentas.cuentaCodigo,fechaInicio:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaInicio),fechaFin:this.utilService.formatoStringSinZonaHorariaYYYMMDD(this.fechaFin),empresa:this.empresaSeleccionada.empCodigo,sector:this.sectorSeleccionado?this.sectorSeleccionado.secCodigo:null};this.cargando=!0,this.mayorAuxiliarService.listarMayorAuxiliar(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarMayorAuxiliar=function(t){this.filasTiempo.finalizarContador(),this.listadoResultadoMayorAuxiliar=t,this.cargando=!1},t.prototype.listarSectores=function(){this.listaSectores=[],this.cargando=!0;var t={empresa:this.empresaSeleccionada.empCodigo,mostrarInactivo:!1};this.sectorService.listarPrdListaSectorTO(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarSectores=function(t){var e=this;this.listaSectores=t,this.listaSectores.length>0?this.sectorSeleccionado=this.sectorSeleccionado&&this.sectorSeleccionado.secCodigo?this.listaSectores.find(function(t){return t.secCodigo===e.sectorSeleccionado.secCodigo}):this.listaSectores[0]:this.sectorSeleccionado=null,this.cargando=!1},t.prototype.limpiarResultado=function(){this.listadoResultadoMayorAuxiliar=[],this.filasService.actualizarFilas("0","0"),this.listadoPeriodos=[],this.periodoSeleccionado=null},t.prototype.cambiarEmpresaSeleccionada=function(){this.conCuentas.cuentaCodigo=null,this.conCuentas.cuentaDetalle=null,this.sectorSeleccionado=null,this.codigoCuenta=null,R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.obtenerEstructura(),this.listarSectores(),this.limpiarResultado(),this.fechaInicio=this.utilService.obtenerFechaInicioMes(),this.obtenerFechaInicioActualMes(),this.listarPeriodos()},t.prototype.listarPeriodos=function(){var t={empresa:R.a.KEY_EMPRESA_SELECT};this.cargando=!0,this.periodoService.listarPeriodos(t,this,R.a.KEY_EMPRESA_SELECT)},t.prototype.despuesDeListarPeriodos=function(t){this.listadoPeriodos=t||[],this.cargando=!1,this.listadoPeriodos.length>0?(this.periodoSeleccionado=this.periodoSeleccionado?this.listadoPeriodos.find(function(t){return!1===t.perCerrado}):this.listadoPeriodos[0],this.fechaFin=new Date(this.periodoSeleccionado.perHasta),this.fechaActual=new Date(this.periodoSeleccionado.perHasta)):this.periodoSeleccionado=null},t.prototype.obtenerFechaInicioActualMes=function(){var t=this;this.sistemaService.getFechaInicioActualMes(this,R.a.KEY_EMPRESA_SELECT).then(function(e){t.fechaInicio=e[0]}).catch(function(e){return t.utilService.handleError(e,t)})},t.prototype.obtenerEstructura=function(){var t=this;this.planContableService.getTamanioListaConEstructura({empresa:this.empresaSeleccionada.empCodigo},R.a.KEY_EMPRESA_SELECT).then(function(e){t.tamanioEstructura=e[0].estGrupo1+e[0].estGrupo2+e[0].estGrupo3+e[0].estGrupo4+e[0].estGrupo5+e[0].estGrupo6}).catch(function(e){t.utilService.handleError(e,t)})},t.prototype.generarOpciones=function(){var t=this,e=this.mayorAuxiliarSeleccionado.maContable,a=e&&this.mayorAuxiliarSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruMayorizarContables,i=e&&this.mayorAuxiliarSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruDesmayorizarContables,o=e&&this.mayorAuxiliarSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruAnularContables,n=e&&this.mayorAuxiliarSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruAnularContables,r=e&&this.mayorAuxiliarSeleccionado&&this.empresaSeleccionada.listaSisPermisoTO.gruAnularContables;this.opciones=[{label:R.a.ACCION_CONSULTAR,icon:R.a.ICON_CONSULTAR,disabled:!e,command:function(){return e?t.operacionMayorAuxiliar(R.a.ACCION_CONSULTAR):null}},{label:R.a.ACCION_MAYORIZAR,icon:R.a.ICON_MAYORIZAR,disabled:!a,command:function(){return a?t.operacionMayorAuxiliar(R.a.ACCION_MAYORIZAR):null}},{label:R.a.ACCION_DESMAYORIZAR,icon:R.a.ICON_DESMAYORIZAR,disabled:!i,command:function(){return i?t.operacionMayorAuxiliar(R.a.ACCION_DESMAYORIZAR):null}},{label:R.a.ACCION_REVERSAR,icon:R.a.ICON_REVERSAR,disabled:!o,command:function(){return o?t.operacionMayorAuxiliar(R.a.ACCION_REVERSAR):null}},{label:R.a.ACCION_ANULAR,icon:R.a.ICON_ANULAR,disabled:!n,command:function(){return n?t.operacionMayorAuxiliar(R.a.ACCION_ANULAR):null}},{label:R.a.ACCION_RESTAURAR,icon:R.a.ICON_RESTAURAR,disabled:!r,command:function(){return r?t.operacionMayorAuxiliar(R.a.ACCION_RESTAURAR):null}}]},t.prototype.generarAtajosTeclado=function(){var t=this;this.atajoService.add(new u.Hotkey(R.a.ATAJO_AYUDA,function(){return window.open("http://google.com","_blank"),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivarMayorAuxiliar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_BUSCAR,function(){var t=document.getElementById("btnBuscar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CONSULTAR,function(){return t.listadoResultadoMayorAuxiliar.length>0&&t.operacionMayorAuxiliar(R.a.ACCION_CONSULTAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_MAYORIZAR,function(){return t.listadoResultadoMayorAuxiliar.length>0&&t.operacionMayorAuxiliar(R.a.ACCION_MAYORIZAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_DESMAYORIZAR,function(){return t.listadoResultadoMayorAuxiliar.length>0&&t.operacionMayorAuxiliar(R.a.ACCION_DESMAYORIZAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_REVERSAR,function(){return t.listadoResultadoMayorAuxiliar.length>0&&t.operacionMayorAuxiliar(R.a.ACCION_REVERSAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_ANULAR,function(){return t.listadoResultadoMayorAuxiliar.length>0&&t.operacionMayorAuxiliar(R.a.ACCION_ANULAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_RESTAURAR,function(){return t.listadoResultadoMayorAuxiliar.length>0&&t.operacionMayorAuxiliar(R.a.ACCION_RESTAURAR),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_IMPRIMIR,function(){var t=document.getElementById("btnImprimirMayorAuxiliar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_EXPORTAR,function(){var t=document.getElementById("btnExportarMayorAuxiliar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_CANCELAR,function(){var t=document.getElementById("btnRegresar");return t&&t.click(),!1}))},t.prototype.validarCuenta=function(){this.codigoCuenta!==this.conCuentas.cuentaCodigo&&(this.codigoCuenta=null,this.conCuentas.cuentaCodigo=null,this.conCuentas.cuentaDetalle=null,this.limpiarResultado())},t.prototype.validarFechas=function(t){this.fechasValidos=JSON.parse(JSON.stringify(this.utilService.validarFechas(t,this.fechaInicio,this.fechaFin)))},t.prototype.buscarConCuentas=function(t){var e=this;if(this.utilService.validarTeclasAgregarFila(t.keyCode)&&(!(this.conCuentas.cuentaCodigo===this.codigoCuenta&&this.conCuentas.cuentaCodigo&&this.codigoCuenta)&&(this.conCuentas.cuentaCodigo=""===this.conCuentas.cuentaCodigo?null:this.conCuentas.cuentaCodigo,this.conCuentas.cuentaCodigo=this.conCuentas.cuentaCodigo?this.conCuentas.cuentaCodigo.toUpperCase():null,this.conCuentas.cuentaCodigo))){var a={empresa:this.empresaSeleccionada.empCodigo,buscar:this.conCuentas.cuentaCodigo,ctaGrupo:null};t.srcElement.blur(),t.preventDefault();var i=this.modalService.open(ut.a,{size:"lg",windowClass:"miSize",backdrop:"static"});i.componentInstance.filtrosBusquedaPlanCuenta=a,i.componentInstance.tamanioEstructura=this.tamanioEstructura,i.result.then(function(t){e.codigoCuenta=t?t.cuentaCodigo:null,e.conCuentas.cuentaCodigo=t?t.cuentaCodigo:null,e.conCuentas.cuentaDetalle=t?t.cuentaDetalle.trim():null,document.getElementById("cuenta").focus()},function(t){var e=document.getElementById("cuenta");e&&e.focus()})}},t.prototype.cerrarContabilidadAcciones=function(t){this.activar=t.objetoEnviar?t.objetoEnviar.activar:this.activarInicial,this.objetoContableEnviar=t.objetoEnviar,this.mostrarContabilidaAcciones=t.mostrarContilidadAcciones,this.filasService.actualizarFilas(this.listadoResultadoMayorAuxiliar.length,this.filasTiempo.getTiempo()),this.cdRef.detectChanges(),t.contable&&this.listar(),this.generarAtajosTeclado()},t.prototype.cambiarEstadoCargando=function(t){this.cargando=t,this.cdRef.detectChanges()},t.prototype.cambiarEstadoActivar=function(t){this.activar=t,this.cdRef.detectChanges()},t.prototype.cerrarMayorAux=function(){this.cerrarMayorAuxiliar.emit(!1)},t.prototype.verContable=function(){this.operacionMayorAuxiliar(R.a.ACCION_CONSULTAR)},t.prototype.iniciarAgGrid=function(){this.columnDefs=this.mayorAuxiliarService.generarColumnas("MayorAuxiliar"),this.columnDefsSelected=this.columnDefs.slice(),this.rowSelection="single",this.context={componentParent:this},this.frameworkComponents={botonOpciones:N.a,toolTip:x.a},this.components={}},t.prototype.onGridReady=function(t){this.gridApi=t.api,this.gridColumnApi=t.columnApi,this.actualizarFilas(),this.seleccionarPrimerFila()},t.prototype.redimencionarColumnas=function(){this.gridApi&&this.gridApi.sizeColumnsToFit()},t.prototype.autoSizeAll=function(){var t=[];this.gridColumnApi.getAllColumns().forEach(function(e){t.push(e.colId)}),this.gridColumnApi.autoSizeColumns(t)},t.prototype.seleccionarPrimerFila=function(){if(this.gridApi){var t=this.gridColumnApi.getAllDisplayedColumns()[0];this.gridApi.setFocusedCell(0,t)}},t.prototype.filtrarRapido=function(){this.gridApi&&this.gridApi.setQuickFilter(this.filtroGlobal)},t.prototype.mostrarOpciones=function(t,e){this.mostrarContextMenu(e,t)},t.prototype.mostrarContextMenu=function(t,e){this.mayorAuxiliarSeleccionado=t,this.generarOpciones(),this.menuOpciones.show(e),e.stopPropagation()},t.prototype.refreshGrid=function(){var t=this;this.gridApi&&this.gridApi.refreshCells(),setTimeout(function(){t.actualizarFilas()},50)},t.prototype.filaFocused=function(t){var e=this.gridApi?this.gridApi.getRowNode(t.rowIndex):null;this.mayorAuxiliarSeleccionado=e?e.data:null},t.prototype.actualizarFilas=function(){this.filasTiempo.filas=this.gridApi?this.gridApi.getDisplayedRowCount():0,this.filasService.actualizarFilas(this.filasTiempo.filas,this.filasTiempo.getTiempo())},t.prototype.onResize=function(){this.screamXS=window.innerWidth<R.a.WINDOW_WIDTH_XS},Ba([Object(i.ViewChild)("menuOpciones"),Ua("design:type",p.ContextMenu)],t.prototype,"menuOpciones",void 0),Ba([Object(i.Input)(),Ua("design:type",Object)],t.prototype,"objetoMayorAuxiliarDesdeFuera",void 0),Ba([Object(i.Output)(),Ua("design:type",Object)],t.prototype,"cerrarMayorAuxiliar",void 0),Ba([Object(i.HostListener)("window:resize",["$event"]),Ua("design:type",Function),Ua("design:paramtypes",[]),Ua("design:returntype",void 0)],t.prototype,"onResize",null),t=Ba([Object(i.Component)({selector:"app-mayor-auxiliar-formulario",template:a("4Fvb"),styles:[a("KNtQ")]}),Ua("design:paramtypes",[n.ActivatedRoute,h.b,pt.a,u.HotkeysService,v.a,m.b,S.a,$t.a,T.a,i.ChangeDetectorRef,r.a,E.a,q.a])],t)}(),Ha=Object.assign||function(t){for(var e,a=1,i=arguments.length;a<i;a++)for(var o in e=arguments[a])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},za=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Ja=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ya=function(){function t(t,e,a,o,n){this.utilService=t,this.toastr=e,this.auth=a,this.atajoService=o,this.tipoContableService=n,this.enviarCancelar=new i.EventEmitter,this.enviarActivar=new i.EventEmitter,this.enviarAccion=new i.EventEmitter,this.accion=null,this.isScreamMd=!0,this.cargando=!1,this.activar=!1,this.tituloForm="",this.constantes=R.a,this.conTipoTO=new H.a,this.listaModulos=R.a.LISTA_MODULOS,this.listaTipos=R.a.LISTA_TIPOS}return t.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.accion=this.parametros.accion,this.conTipoTO=Ha({},this.parametros.conTipoTO),this.operaciones(),this.extraerValoresIniciales(),this.generarAtajosTeclado()},t.prototype.extraerValoresIniciales=function(){var t=this;setTimeout(function(){t.valoresIniciales=JSON.parse(JSON.stringify(t.frmTipoContableDatos?t.frmTipoContableDatos.value:null)),t.conTipoInicial=JSON.parse(JSON.stringify(t.conTipoTO?t.conTipoTO:null))},50)},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_GUARDAR,function(){var t=document.getElementById("btnGuardar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_ESC,function(){var t=document.getElementById("btnCancelar");return t&&t.click(),!1}))},t.prototype.operaciones=function(){switch(this.accion){case R.a.ACCION_CREAR:this.tituloForm=R.a.TITULO_FORM_NUEVO_TIPO_CONTABLE,this.obtenerDatosTipoContable();break;case R.a.ACCION_EDITAR:this.tituloForm=R.a.TITULO_FORM_EDITAR_TIPO_CONTABLE+": C\xf3digo: "+this.conTipoTO.tipCodigo;break;case R.a.ACCION_CONSULTAR:this.tituloForm=R.a.TITULO_FORM_CONSULTAR_TIPO_CONTABLE+": C\xf3digo: "+this.conTipoTO.tipCodigo}},t.prototype.obtenerDatosTipoContable=function(){this.conTipoTO=new H.a,this.conTipoTO.tipModulo=this.listaModulos[0],this.conTipoTO.tipTipoPrincipal=this.listaTipos[0]},t.prototype.insertarTipoContable=function(t){if(this.utilService.verificarPermiso(R.a.ACCION_CREAR,this,!0)){this.cargando=!0;var e=this.utilService.establecerFormularioTocado(t);if(t&&t.valid&&e){var a=JSON.parse(JSON.stringify(this.conTipoTO));a.tipDetalle=this.conTipoTO.tipDetalle,a.empCodigo=this.empresaSeleccionada.empCodigo,a.usrInsertaTipo=this.auth.getCodigoUser();var i={conTipoTO:a};this.tipoContableService.insertarTipoContable(i,this,a,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},t.prototype.despuesDeInsertarTipoContable=function(t,e){this.cargando=!1,this.toastr.success(t,"Aviso");var a={operacion:R.a.ACCION_CREAR,tipoCopia:e};this.enviarAccion.emit(a)},t.prototype.actualizarTipoContable=function(t){if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmTipoContableDatos))this.toastr.warning(R.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,R.a.TOAST_INFORMACION),this.enviarCancelar.emit();else if(this.utilService.verificarPermiso(R.a.ACCION_EDITAR,this,!0)){this.cargando=!0;var e=this.utilService.establecerFormularioTocado(t);if(t&&t.valid&&e){var a=JSON.parse(JSON.stringify(this.conTipoTO));a.tipDetalle=this.conTipoTO.tipDetalle;var i={conTipoTO:a};this.tipoContableService.actualizarTipoContable(i,this,a,R.a.KEY_EMPRESA_SELECT)}else this.toastr.error(R.a.MSJ_CAMPOS_INVALIDOS,R.a.MSJ_TITULO_INVALIDOS),this.cargando=!1}},t.prototype.despuesDeModificarTipoContable=function(t,e){this.cargando=!1,this.toastr.success(t,"Aviso");var a={operacion:R.a.ACCION_EDITAR,tipoCopia:e};this.enviarAccion.emit(a)},t.prototype.cancelar=function(){var t=this;if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmTipoContableDatos))this.enviarCancelar.emit();else switch(this.accion){case R.a.ACCION_EDITAR:case R.a.ACCION_CREAR:var e={title:R.a.MSJ_TITULO_CANCELAR,texto:R.a.MSJ_PREGUNTA_CANCELAR,type:R.a.SWAL_QUESTION,confirmButtonText:R.a.MSJ_SI,cancelButtonText:R.a.MSJ_NO};this.utilService.generarSwallConfirmacionHtml(e).then(function(e){e&&t.enviarCancelar.emit()});break;default:this.enviarCancelar.emit()}},t.prototype.cambiarActivar=function(t){this.activar=!t,this.enviarActivar.emit(t)},za([Object(i.Input)(),Ja("design:type",O.a)],t.prototype,"empresaSeleccionada",void 0),za([Object(i.Output)(),Ja("design:type",Object)],t.prototype,"enviarCancelar",void 0),za([Object(i.Output)(),Ja("design:type",Object)],t.prototype,"enviarActivar",void 0),za([Object(i.Output)(),Ja("design:type",Object)],t.prototype,"enviarAccion",void 0),za([Object(i.Input)(),Ja("design:type",Object)],t.prototype,"parametros",void 0),za([Object(i.ViewChild)("frmTipoContableDatos"),Ja("design:type",zt.NgForm)],t.prototype,"frmTipoContableDatos",void 0),t=za([Object(i.Component)({selector:"app-tipo-contable-formulario",template:a("gEFS"),styles:[a("SQpC")]}),Ja("design:paramtypes",[T.a,h.b,A.a,u.HotkeysService,k.a])],t)}(),Va=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Wa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xa=function(){function t(t,e,a,o,n,r){this.utilService=t,this.toastr=e,this.auth=a,this.atajoService=o,this.planContableService=n,this.api=r,this.enviarCancelar=new i.EventEmitter,this.enviarActivar=new i.EventEmitter,this.enviarAccion=new i.EventEmitter,this.accion=null,this.isScreamMd=!0,this.cargando=!1,this.activar=!1,this.tituloForm="",this.constantes=R.a,this.planContableTO=new g.a,this.deshabilitarCampoCodigo=!0,this.tamanioEstructura=0,this.objetoTamaniosEstructura=new I.a,this.listaResultado=[],this.index=0,this.modificarCodigoContable=0,this.codigoCuentaLlave=null,this.objetoSeleccionado=null}return t.prototype.ngOnInit=function(){this.innerWidth=window.innerWidth,this.isScreamMd=!(this.innerWidth<=576),R.a.KEY_EMPRESA_SELECT=this.empresaSeleccionada.empCodigo,this.accion=this.parametros.accion,this.planContableTO=this.parametros.planContableTO,this.deshabilitarCampoCodigo=this.parametros.deshabilitarCampoCodigo,this.tamanioEstructura=this.parametros.tamanioEstructura,this.cuentaCodigo=this.parametros.cuentaCodigo,this.objetoTamaniosEstructura=this.parametros.objetoTamaniosEstructura,this.listaResultado=this.parametros.listaResultado,this.operaciones(),this.generarAtajosTeclado(),this.extraerValoresIniciales()},t.prototype.extraerValoresIniciales=function(){var t=this;setTimeout(function(){t.valoresIniciales=JSON.parse(JSON.stringify(t.frmPlanContableDatos?t.frmPlanContableDatos.value:null)),t.planContableInicial=JSON.parse(JSON.stringify(t.planContableTO?t.planContableTO:null))},60)},t.prototype.generarAtajosTeclado=function(){this.atajoService.add(new u.Hotkey(R.a.ATAJO_MOSTRAR_OCULTAR_FILTROS,function(){var t=document.getElementById("btnActivar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_GUARDAR,function(){var t=document.getElementById("btnGuardar");return t&&t.click(),!1})),this.atajoService.add(new u.Hotkey(R.a.ATAJO_ESC,function(){var t=document.getElementById("btnCancelar");return t&&t.click(),!1}))},t.prototype.operaciones=function(){switch(this.accion){case R.a.ACCION_NUEVO:this.obtenerDatosPlanContableNuevo(),this.tituloForm=R.a.ACCION_NUEVO+R.a.CONTABILIDAD_PLAN_CONTABLE;break;case R.a.ACCION_EDITAR:this.obtenerDatosPlanContableEditar(),this.tituloForm=R.a.ACCION_EDITAR+R.a.CONTABILIDAD_PLAN_CONTABLE+": C\xf3digo: "+this.planContableTO.cuentaCodigo;break;case R.a.ACCION_CONSULTAR:this.obtenerDatosPlanContableConsultar(),this.tituloForm=R.a.ACCION_CONSULTAR+R.a.CONTABILIDAD_PLAN_CONTABLE+": C\xf3digo: "+this.planContableTO.cuentaCodigo}},t.prototype.obtenerDatosPlanContableConsultar=function(){this.planContableTO=this.parametros.planContableTO,this.objetoSeleccionado=this.parametros.objetoSeleccionado,this.planContableTO=new g.a(this.objetoSeleccionado),this.planContableTO.cuentaDetalle=this.planContableTO.cuentaDetalle.trim(),this.index=this.parametros.index,this.tamanioEstructura=this.parametros.tamanioEstructura,this.buscarConteoDetalle(this.objetoSeleccionado.cuentaCodigo)},t.prototype.obtenerDatosPlanContableNuevo=function(){this.cargando=!0,this.planContableTO=new g.a,this.planContableTO.cuentaCodigo=this.cuentaCodigo,"NaN"===this.planContableTO.cuentaCodigo&&(this.planContableTO.cuentaCodigo="1"),this.cargando=!1},t.prototype.obtenerDatosPlanContableEditar=function(){this.planContableTO=this.parametros.planContableTO,this.objetoSeleccionado=this.parametros.objetoSeleccionado,this.planContableTO=new g.a(this.objetoSeleccionado),this.planContableTO.cuentaDetalle=this.planContableTO.cuentaDetalle.trim(),this.index=this.parametros.index,this.tamanioEstructura=this.parametros.tamanioEstructura,this.buscarConteoDetalle(this.objetoSeleccionado.cuentaCodigo)},t.prototype.insertarPlanContable=function(){if(null!=this.planContableTO.cuentaDetalle&&""!=this.planContableTO.cuentaDetalle){if(this.empresaSeleccionada.listaSisPermisoTO.gruCrear)if(this.planContableService.verificarPlanCuentaIngresadoCorrectamente(this.planContableTO.cuentaCodigo,this.objetoTamaniosEstructura))if(this.planContableService.buscarCuentaGrupo(this.listaResultado,this.planContableTO.cuentaCodigo,this.objetoTamaniosEstructura)){var t=JSON.parse(JSON.stringify(this.planContableTO));t.cuentaDetalle=this.planContableService.formatoCapitalizado(this.planContableTO.cuentaDetalle,this.planContableTO.cuentaCodigo,this.tamanioEstructura),t.empCodigo=this.empresaSeleccionada.empCodigo,t.usrInsertaCuenta=this.auth.getCodigoUser();var e={conCuentasTO:t};this.cargando=!0,this.planContableService.insertarPlanContable(e,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.warning(R.a.MSJ_NO_CREAR_SIN_GRUPO,R.a.TAG_AVISO);else this.toastr.warning(R.a.MSJ_PLAN_CUENTA_MAL_INGRESADO,R.a.TAG_AVISO)}else this.toastr.warning(R.a.MSJ_CAMPOS_INVALIDOS,R.a.TAG_AVISO)},t.prototype.despuesDeInsertarPlanContable=function(t){this.cargando=!1,this.toastr.success(t.operacionMensaje,"Aviso");var e={operacion:R.a.ACCION_NUEVO,planCuentaCopia:t.extraInfo};this.enviarAccion.emit(e)},t.prototype.actualizarPlanContable=function(){if(""!=this.planContableTO.cuentaDetalle){if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmPlanContableDatos))this.toastr.warning(R.a.MSJ_NO_SE_REALIZO_NINGUN_CAMBIO,R.a.TOAST_INFORMACION),this.enviarCancelar.emit();else if(this.empresaSeleccionada.listaSisPermisoTO.gruModificar)if(this.planContableService.verificarPlanCuentaIngresadoCorrectamente(this.planContableTO.cuentaCodigo,this.objetoTamaniosEstructura)){var t=JSON.parse(JSON.stringify(this.planContableTO));t.cuentaDetalle=this.planContableService.formatoCapitalizado(this.planContableTO.cuentaDetalle,this.planContableTO.cuentaCodigo,this.tamanioEstructura);var e={conCuentasTO:t,codigoCambiarLlave:this.codigoCuentaLlave};this.cargando=!0,this.planContableService.actualizarPlanContable(e,this,R.a.KEY_EMPRESA_SELECT)}else this.toastr.warning(R.a.MSJ_PLAN_CUENTA_MAL_INGRESADO,"Aviso")}else this.toastr.warning(R.a.MSJ_CAMPOS_INVALIDOS,R.a.TAG_AVISO)},t.prototype.despuesDeActualizarPlanContable=function(t){this.cargando=!1,this.toastr.success(t.operacionMensaje,"Aviso");var e={operacion:R.a.ACCION_EDITAR,planCuentaCopia:t.extraInfo};this.enviarAccion.emit(e)},t.prototype.buscarConteoDetalle=function(t){var e=this,a={empCodigo:this.empresaSeleccionada.empCodigo,cuentaCodigo:t};this.api.post("todocompuWS/contabilidadWebController/buscarConteoDetalleEliminarCuenta",a,R.a.KEY_EMPRESA_SELECT).then(function(a){e.setearDatosEditar(a,t)}).catch(function(t){return e.utilService.handleError(t,e)})},t.prototype.setearDatosEditar=function(t,e){this.modificarCodigoContable=t,this.modificarCodigoContable=this.estadoCuentaCodigo(e)?1:this.modificarCodigoContable,this.deshabilitarCampoCodigo=0!==this.modificarCodigoContable,this.codigoCuentaLlave=this.deshabilitarCampoCodigo?"":e,this.activar=!1},t.prototype.estadoCuentaCodigo=function(t){for(var e=0,a=!1,i=0;i<this.listaResultado.length;i++){if(this.listaResultado[i].cuentaCodigo===t.trim())if(e+1==this.listaResultado.length)a=!1;else for(var o=e+1;o<this.listaResultado.length;o++){if(this.listaResultado[o].cuentaCodigo.lastIndexOf(t.trim())>=0){a=!0;break}a=!1}e++}return a},t.prototype.cancelar=function(){var t=this;if(this.utilService.puedoCancelar(this.valoresIniciales,this.frmPlanContableDatos))this.enviarCancelar.emit();else switch(this.accion){case R.a.ACCION_EDITAR:case R.a.ACCION_NUEVO:var e={title:R.a.MSJ_TITULO_CANCELAR,texto:R.a.MSJ_PREGUNTA_CANCELAR,type:R.a.SWAL_QUESTION,confirmButtonText:R.a.MSJ_SI,cancelButtonText:R.a.MSJ_NO};this.utilService.generarSwallConfirmacionHtml(e).then(function(e){e&&t.enviarCancelar.emit()});break;default:this.enviarCancelar.emit()}},Va([Object(i.Input)(),Wa("design:type",O.a)],t.prototype,"empresaSeleccionada",void 0),Va([Object(i.Output)(),Wa("design:type",Object)],t.prototype,"enviarCancelar",void 0),Va([Object(i.Output)(),Wa("design:type",Object)],t.prototype,"enviarActivar",void 0),Va([Object(i.Output)(),Wa("design:type",Object)],t.prototype,"enviarAccion",void 0),Va([Object(i.Input)(),Wa("design:type",Object)],t.prototype,"parametros",void 0),Va([Object(i.ViewChild)("frmPlanContableDatos"),Wa("design:type",zt.NgForm)],t.prototype,"frmPlanContableDatos",void 0),t=Va([Object(i.Component)({selector:"app-plan-contable-formulario",template:a("Hab8"),styles:[a("c8iC")]}),Wa("design:paramtypes",[T.a,h.b,A.a,u.HotkeysService,S.a,C.a])],t)}();a.d(e,"ContabilidadModule",function(){return qa});var Ka=function(t,e,a,i){var o,n=arguments.length,r=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,a,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(n<3?o(r):n>3?o(e,a,r):o(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},qa=function(){function t(){}return t=Ka([Object(i.NgModule)({imports:[Ia,Oa.a],declarations:[l,U,G,Y,Q,St,ct,Ot,Ma,L,Kt,Ut,Gt,Ft,Pa,Kt,te,ce,Re,fe,ja,Ie,ke,xe,ka,Ke,ua,ia,ma,Ra,Ya,Xa],entryComponents:[L]})],t)}()},KNtQ:function(t,e){t.exports=""},"Kh9/":function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmMayorAuxiliarMultiple="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control input-sm" name="cboEmpresa" [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()"\r\n              [disabled]="mostrarContabilidaAcciones" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()" *ngIf="!mostrarContabilidaAcciones">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" [disabled]="mostrarContabilidaAcciones" placeholder="{{constantes.TAG_TODOS}}"\r\n              optionLabel="secNombre" optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_CUENTA_DESDE}}</b>\r\n            </label>\r\n            <input [appFocus]="true" class="form-control input-sm text-uppercase mousetrap" name="txtCuentaCodigoDesde"\r\n              #conCuentaDesde maxlength="20" placeholder="{{constantes.TAG_OBLIGATORIO}}" id="cuentaDesde" (keydown)="buscarConCuentaDesde($event)"\r\n              (blur)="validarCuentaDesde()" [disabled]="mostrarContabilidaAcciones" [(ngModel)]="conCuentasDesde.cuentaCodigo"\r\n              required>\r\n            <span *ngIf="!mostrarContabilidaAcciones" class="fa fa-question-circle form-control-feedback" placement="right"\r\n              triggers="mouseenter:mouseleave" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}" container="body"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DETALLE_CUENTA_DESDE}}</b>\r\n            </label>\r\n            <input class="form-control form-control-sm mousetrap" name="txtCuentaDetalleDesde" type="text" placeholder="{{constantes.TAG_SIN_DETALLE}}"\r\n              [(ngModel)]="conCuentasDesde.cuentaDetalle" disabled required>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_CUENTA_HASTA}}</b>\r\n            </label>\r\n            <input class="form-control input-sm text-uppercase mousetrap" name="txtCuentaCodigoHasta" #conCuentaHasta\r\n              maxlength="20" placeholder="{{constantes.TAG_OBLIGATORIO}}" id="cuentaHasta" (keydown)="buscarConCuentaHasta($event)"\r\n              (blur)="validarCuentaHasta()" [disabled]="mostrarContabilidaAcciones" [(ngModel)]="conCuentasHasta.cuentaCodigo"\r\n              required>\r\n            <span *ngIf="!mostrarContabilidaAcciones" class="fa fa-question-circle form-control-feedback" placement="right"\r\n              triggers="mouseenter:mouseleave" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}" container="body"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DETALLE_CUENTA_HASTA}}</b>\r\n            </label>\r\n            <input class="form-control form-control-sm mousetrap" name="txtCuentaDetalleHasta" type="text" placeholder="{{constantes.TAG_SIN_DETALLE}}"\r\n              [(ngModel)]="conCuentasHasta.cuentaDetalle" disabled required>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" class="mousetrap" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [disabled]="mostrarContabilidaAcciones" [maxDate]="fechaFin" [appMaxDate]="fechaFin" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" class="mousetrap" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [disabled]="mostrarContabilidaAcciones" [minDate]="fechaInicio" [appMinDate]="fechaInicio" dateFormat="dd/mm/yy"\r\n              [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" [required]="true" [maxDate]="fechaActual" [appMaxDate]="fechaActual" ></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarMayorAuxiliar" class="btn btn-sm btn-primary" (click)="listarMayorAuxiliarMultipleTO(frmMayorAuxiliarMultiple)">\r\n            <i class=" {{constantes.ICON_BUSCAR}} " aria-hidden="true "></i> {{constantes.LABEL_BUSCAR}} </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{ \'col-lg-9 col-md-8 col-sm-7\':!activar, \'col-lg-12 col-md-12 col-sm-12\':activar} " *ngIf="!mostrarContabilidaAcciones ">\r\n    <div class="card m-0" *ngIf="listaResultadoMayorAuxiliarMul?.length> 1">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarMayorAuxiliarMultiple" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_MAYOR_AUXILIAR_MULTIPLE_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirMayorAuxiliarMultiple" (click)="imprimirListadoMayorAuxiliarMultiple()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarMayorAuxiliarMultiple" (click)="exportarMayorAuxiliarMultiple()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirMayorAuxiliarMultiple" (click)="imprimirListadoMayorAuxiliarMultiple()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarMayorAuxiliarMultiple" (click)="exportarMayorAuxiliarMultiple()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultadoMayorAuxiliarMul" [columnDefs]="columnDefsSelected" [enableSorting]="true"\r\n          [multiSortKey]="multiSortKey" [rowSelection]="rowSelection" [enableColResize]="true" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"\r\n          (rowSelected)="mayorAuxiliarMultipleSeleccionado = $event.node.data" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()" (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)"\r\n          (cellDoubleClicked)="verContable()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--Contable--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},KrUO:function(t,e){t.exports='<div class="row" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoMayorAuxiliarDesdeFuera">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmMayorGeneral=\'ngForm\' name="frmMayorGeneral" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control mousetrap form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class=""> {{fs.value.secNombre}} ({{fs.value.secCodigo}} )</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_CUENTA}}</b>\r\n            </label>\r\n            <input class="form-control input-sm  mousetrap text-uppercase" name="txtCuentaCodigo" #conCuenta maxlength="20"\r\n              placeholder="{{constantes.TAG_OBLIGATORIO}}" [appFocus]="true" id="cuenta" (keydown)="buscarConCuentas($event)"\r\n              (blur)="validarCuenta()" [(ngModel)]="conCuentas.cuentaCodigo" required>\r\n            <span class="fa fa-question-circle form-control-feedback" placement="right" ngbPopover="{{constantes.MSJ_COINCIDENCIA_CUENTA}}"\r\n              container="body"></span>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DETALLE_CUENTA}}</b>\r\n            </label>\r\n            <input class="form-control mousetrap form-control-sm" name="txtCuentaDetalle" type="text" placeholder="{{constantes.TAG_SIN_DETALLE}}"\r\n              [(ngModel)]="conCuentas.cuentaDetalle" disabled required>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado()"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" (click)="listarMayorGeneral(frmMayorGeneral)" id="btnBuscarMayorGeneral">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarMayorGeneral" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_MAYOR_GENERAL_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirMayorGeneral" (click)="imprimirListadoMayorGeneral()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarMayorGeneral" (click)="exportarMayorGeneral()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirMayorGeneral" (click)="imprimirListadoMayorGeneral()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarMayorGeneral" (click)="exportarMayorGeneral()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="balanceResultadoSeleccionado = $event.node.data"\r\n          (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" (cellDoubleClicked)="consultarMayorAuxiliar()"  (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="mostrarFormularioMayorAuxiliar && objetoMayorAuxiliarDesdeFuera">\r\n  <app-mayor-auxiliar-formulario [objetoMayorAuxiliarDesdeFuera]="objetoMayorAuxiliarDesdeFuera" (cerrarMayorAuxiliar)="cerrarMayorAuxiliar($event)"></app-mayor-auxiliar-formulario>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},LOsP:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div #prueba class="card-header">\r\n        <i class="{{classForm}}"></i>\r\n        <b> {{tituloForm}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmPlanContable=\'ngForm\' name="frmPlanContable">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion || vistaImportarContable">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--BOTONES FOOTER DE FORMULARIO EMPRESA (LISTA PLAN CONTABLE)--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion && !vistaImportarContable">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listarPlanContables()"\r\n            [disabled]="cargando">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> Buscar</button>\r\n          <div class="btn-group ml-1">\r\n            <button type="button" class="btn btn-sm btn-primary" (click)="empresaSeleccionada.listaSisPermisoTO.gruModificar?editarConfiguracion($event):null"\r\n              [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruModificar">\r\n              <i class="{{constantes.ICON_CONFIGURACION}}"></i> Estructura </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              aria-haspopup="true" aria-expanded="false" [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruCrear && !empresaSeleccionada.listaSisPermisoTO.gruEliminar">\r\n              <span class="sr-only">Estructura</span>\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="importarCuentas()">{{constantes.TAG_IMPORTAR_DATOS}}</a>\r\n              <a class="dropdown-item" *ngIf="!tamanioPlan" (click)="nuevaCuenta()">{{constantes.TAG_NUEVA_CUENTA}}</a>\r\n              <a class="dropdown-item" (click)="eliminarTodoCuentas()">{{constantes.TAG_ELIMINAR_TODO}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="vistaPlanFormulario">\r\n    <div *ngIf="vistaImportarContable">\r\n      <app-cuentas-formulario [empresaSeleccionada]="empresaSeleccionada" [data]="dataFormulario" (enviarCancelar)="formularioCancelar()"\r\n        (enviarActivar)="formularioActivar($event)"></app-cuentas-formulario>\r\n    </div>\r\n    <div class="card m-0" *ngIf="vistaListado && listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2 d-none d-md-inline" (click)="activar = !activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_PLAN_CUENTAS_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group mr-1">\r\n            <button type="button" class="btn btn-sm btn-primary" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body"\r\n              [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruExportar" (click)="exportarPlanCuentas()">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"\r\n              aria-haspopup="true" aria-expanded="false">\r\n              <span class="sr-only">Toggle Dropdown</span>\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item {{!empresaSeleccionada.listaSisPermisoTO.gruExportar?\'disabled\':\'\'}}" (click)="exportarTxtPlanCuentas()">{{constantes.TAG_FORMATO_TXT}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()"\r\n          (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          (cellFocused)="filaFocused($event)" (cellDoubleClicked)="objetoSeleccionado = $event.node.data; operacionPlanContable(constantes.ACCION_CONSULTAR, true)">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n        <app-list-detail *ngIf="screamXSS" [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [components]="components"\r\n          [context]="context" [frameworkComponents]="frameworkComponents"></app-list-detail>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <app-plan-contable-formulario *ngIf="vistaPlanFormulario" [parametros]="parametrosFormulario" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarCancelar)="cancelar($event)" (enviarActivar)="activar=!$event" (enviarAccion)="ejecutarAccion($event)">\r\n    </app-plan-contable-formulario>\r\n  </div>\r\n\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>\r\n<ng-template #tipContent>Hello,\r\n  <b></b>!</ng-template>'},"Lvl+":function(t,e){t.exports=""},RJJX:function(t,e){t.exports=""},RaG6:function(t,e){t.exports=""},SQpC:function(t,e){t.exports=""},Tedv:function(t,e){t.exports=""},VYNa:function(t,e){t.exports='<div class="row" *ngIf="showIndex">\r\n    <div class="col-lg-5 col-md-4 pt-5">\r\n        <h1 class="text-center">Lo m\xe1s usado:</h1>\r\n        <div class="form-group form-group-sm text-center" *ngFor="let acceso of listaAccesoRapido">\r\n            <a routerLink="{{acceso.url}}" *ngIf="acceso.mostrar">\r\n                <button type="button" class="btn btn-primary btn-ancho-250"> {{acceso.item}}</button>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-7 col-md-8">\r\n        <div class="text-center">\r\n            <img src="assets/images/contabilidad.png" class="img-thumbnail">\r\n        </div>\r\n    </div>\r\n</div>\r\n<router-outlet></router-outlet>'},VrVl:function(t,e){t.exports='<div class="row">\r\n\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card">\r\n      <div class="card-header">\r\n        <i class=" {{classTitulo}}"></i>\r\n        <b>{{frmTitulo}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmFiltro="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [(ngModel)]="empresaSeleccionada" class="form-control form-control-sm  mousetrap" name="empresaSeleccionada" \r\n              (change)="cambiarEmpresaSelect();" required [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}} ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback" *ngIf="false">\r\n            <label class="control-label mb-0">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n            </label>\r\n            <select [(ngModel)]="sectorSeleccionado" name="sectorSeleccionado" class="form-control form-control-sm  mousetrap" [disabled]="cargando"\r\n              (change)="limpiarLista()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="sector" *ngFor="let sector of listaSectores">{{sector.secNombre}} ({{sector.secCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar name="fechaDesde" [(ngModel)]="fechaDesde" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar name="fechaHasta" [(ngModel)]="fechaHasta" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [minDate]="fechaDesde" [maxDate]="fechaActual"\r\n              [appMinDate]="fechaDesde" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <button id="btnBuscar" type="button" class="btn btn-sm btn-primary" (click)="frmFiltro.valid ? buscarContabilizarMaterialIndirecto() : null" title="{{constantes.ATAJO_BUSCAR}}"\r\n            [disabled]="!frmFiltro.valid">\r\n            <i class="{{constantes.ICON_REFRESCAR}}" aria-hidden="true"></i> {{constantes.LABEL_ACTUALIZAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div *ngIf="vistaListado">\r\n      <app-contabilizar-ipp-listado [parametrosBusqueda]="parametroBusquedaListado" [titulo]="constantes.TAG_INDIRECTO" [empresaSeleccionada]="empresaSeleccionada" (enviarActivar)="modificarActivar($event)"></app-contabilizar-ipp-listado>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- Modal que muestra los errores --\x3e\r\n<p-dialog header="Aviso" [(visible)]="mostrarDialogo" [modal]="true" [responsive]="true" [contentStyle]="{\'max-height\':\'500px\', \'max-width\':\'550px\'}"\r\n  [baseZIndex]="10000">\r\n  <div class="alert alert-danger mb-0 pb-0" role="alert">\r\n    <strong>{{tituloDialogo}}</strong>\r\n    <p>{{listaMensajes[0]}}</p>\r\n    <ul>\r\n      <li *ngFor="let mensaje of listaMensajes; let i=index;" class="mb-0" [ngClass]="{\'style-none\': mensaje === \'\', \'d-none\': i=== 0}">\r\n        <span *ngIf="mensaje!==\'\' && i > 0">{{mensaje}}</span>\r\n        <hr *ngIf="mensaje===\'\' && i > 0">\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <p-footer>\r\n    <div class="text-center">\r\n      <button type="button" (click)="mostrarDialogo=false" class="btn btn-sm btn-primary">{{constantes.LABEL_ACEPTAR}}</button>\r\n    </div>\r\n  </p-footer>\r\n</p-dialog>\r\n\x3c!--Cargando--\x3e\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},WuHj:function(t,e){t.exports='<div class="card m-0 mb-1" *ngIf="listadoResultado?.length > 0">\r\n  <div class="card-header p-1">\r\n    <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="cambiarActivar(activar)" type="button"\r\n      title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n      <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n    </button>\r\n    <b placement="right" ngbTooltip="{{constantes.LABEL_CONTABILIZAR}} {{constantes.IPP_SUBTITULO}} {{titulo}}">{{constantes.TITULO_IPP_CONTABILIZAR}} {{titulo}}</b>\r\n    <div class="card-header-actions">\r\n      <div class="btn-group d-lg-none">\r\n        <button id="btnContabilizar" type="button" class="btn btn-sm btn-primary mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CONTABILIZAR}}"\r\n          container="body" (click)="empresaSeleccionada.listaSisPermisoTO.gruCrear ? contabilizar() : null" [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruCrear"\r\n          title="{{constantes.ATAJO_CONTABILIZAR}}">\r\n          <i class="{{constantes.ICON_CALCULADORA}}" aria-hidden="true"></i>\r\n        </button>\r\n        <button id="btnCancelar" type="button" class="btn btn-sm btn-outline mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CANCELAR}}"\r\n          container="body" (click)="limpiarResultado()" title="{{constantes.ATAJO_CANCELAR}}">\r\n          <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i>\r\n        </button>\r\n      </div>\r\n      <div class="btn-group d-none d-lg-block">\r\n        <button id="btnContabilizar" type="button" class="btn btn-sm btn-primary mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CONTABILIZAR}}"\r\n          container="body" (click)="empresaSeleccionada.listaSisPermisoTO.gruCrear ? contabilizar() : null" [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruCrear"\r\n          title="{{constantes.ATAJO_CONTABILIZAR}}">\r\n          <i class="{{constantes.ICON_CALCULADORA}}" aria-hidden="true"> </i> {{constantes.LABEL_CONTABILIZAR}}\r\n        </button>\r\n        <button id="btnCancelar" type="button" class="btn btn-sm btn-outline mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CANCELAR}}"\r\n          container="body" (click)="limpiarResultado()" title="{{constantes.ATAJO_CANCELAR}}">\r\n          <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i> {{constantes.LABEL_CANCELAR}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="card-body p-0" *ngIf="listadoResultado.length>0">\r\n    <app-tabla-ipp [columnas]="columnDefs" [tamanio]="tamanio" [filasTiempo]="filasTiempo" [listadoResultado]="listadoResultado"></app-tabla-ipp>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},XgA3:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmCompraMotivo=\'ngForm\' name="frmCompraMotivo" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="mostrarContabilidaAcciones" [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted" *ngIf="!mostrarContabilidaAcciones">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscarVerifContErrores" class="btn btn-sm btn-primary" (click)="listarContablesVerificaciones()">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="mostrarContabilidaAcciones">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarVerifContErrores" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_VERIFICACION_CONTABLES_ERRORES_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirVerifContErrores" (click)="imprimirVerificacionContablesErrores()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVerifContErrores" (click)="exportarVerificacionContablesErrores()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirVerifContErrores" (click)="imprimirVerificacionContablesErrores()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVerifContErrores" (click)="exportarVerificacionContablesErrores()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (cellDoubleClicked)="consultarContable()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" *ngIf="objetoContableEnviar">\r\n    <app-contable-formulario [data]="objetoContableEnviar" (cargandoEstado)="cambiarEstadoCargando($event)"\r\n      (cerrarContabilidadAcciones)="cerrarContabilidadAcciones($event)" (activarEstado)="cambiarEstadoActivar($event)"></app-contable-formulario>\r\n  </div>\r\n\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ZVzk:function(t,e){t.exports='<div class="row" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoMayorAuxiliarDesdeFuera">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEstadoResultadoInt=\'ngForm\' name="frmEstadoResultadoInt" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="tipo" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha1" name="iniFecha1" [(ngModel)]="fechaDesde" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              [maxDate]="fechaHasta" [appMaxDate]="fechaHasta" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido,\'mousetrap\':true}" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha1" name="finFecha1" [(ngModel)]="fechaHasta" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaHasta"\r\n              [appMaxDate]="fechaHasta"\r\n              [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido,\'mousetrap\':true}" [required]="true"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarConBalanceResultado(frmEstadoResultadoInt,false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-2" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="listarConBalanceResultado(frmEstadoResultadoInt,true)">\r\n                {{constantes.TAG_OCULTAR_DETALLE_CUENTA}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_ESTADO_RESULTADO_INTEGRAL_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoResult" (click)="imprimirEstadoResultado()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoResult" (click)="exportarEstadoResultado()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoResult" (click)="imprimirEstadoResultado()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoResult" (click)="exportarEstadoResultado()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="balanceResultadoSeleccionado = $event.node.data"\r\n          (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" (cellDoubleClicked)="consultarMayorAuxiliar()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="mostrarFormularioMayorAuxiliar && objetoMayorAuxiliarDesdeFuera">\r\n  <app-mayor-auxiliar-formulario [objetoMayorAuxiliarDesdeFuera]="objetoMayorAuxiliarDesdeFuera" (cerrarMayorAuxiliar)="cerrarMayorAuxiliar($event)"></app-mayor-auxiliar-formulario>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},aFGy:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEstadoResultadoVsInventario=\'ngForm\' name="frmEstadoResultadoVsInventario" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()"  [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class=""> {{fs.value.secNombre}} ({{fs.value.secCodigo}} )</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" [maxDate]="fechaActual" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listarBalanceResultadosVsInventarioTO(frmEstadoResultadoVsInventario)">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarERI" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_ESTADO_RESULTADO_VS_INVENTARIO_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoResultadoVsInventario"\r\n              (click)="imprimirEstadoResultadoVsInventario()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoResultadoVsInventario"\r\n              (click)="exportarEstadoResultadoVsInventario()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoResultadoVsInventario"\r\n              (click)="imprimirEstadoResultadoVsInventario()" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n              container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoResultadoVsInventario"\r\n              (click)="exportarEstadoResultadoVsInventario()" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n              container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},c8iC:function(t,e){t.exports=""},cZ8u:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmVerificacionComprasFecha=\'ngForm\' name="frmVerificacionComprasFecha" autocomplete="off">\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="limpiarResultado();cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}}\r\n                )\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha" name="iniFecha" [(ngModel)]="fechaInicio" (ngModelChange)="limpiarResultado();validarFechas(\'I\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [maxDate]="fechaFin" [appMaxDate]="fechaFin"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaInicioValido}"></p-calendar>\r\n          </div>\r\n\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha" name="finFecha" [(ngModel)]="fechaFin" (ngModelChange)="limpiarResultado();validarFechas(\'F\')"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [minDate]="fechaInicio" [appMinDate]="fechaInicio"\r\n              [required]="true" [ngClass]="{\'has-error\':!fechasValidos.fechaFinValido}" [maxDate]="fechaActual"\r\n              [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listarVerificacionesFechasCompras(frmVerificacionComprasFecha)">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_VERIFICACION_FECHA_COMPRAS_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoVerificacion" (click)="imprimirListadoVerificacion()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVerificaciones" (click)="exportarVerificaciones()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirListadoVerificacion" (click)="imprimirListadoVerificacion()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarVerificaciones" (click)="exportarVerificaciones()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" [frameworkComponents]="frameworkComponents">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},dYAe:function(t,e){t.exports='<div class="row">\r\n\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card">\r\n      <div class="card-header">\r\n        <i class=" {{classTitulo}}"></i>\r\n        <b>{{frmTitulo}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmFiltro="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [(ngModel)]="empresaSeleccionada" class="form-control form-control-sm  mousetrap" name="empresaSeleccionada" \r\n              (change)="cambiarEmpresaSelect();" required [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}} ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback" *ngIf="false">\r\n            <label class="control-label mb-0">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n            </label>\r\n            <select [(ngModel)]="sectorSeleccionado" name="sectorSeleccionado" class="form-control input-sm" [disabled]="cargando"\r\n              (change)="limpiarLista()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="sector" *ngFor="let sector of listaSectores">{{sector.secNombre}} ({{sector.secCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar name="fechaDesde" [(ngModel)]="fechaDesde" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar name="fechaHasta" [(ngModel)]="fechaHasta" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [minDate]="fechaDesde" [maxDate]="fechaActual"\r\n              [appMinDate]="fechaDesde" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <button id="btnBuscar" type="button" class="btn btn-sm btn-primary" (click)="buscarContabilizarMaterialDirecto()" title="{{constantes.ATAJO_BUSCAR}}"\r\n            [disabled]="!frmFiltro.valid">\r\n            <i class="{{constantes.ICON_REFRESCAR}}" aria-hidden="true"></i> {{constantes.LABEL_ACTUALIZAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n      <div *ngIf="vistaListado">\r\n        <app-contabilizar-ipp-listado [parametrosBusqueda]="parametroBusquedaListado" [titulo]="constantes.TAG_DIRECTO" [empresaSeleccionada]="empresaSeleccionada" (enviarActivar)="modificarActivar($event)"></app-contabilizar-ipp-listado>\r\n      </div>\r\n    </div>\r\n</div>\r\n\r\n\x3c!-- Modal que muestra los errores --\x3e\r\n<p-dialog header="Aviso" [(visible)]="mostrarDialogo" [modal]="true" [responsive]="true" [contentStyle]="{\'max-height\':\'500px\', \'max-width\':\'550px\'}"\r\n  [baseZIndex]="10000">\r\n  <div class="alert alert-danger mb-0 pb-0" role="alert">\r\n    <strong>{{tituloDialogo}}</strong>\r\n    <p>{{listaMensajes[0]}}</p>\r\n    <ul>\r\n      <li *ngFor="let mensaje of listaMensajes; let i=index;" class="mb-0" [ngClass]="{\'style-none\': mensaje === \'\', \'d-none\': i=== 0}">\r\n        <span *ngIf="mensaje!==\'\' && i > 0">{{mensaje}}</span>\r\n        <hr *ngIf="mensaje===\'\' && i > 0">\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <p-footer>\r\n    <div class="text-center">\r\n      <button type="button" (click)="mostrarDialogo=false" class="btn btn-sm btn-primary">{{constantes.LABEL_ACEPTAR}}</button>\r\n    </div>\r\n  </p-footer>\r\n</p-dialog>\r\n\r\n\x3c!--Cargando--\x3e\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"fS+z":function(t,e){t.exports=""},gEFS:function(t,e){t.exports='<form #frmTipoContableDatos=\'ngForm\' autocomplete="off" class="card m-0">\r\n  <fieldset>\r\n    <div class="card-header p-1">\r\n      <button id="btnActivar" class="btn btn-sm btn-primary" *ngIf="isScreamMd" (click)="cambiarActivar(activar)" type="button"\r\n        title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n        <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n      </button>\r\n      <b class="pl-2"> {{tituloForm}} </b>\r\n      <div class="card-header-actions">\r\n        \x3c!--BOTON GUARDAR NUEVO --\x3e\r\n        <button *ngIf="accion === constantes.ACCION_CREAR" type="button" class="btn btn-sm btn-primary mr-1" id="btnGuardar"\r\n          (click)="insertarTipoContable(frmTipoContableDatos)">\r\n          <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i> {{constantes.LABEL_GUARDAR}}</button>\r\n        \x3c!--BOTON GUARDAR MODIFICADO --\x3e\r\n        <button *ngIf="accion === constantes.ACCION_EDITAR" type="button" class="btn btn-sm btn-primary mr-1" id="btnGuardar"\r\n          (click)="actualizarTipoContable(frmTipoContableDatos)">\r\n          <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i> {{constantes.LABEL_GUARDAR}}</button>\r\n        \x3c!--BOTON CANCELAR --\x3e\r\n        <button class="btn btn-sm btn-default mr-1" type="button" (click)="cancelar()" id="btnCancelar">\r\n          <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i> {{constantes.LABEL_CANCELAR}}</button>\r\n      </div>\r\n    </div>\r\n    \x3c!--FORMULARIO TIPO CONTABLE --\x3e\r\n    <div class="card-body p-1">\r\n      <div class="card mb-1">\r\n        <div class="card-header">\r\n          <b> {{constantes.TAG_DATOS_GENERALES}}</b>\r\n          <div class="card-header-actions">\r\n            <a href="#" class="card-header-action btn-minimize" data-toggle="collapse" data-target="#collapseTipoContable"\r\n              aria-expanded="true" placement="top" ngbTooltip="{{constantes.TAG_MOSTRAR_OCULTAR}}">\r\n              <i class="fa fa-minus"></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class="card-body collapse show mt-0 mb-0 pt-1 pb-0" id="collapseTipoContable">\r\n          <div class="row">\r\n            \x3c!--CODIGO --\x3e\r\n            <div class="form-group col-lg-6 col-sm-6">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_CODIGO}}</b>\r\n              </label>\r\n              <input [appFocus]="accion === constantes.ACCION_CREAR" name="codigo" [(ngModel)]="conTipoTO.tipCodigo"\r\n                pattern="{{constantes.PATTERN_CODIGO}}" [disabled]="accion !== constantes.ACCION_CREAR" placeholder="{{constantes.TAG_OBLIGATORIO}}"\r\n                class="form-control text-uppercase form-control-sm mousetrap" required maxlength="20" (ngModelChange)="conTipoTO.tipCodigo = conTipoTO.tipCodigo.toUpperCase()">\r\n            </div>\r\n            \x3c!-- DETALLE --\x3e\r\n            <div class="form-group col-lg-6 col-sm-6">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_DETALLE}}</b>\r\n              </label>\r\n              <input [appFocus]="accion === constantes.ACCION_EDITAR" class="form-control text-uppercase form-control-sm mousetrap"\r\n                name="detalle" maxlength="150" type="text" placeholder="{{constantes.TAG_OBLIGATORIO}}" [(ngModel)]="conTipoTO.tipDetalle"\r\n                (ngModelChange)="conTipoTO.tipDetalle = conTipoTO.tipDetalle.toUpperCase()" id="detalle" required\r\n                [disabled]="accion == constantes.ACCION_CONSULTAR">\r\n            </div>\r\n            \x3c!--TIPO --\x3e\r\n            <div class="form-group col-lg-6 col-sm-6">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_TIPO}}</b>\r\n              </label>\r\n              <select class="form-control text-uppercase form-control-sm mousetrap" name="tipo" required [(ngModel)]="conTipoTO.tipTipoPrincipal"\r\n                [disabled]="accion == constantes.ACCION_CONSULTAR">\r\n                <option [ngValue]="tipo" *ngFor="let tipo of listaTipos">{{tipo}}</option>\r\n              </select>\r\n            </div>\r\n            \x3c!--MODULO --\x3e\r\n            <div class="form-group col-lg-6 col-sm-6">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_MODULO}}</b>\r\n              </label>\r\n              <select class="form-control text-uppercase form-control-sm mousetrap" name="modulo" required [(ngModel)]="conTipoTO.tipModulo"\r\n                [disabled]="accion == constantes.ACCION_CONSULTAR">\r\n                <option [ngValue]="modulo" *ngFor="let modulo of listaModulos">{{modulo}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </fieldset>\r\n</form>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},ivj3:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    \x3c!--FORMULARIO DE FILTRADO--\x3e\r\n    <div class="card">\r\n      <div class="card-header">\r\n        <i class=" {{classTitulo}}"></i>\r\n        <b>{{frmTitulo}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        <form #frmFiltro="ngForm" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select [(ngModel)]="empresaSeleccionada" class="form-control form-control-sm  mousetrap" name="empresaSeleccionada"\r\n              (change)="cambiarEmpresaSelect();" required [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback" *ngIf="false">\r\n            <label class="control-label mb-0">\r\n              <b>{{constantes.TAG_SECTOR}}</b>\r\n            </label>\r\n            <select [(ngModel)]="sectorSeleccionado" name="sectorSeleccionado" class="form-control input-sm mousetrap"\r\n              [disabled]="cargando" (change)="limpiarLista()" required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option selected [ngValue]="sector" *ngFor="let sector of listaSectores">{{sector.secNombre}}\r\n                ({{sector.secCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_DESDE}}</b>\r\n            </label>\r\n            <p-calendar name="fechaDesde" [(ngModel)]="fechaDesde" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [maxDate]="fechaHasta"\r\n              [appMaxDate]="fechaHasta"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_HASTA}}</b>\r\n            </label>\r\n            <p-calendar name="fechaHasta" [(ngModel)]="fechaHasta" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n              (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [minDate]="fechaDesde" [maxDate]="fechaActual"\r\n              [appMinDate]="fechaDesde" [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer">\r\n        <div class="text-right">\r\n          <button id="btnBuscar" type="button" class="btn btn-sm btn-primary" (click)="listaContabilizarTodoProceso()"\r\n            title="{{constantes.ATAJO_BUSCAR}}" [disabled]="!frmFiltro.valid">\r\n            <i class="{{constantes.ICON_REFRESCAR}}" aria-hidden="true"></i> {{constantes.LABEL_ACTUALIZAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    \x3c!--LISTADO --\x3e\r\n    <div class="card m-0" *ngIf="vistaListado">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-2" *ngIf="isScreamMd" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong placement="right" ngbTooltip="{{constantes.LABEL_CONTABILIZAR}} {{constantes.IPP_SUBTITULO}}">{{constantes.TITULO_IPP_CONTABILIZAR}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button id="btnContabilizar" type="button" class="btn btn-sm btn-primary mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CONTABILIZAR}}"\r\n              container="body" (click)="empresaSeleccionada.listaSisPermisoTO.gruCrear ? contabilizar() : null"\r\n              [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruCrear" title="{{constantes.ATAJO_CONTABILIZAR}}">\r\n              <i class="{{constantes.ICON_CALCULADORA}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button id="btnCancelar" type="button" class="btn btn-sm btn-outline mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CANCELAR}}"\r\n              container="body" (click)="limpiarLista()" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button id="btnContabilizar" type="button" class="btn btn-sm btn-primary mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CONTABILIZAR}}"\r\n              container="body" (click)="empresaSeleccionada.listaSisPermisoTO.gruCrear ? contabilizar() : null"\r\n              [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruCrear" title="{{constantes.ATAJO_CONTABILIZAR}}">\r\n              <i class="{{constantes.ICON_CALCULADORA}}" aria-hidden="true"> </i> {{constantes.LABEL_CONTABILIZAR}}\r\n            </button>\r\n            <button id="btnCancelar" type="button" class="btn btn-sm btn-outline mr-1" placement="top" ngbTooltip="{{constantes.LABEL_CANCELAR}}"\r\n              container="body" (click)="limpiarLista()" title="{{constantes.ATAJO_CANCELAR}}">\r\n              <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i> {{constantes.LABEL_CANCELAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0 pb-1" *ngIf="vistaListado">\r\n      <ul class="nav nav-tabs nav-justified" role="tablist" id="ulOpcionesEmpleado" style="box-shadow: inset 0 -1px 0 #ddd;">\r\n        <li role="presentation" class="nav-item" placement="top" ngbTooltip="{{constantes.IPP}} {{constantes.TAG_DIRECTO}}">\r\n          <a class="nav-link active p-1" href data-target="#directo" aria-controls="directo" role="tab" data-toggle="tab">\r\n            <b>{{constantes.TAG_IPP_DIRECTO}}</b>\r\n          </a>\r\n        </li>\r\n        <li role="presentation" class="nav-item" placement="top" ngbTooltip="{{constantes.IPP}} {{constantes.TAG_INDIRECTO}}">\r\n          <a class="nav-link p-1" href data-target="#indirecto" aria-controls="indirecto" role="tab" data-toggle="tab">\r\n            <b>{{constantes.TAG_IPP_INDIRECTO}}</b>\r\n          </a>\r\n        </li>\r\n        <li role="presentation" class="nav-item" placement="top" ngbTooltip="{{constantes.IPP}} {{constantes.TAG_CORRIDA}}">\r\n          <a class="nav-link p-1" href data-target="#corrida" aria-controls="corrida" role="tab" data-toggle="tab">\r\n            <b>{{constantes.TAG_IPP_CORRIDA}}</b>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n      <div class="tab-content panel" style="border-top-width: 0px;">\r\n        <div role="tabpanel" class="tab-pane fade show active p-2" id="directo">\r\n          <div *ngIf="mensajeDirecto" class="alert alert-warning m-0">{{mensajeDirecto}}</div>\r\n          <app-tabla-ipp [columnas]="columnasDirectoIndirecto" [tamanio]="tamanio" [filasTiempo]="filasTiempo"\r\n            [listadoResultado]="listadoDirecto"></app-tabla-ipp>\r\n        </div>\r\n        <div role="tabpanel" class="tab-pane fade p-2" id="indirecto">\r\n          <div *ngIf="mensajeIndirecto" class="alert alert-warning m-0">{{mensajeIndirecto}}</div>\r\n          <app-tabla-ipp [columnas]="columnasDirectoIndirecto" [tamanio]="tamanio" [filasTiempo]="filasTiempo"\r\n            [listadoResultado]="listadoIndirecto"></app-tabla-ipp>\r\n        </div>\r\n        <div role="tabpanel" class="tab-pane fade p-2" id="corrida">\r\n          <div *ngIf="mensajeCorrida" class="alert alert-warning m-0">{{mensajeCorrida}}</div>\r\n          <app-tabla-ipp [columnas]="columnasCorrida" [tamanio]="tamanio" [filasTiempo]="filasTiempo"\r\n            [listadoResultado]="listadoCorrida"></app-tabla-ipp>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- Modal que muestra los errores --\x3e\r\n<p-dialog header="Aviso" [(visible)]="mostrarDialogo" [modal]="true" [responsive]="true" [contentStyle]="{\'max-height\':\'500px\', \'max-width\':\'550px\'}"\r\n  [baseZIndex]="10000">\r\n  <div class="alert alert-danger mb-0 pb-0" role="alert">\r\n    <strong>{{tituloDialogo}}</strong>\r\n    <p>{{listaMensajes[0]}}</p>\r\n    <ul>\r\n      <li *ngFor="let mensaje of listaMensajes; let i=index;" class="mb-0" [ngClass]="{\'style-none\': mensaje === \'\', \'d-none\': i=== 0}">\r\n        <span *ngIf="mensaje!==\'\' && i > 0">{{mensaje}}</span>\r\n        <hr *ngIf="mensaje===\'\' && i > 0">\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <p-footer>\r\n    <div class="text-center">\r\n      <button type="button" (click)="mostrarDialogo=false" class="btn btn-sm btn-primary">{{constantes.LABEL_ACEPTAR}}</button>\r\n    </div>\r\n  </p-footer>\r\n</p-dialog>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},jeDy:function(t,e){t.exports=""},ks3V:function(t,e){t.exports=""},lwCr:function(t,e){t.exports='<div class="row">\r\n    <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n      <div class="card">\r\n        <div class="card-header">\r\n          <i class=" {{classTitulo}}"></i>\r\n          <b>{{frmTitulo}}</b>\r\n        </div>\r\n        <div class="card-body pb-0 pt-1">\r\n          <form #frmFiltro="ngForm" autocomplete="off">\r\n            <div class="form-group form-group-sm">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_EMPRESA}}</b>\r\n              </label>\r\n              <select [(ngModel)]="empresaSeleccionada" class="form-control form-control-sm  mousetrap" name="empresaSeleccionada" \r\n                (change)="cambiarEmpresaSelect();" required [appFocus]=true>\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}} ({{empresa.empCodigo}})</option>\r\n              </select>\r\n            </div>\r\n            <div class="form-group form-group-sm has-feedback" *ngIf="false">\r\n              <label class="control-label mb-0">\r\n                <b>{{constantes.TAG_SECTOR}}</b>\r\n              </label>\r\n              <select [(ngModel)]="sectorSeleccionado" name="sectorSeleccionado" class="form-control form-control-sm  mousetrap" [disabled]="cargando"\r\n                (change)="limpiarLista()" required>\r\n                <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n                <option selected [ngValue]="sector" *ngFor="let sector of listaSectores">{{sector.secNombre}} ({{sector.secCodigo}})</option>\r\n              </select>\r\n            </div>\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_DESDE}}</b>\r\n              </label>\r\n              <p-calendar name="fechaDesde" [(ngModel)]="fechaDesde" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n                (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [maxDate]="fechaHasta" [appMaxDate]="fechaHasta"></p-calendar>\r\n            </div>\r\n            <div class="form-group form-group-sm has-feedback">\r\n              <label class="control-label">\r\n                <b>{{constantes.TAG_HASTA}}</b>\r\n              </label>\r\n              <p-calendar name="fechaHasta" [(ngModel)]="fechaHasta" [showIcon]="true" [locale]="es" dateFormat="{{constantes.CALENDAR_FORMATO}}"\r\n                (ngModelChange)="limpiarLista()" [required]="true" [disabled]="cargando" [minDate]="fechaDesde" [maxDate]="fechaActual"\r\n                [appMinDate]="fechaDesde" [appMaxDate]="fechaActual"></p-calendar>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class="card-footer">\r\n          <div class="text-right">\r\n            <button id="btnBuscar" type="button" class="btn btn-sm btn-primary" (click)="listaContabilizarCorridaTO()" title="{{constantes.ATAJO_BUSCAR}}"\r\n              [disabled]="!frmFiltro.valid">\r\n              <i class="{{constantes.ICON_REFRESCAR}}" aria-hidden="true"></i> {{constantes.LABEL_ACTUALIZAR}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n    <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n        <div *ngIf="vistaListado">\r\n          <app-contabilizar-ipp-cierre-corridas-listado [parametrosBusqueda]="parametroBusquedaListado" [empresaSeleccionada]="empresaSeleccionada" (enviarActivar)="modificarActivar($event)"></app-contabilizar-ipp-cierre-corridas-listado>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  \r\n  \x3c!-- Modal que muestra los errores --\x3e\r\n  <p-dialog header="Aviso" [(visible)]="mostrarDialogo" [modal]="true" [responsive]="true" [contentStyle]="{\'max-height\':\'500px\', \'max-width\':\'550px\'}"\r\n    [baseZIndex]="10000">\r\n    <div class="alert alert-danger mb-0 pb-0" role="alert">\r\n      <strong>{{tituloDialogo}}</strong>\r\n      <p>{{listaMensajes[0]}}</p>\r\n      <ul>\r\n        <li *ngFor="let mensaje of listaMensajes; let i=index;" class="mb-0" [ngClass]="{\'style-none\': mensaje === \'\', \'d-none\': i=== 0}">\r\n          <span *ngIf="mensaje!==\'\' && i > 0">{{mensaje}}</span>\r\n          <hr *ngIf="mensaje===\'\' && i > 0">\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <p-footer>\r\n      <div class="text-center">\r\n        <button type="button" (click)="mostrarDialogo=false" class="btn btn-sm btn-primary">{{constantes.LABEL_ACEPTAR}}</button>\r\n      </div>\r\n    </p-footer>\r\n  </p-dialog>\r\n  \r\n  \x3c!--Cargando--\x3e\r\n  <div *ngIf="cargando">\r\n    <app-cargando></app-cargando>\r\n  </div>'},oscH:function(t,e){t.exports='<div class="row" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoMayorAuxiliarDesdeFuera">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #formulario=\'ngForm\' name="formulario" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [appFocus]=true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}}\r\n                )\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="cboSector" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ({{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div class="">{{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA}}</b>\r\n            </label>\r\n            <p-calendar inputId="fecha" name="fecha" [(ngModel)]="fecha" (ngModelChange)="limpiarResultado()"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [required]="true" [maxDate]="fechaActual"\r\n              [appMaxDate]="fechaActual"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" id="btnBuscarEstadoSituacionFinanciera" class="btn btn-sm btn-primary" (click)="listarSituacionFinanciera(formulario,false,false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-2" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="listarSituacionFinanciera(formulario,false,true)">\r\n                {{constantes.TAG_OCULTAR_DETALLE_ACTIVOS_BIOLOGICOS}}</a>\r\n              <a class="dropdown-item" (click)="listarSituacionFinanciera(formulario,true,false)">\r\n                {{constantes.TAG_OCULTAR_DETALLE_CUENTA}}</a>\r\n              <a class="dropdown-item" (click)="listarSituacionFinanciera(formulario,true,true)">\r\n                {{constantes.TAG_OCULTAR_DETALLE_AMBOS}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarEstadoSituacionFinanciera" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_ESTADO_SITUACION_FINANCIERA_LISTADO}}</strong>\r\n\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoSituacionFinanciera" (click)="imprimirEstadoSituacionFinanciera()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoSituacionFinanciera" (click)="exportarEstadoSituacionFinanciera()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirEstadoSituacionFinanciera" (click)="imprimirEstadoSituacionFinanciera()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarEstadoSituacionFinanciera" (click)="exportarEstadoSituacionFinanciera()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="estadoSituacionFinSeleccionado = $event.node.data"\r\n          (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" (cellDoubleClicked)="consultarMayorAuxiliar()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="mostrarFormularioMayorAuxiliar && objetoMayorAuxiliarDesdeFuera">\r\n  <app-mayor-auxiliar-formulario [objetoMayorAuxiliarDesdeFuera]="objetoMayorAuxiliarDesdeFuera" (cerrarMayorAuxiliar)="cerrarMayorAuxiliar($event)"></app-mayor-auxiliar-formulario>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"r++c":function(t,e){t.exports='<div class="modal-primary">\r\n  <div class="modal-header p-2">\r\n    <h4 class="modal-title">{{constantes.CONTABILIDAD_CUENTAS_ESTRUCTURA}}</h4>\r\n    <button type="button" class="close" aria-label="Cerrar" (click)="activeModal.dismiss(\'Cerrar Modal\')">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class="modal-body p-2" [ngClass]="{\'block-div\':accion===constantes.ACCION_CONSULTAR}">\r\n    <div class="card mb-0">\r\n      <div class="card-header p-1">\r\n        <b>{{constantes.TITULO_CONFIGURACION_PLAN_CONTABLE}}: {{empresaSeleccionada.empNombre}}</b>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group">\r\n            <button *ngIf="accion===constantes.ACCION_CREAR" type="button" class="btn btn-primary mr-1 btn-sm"\r\n              placement="top" container="body" (click)="insertarEstructura(frmConfiguracionPlan)">\r\n              <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i>\r\n              <span class="d-none d-md-inline">{{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button *ngIf="accion===constantes.ACCION_EDITAR" placement="top" container="body" type="button" class="btn btn-primary mr-1 btn-sm"\r\n              (click)="actualizarEstructura(frmConfiguracionPlan)">\r\n              <i class="{{constantes.ICON_GUARDAR}}"></i>\r\n              <span class="d-none d-md-inline"> {{constantes.LABEL_GUARDAR}}</span>\r\n            </button>\r\n            <button type="button" placement="top" container="body" class="btn btn-default mr-1 btn-sm" (click)="activeModal.dismiss(\'Cerrar Modal\')">\r\n              <i class="{{constantes.ICON_CANCELAR}}"></i>\r\n              <span class="d-none d-md-inline">{{constantes.LABEL_CANCELAR}}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body">\r\n        <div class="row">\r\n          <div class="col-md-4 col-sm-12">\r\n            \x3c!--Formulario de configuracion--\x3e\r\n            <form #frmConfiguracionPlan=\'ngForm\' autocomplete="off">\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_EMPRESA}}</b>\r\n                </label>\r\n                <p class="form-control form-control-sm">{{empresaSeleccionada.empNombre}}\r\n                  ({{empresaSeleccionada.empCodigo}})</p>\r\n              </div>\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_GRUPO}} 1</b>\r\n                </label>\r\n                <input type="text" [(ngModel)]="conEstructura.estGrupo1" name="estGrupo1" class="form-control form-control-sm"\r\n                  placeholder="{{constantes.TAG_OBLIGATORIO}}" (blur)="generarVistaPrevia()" appMinNumber="1" maxlength="1"\r\n                  appEnteroPositivo required>\r\n              </div>\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_GRUPO}} 2</b>\r\n                </label>\r\n                <input type="text" [(ngModel)]="conEstructura.estGrupo2" name="estGrupo2" class="form-control form-control-sm"\r\n                  placeholder="{{constantes.TAG_OBLIGATORIO}}" (blur)="generarVistaPrevia()" appMinNumber="1" maxlength="1"\r\n                  appEnteroPositivo required>\r\n              </div>\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_GRUPO}} 3</b>\r\n                </label>\r\n                <input type="text" [(ngModel)]="conEstructura.estGrupo3" name="estGrupo3" class="form-control form-control-sm"\r\n                  placeholder="{{constantes.TAG_OBLIGATORIO}}" (blur)="generarVistaPrevia()" appMinNumber="1" maxlength="1"\r\n                  appEnteroPositivo required>\r\n              </div>\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_GRUPO}} 4</b>\r\n                </label>\r\n                <input type="text" [(ngModel)]="conEstructura.estGrupo4" name="estGrupo4" class="form-control form-control-sm"\r\n                  placeholder="{{constantes.TAG_OBLIGATORIO}}" (blur)="generarVistaPrevia()" appMinNumber="1" maxlength="1"\r\n                  appEnteroPositivo required>\r\n              </div>\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_GRUPO}} 5</b>\r\n                </label>\r\n                <input type="text" [(ngModel)]="conEstructura.estGrupo5" name="estGrupo5" class="form-control form-control-sm"\r\n                  (blur)="generarVistaPrevia()" maxlength="1" appEnteroPositivo>\r\n              </div>\r\n              <div class="form-group form-group-sm">\r\n                <label class="control-label">\r\n                  <b>{{constantes.TAG_GRUPO}} 6</b>\r\n                </label>\r\n                <input type="text" [(ngModel)]="conEstructura.estGrupo6" name="estGrupo6" class="form-control form-control-sm"\r\n                  (blur)="generarVistaPrevia()" maxlength="1" appEnteroPositivo>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class="col-md-8 col-sm-12">\r\n            <div class="card">\r\n              <div class="card-header">\r\n                <b>Vista previa</b>\r\n              </div>\r\n              <div class="card-body collapse show">\r\n                <table class="table table-responsive-sm table-sm" style="width: 100%">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>C\xf3digo</th>\r\n                      <th>Detalle</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr *ngFor="let cuenta of listaEjemplo" [ngClass]="{\'tr-negrita\': cuenta.cuentaCodigo.length < tamanioEstructura}">\r\n                      <td>{{cuenta.cuentaCodigo}}</td>\r\n                      <td>{{cuenta.cuentaDetalle}}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},rxgQ:function(t,e){t.exports=""},svf8:function(t,e){t.exports=""},tKaK:function(t,e){t.exports=""},tj1M:function(t,e){t.exports='<div class="card m-0" *ngIf="vistaFormulario">\r\n  <div class="card-header">\r\n    <button class="btn btn-sm btn-primary rounded-0 mr-2" *ngIf="isScreamMd" (click)="cambiarActivar(activar)" type="button"\r\n      title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n      <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n    </button>\r\n    <b>{{constantes.CONTABILIDAD_CUENTAS_IMPORTAR}}</b>\r\n    <div class="card-header-actions">\r\n      <button *ngIf="!vistaImportar" id="btnGuardar" type="button" (click)="guardarPlanCuentas(frmPlanContable)" class="btn btn-sm btn-primary mr-2"\r\n        placement="top" ngbTooltip="{{constantes.LABEL_GUARDAR}}" container="body" [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruCrear||cargando"\r\n        title="{{constantes.ATAJO_GUARDAR}}">\r\n        <i class="{{constantes.ICON_GUARDAR}}" aria-hidden="true"></i> {{isScreamMd?constantes.LABEL_GUARDAR:\'\'}}\r\n      </button>\r\n      <button id="btnCancelar" type="button" (click)="cancelarAccion()" class="btn btn-sm btn-default mr-2" placement="top" ngbTooltip="{{constantes.LABEL_CANCELAR}}"\r\n        container="body" title="{{constantes.ATAJO_CANCELAR}}" [disabled]="cargando">\r\n        <i class="{{constantes.ICON_CANCELAR}}" aria-hidden="true"></i> {{isScreamMd?constantes.LABEL_CANCELAR:\'\'}}\r\n      </button>\r\n      <button id="btnCancelar" type="button" (click)="verEstructura($event)" class="btn btn-sm btn-default mr-2" placement="top"\r\n        ngbTooltip="{{constantes.TAG_ESTRUCTURA}}" container="body" [disabled]="cargando">\r\n        <i class="{{constantes.ICON_CONFIGURACION}}" aria-hidden="true"></i> {{isScreamMd?constantes.TAG_ESTRUCTURA:\'\'}}\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class="card-body p-0">\r\n    <div class="form-group form-group-sm m-2" *ngIf="vistaImportar">\r\n      <label class="control-label">\r\n        <b>Importar archivo excel</b>\r\n      </label>\r\n      \x3c!--Solo admite archivos excel--\x3e\r\n      <p-fileUpload name="archivoExcel" customUpload="true" (uploadHandler)="cargarDatosDeArchivo($event)" accept=".csv" maxFileSize="1000000"\r\n        chooseLabel="Escoger" uploadLabel="Subir" cancelLabel="Cancelar">\r\n      </p-fileUpload>\r\n    </div>\r\n    <form [hidden]="vistaImportar" #frmPlanContable=\'ngForm\' autocomplete="off">\r\n      <p-table #dt [appRowSelector]="indexTable" [appIndexLimit]="listadoFiltradoPlanContableImportado?.length" (updateIndex)="actualizarIndiceTabla($event)"\r\n        [columns]="columnas" [value]="listadoPlanContableImportado" [scrollable]="true" [style]="{width:\'100%\'}" scrollHeight="calc(100vh - 14.4vw)"\r\n        [resizableColumns]="true" [reorderableColumns]="true" [responsive]="true" [(contextMenuSelection)]="cuentaSeleccionada"\r\n        [contextMenu]="cm" selectionMode="single" [(selection)]="cuentaSeleccionada" (onContextMenuSelect)="generarOpciones()"\r\n        (onFilter)="onFilterTabla($event)">\r\n        <ng-template pTemplate="caption">\r\n          <div class="ui-helper-clearfix">\r\n            <div style="float:left">\r\n              <input type="text" class="form-control form-control-sm" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." style="font-family:Arial, FontAwesome; margin-top: 4px;"\r\n                size="50" (blur)="dt.filterGlobal($event.target.value.toUpperCase(), \'contains\')">\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template *ngIf="isScreamMd" pTemplate="colgroup" let-columns>\r\n          <colgroup>\r\n            <col *ngFor="let col of columns" [style.width]="col.width">\r\n            <col style="width:90px">\r\n          </colgroup>\r\n        </ng-template>\r\n        <ng-template pTemplate="header" let-columns>\r\n          <tr>\r\n            <th *ngFor="let col of columns" [pSortableColumn]="col.field" pResizableColumn pReorderableColumn>\r\n              {{col.header}}\r\n              <p-sortIcon [field]="col.field"></p-sortIcon>\r\n            </th>\r\n            <th>{{constantes.TAG_OPCIONES}}</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate="body" let-cuenta let-columns="columns" let-index="rowIndex">\r\n          <tr [pReorderableRow]="index" [pContextMenuRow]="cuenta" [pSelectableRow]="cuenta" class="table-condensed" (click)="indexTable=index"\r\n            [ngClass]="{\'ui-state-highlight\': indexTable === index, \'tr-negrita\' :cuenta.cuentaCodigo?.length < tamanioEstructura}">\r\n            <td *ngFor="let col of columns" class="ui-resizable-column ocultar-en-tabla {{col.class}}">\r\n              <span class="ui-column-title">{{col.header}}</span>\r\n              <input *ngIf="col.field===\'cuentaCodigo\'" type="text" [(ngModel)]="cuenta[col.field]" name="{{col.field}}_{{index}}" class="form-control form-control-sm input-in-row"\r\n                required [appFocus]="indexTable===index && codigoEnfocado" (focus)="codigoEnfocado=true;detectarCambios();"\r\n                pattern="{{constantes.PATTERN_NUMEROS}}" maxlength="tamanioEstructura">\r\n              <input *ngIf="col.field===\'cuentaDetalle\'" type="text" [(ngModel)]="cuenta[col.field]" name="{{col.field}}_{{index}}" class="form-control form-control-sm input-in-row"\r\n                required (focus)="codigoEnfocado=false;">\r\n            </td>\r\n            <td class="text-md-center">\r\n              <span class="ui-column-title">{{constantes.TAG_OPCIONES}}</span>\r\n              <button type="button" class="btn btn-primary btn-sm pb-0 pt-0" (click)="cuentaSeleccionada=cuenta;generarOpciones();cm.show($event);$event.stopPropagation()">\r\n                <i class="{{constantes.ICON_OPCIONES}}"></i>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </form>\r\n    <p-contextMenu #cm appendTo="body" [model]="opciones" [baseZIndex]="1100"></p-contextMenu>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},vwM9:function(t,e){t.exports=""},wAhZ:function(t,e){t.exports=""},wv9v:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i><b> {{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmNumeraciones=\'ngForm\' name="frmNumeraciones" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm  mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada" (ngModelChange)="cambiarEmpresaSeleccionada()">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}} ({{empresa.empCodigo}}\r\n                )\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_PERIODO}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarPeriodos()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_PERIODOS}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="periodo" [(ngModel)]="periodoSeleccionado" (ngModelChange)="limpiarResultado()"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="periodo" *ngFor="let periodo of listaPeriodos"> {{periodo.perDetalle}}</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_TIPO_COMPROBANTES}}</strong>\r\n              &nbsp;\r\n              <a (click)="listarTipos()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_TIPOS_COMPROBANTES}}" container="body"></span>\r\n              </a>\r\n            </label>\r\n            <select class="form-control input-sm mousetrap" name="tipo" [(ngModel)]="tipoSeleccionado" (ngModelChange)="limpiarResultado()"\r\n              required>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="tipo" *ngFor="let tipo of listaTipos"> {{tipo?.tipDetalle}} ({{tipo?.tipCodigo}} )</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarNumeraciones()">\r\n            <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarNum" class="btn btn-sm btn-primary mr-2" *ngIf="!screamXS" (click)="activar=!activar" type="button"\r\n          title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_NUMERACIONES_LISTADO}}</strong>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..." size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName" maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}"\r\n                defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham" [rowData]="listaResultado"\r\n          [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey" [rowSelection]="rowSelection"\r\n          [enableColResize]="true" [components]="components" [context]="context" (gridReady)="onGridReady($event)" (filterChanged)="actualizarFilas()"\r\n          (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},"x+dq":function(t,e){t.exports='<div class="row" *ngIf="!mostrarFormularioMayorAuxiliar && !objetoMayorAuxiliarDesdeFuera">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{constantes.ICON_FILTRAR}}"></i> <b>{{constantes.TITULO_FILTROS}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmEstadoResultadoIntComp=\'ngForm\' name="frmEstadoResultadoIntComp" autocomplete="off">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [appFocus] = true>\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas">{{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n          <div class="form-group form-group-sm has-feedback">\r\n            <label class="control-label">\r\n              <strong>{{constantes.TAG_SECTOR}}</strong>&nbsp;\r\n              <a (click)="listarSectores()">\r\n                <span class="{{constantes.ICON_REFRESCAR}}" placement="top" ngbTooltip="{{constantes.MSJ_RECARGAR_SECTORES}}"\r\n                  container="body"></span>\r\n              </a>\r\n            </label>\r\n            <p-dropdown [options]="listaSectores" name="tipo" [showClear]="true" [(ngModel)]="sectorSeleccionado"\r\n              (ngModelChange)="limpiarResultado()" placeholder="{{constantes.TAG_TODOS}}" optionLabel="secNombre"\r\n              optionLabel="secNombre">\r\n              <ng-template let-item pTemplate="selectedItem">\r\n                {{sectorSeleccionado?.secNombre}} ( {{sectorSeleccionado?.secCodigo}})\r\n              </ng-template>\r\n              <ng-template let-fs pTemplate="item">\r\n                <div> {{fs.value.secNombre}} ({{fs.value.secCodigo}})</div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE_1}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha1" name="iniFecha1" [(ngModel)]="fechaDesde" (ngModelChange)="validarFechas(\'I\')"\r\n              [maxDate]="fechaHasta" [appMaxDate]="fechaHasta" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos1.fechaInicioValido,\'mousetrap\':true}" [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA_1}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha1" name="finFecha1" [(ngModel)]="fechaHasta" (ngModelChange)="validarFechas(\'F\')"\r\n              [minDate]="fechaDesde" [appMinDate]="fechaDesde" [maxDate]="fechaDesde2" [appMaxDate]="fechaDesde2"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos1.fechaFinValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_DESDE_2}}</b>\r\n            </label>\r\n            <p-calendar inputId="iniFecha2" name="iniFecha2" [(ngModel)]="fechaDesde2" (ngModelChange)="validarFechas2(\'I\')"\r\n              [maxDate]="fechaHasta2" [appMaxDate]="fechaHasta2" [minDate]="fechaHasta" [appMinDate]="fechaHasta"\r\n              dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true" [ngClass]="{\'has-error\':!fechasValidos2.fechaInicioValido,\'mousetrap\':true}"\r\n              [required]="true"></p-calendar>\r\n          </div>\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_FECHA_HASTA_2}}</b>\r\n            </label>\r\n            <p-calendar inputId="finFecha2" name="finFecha2" [(ngModel)]="fechaHasta2" (ngModelChange)="validarFechas2(\'F\')"\r\n              [minDate]="fechaDesde2" [appMinDate]="fechaDesde2" dateFormat="dd/mm/yy" [locale]="es" [showIcon]="true"\r\n              [ngClass]="{\'has-error\':!fechasValidos2.fechaFinValido,\'mousetrap\':true}" [required]="true"></p-calendar>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class="card-footer text-muted">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" id="btnBuscar" class="btn btn-sm btn-primary" (click)="listarEstadoIntegralComparativo(frmEstadoResultadoIntComp,false)">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-2" data-toggle="dropdown">\r\n            </button>\r\n            <div class="dropdown-menu">\r\n              <a class="dropdown-item" (click)="listarEstadoIntegralComparativo(frmEstadoResultadoIntComp,true)">\r\n                {{constantes.TAG_OCULTAR_DETALLE_CUENTA}}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO CONTABILIDAD ESTADO RESULTADO INTEGRAL COMPARATIVO--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      <div class="card-header p-1">\r\n        <button id="btnActivarERIC" class="btn btn-sm btn-primary mr-1" *ngIf="!screamXS" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_ESTADO_RESULTADO_INTEGRAL_COMPARATIVO_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirERIC" (click)="imprimirBalanceResultadoIntComparativo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarERIC" (click)="exportarBalanceResultadoIntComparativo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirERIC" (click)="imprimirBalanceResultadoIntComparativo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarERIC" (click)="exportarBalanceResultadoIntComparativo()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body" style="padding: 0 0 0 0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!--195px--\x3e\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          (filterChanged)="actualizarFilas()" (cellFocused)="filaFocused($event)" (gridColumnsChanged)="redimencionarColumnas()"\r\n          (gridSizeChanged)="redimencionarColumnas()" (cellDoubleClicked)="consultarMayorAuxiliar()" (cellContextMenu)="mostrarContextMenu($event.data, $event.event)"\r\n          (contextmenu)="$event.preventDefault()">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones appendTo="body" [model]="opciones"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="mostrarFormularioMayorAuxiliar && objetoMayorAuxiliarDesdeFuera">\r\n  <app-mayor-auxiliar-formulario [objetoMayorAuxiliarDesdeFuera]="objetoMayorAuxiliarDesdeFuera" (cerrarMayorAuxiliar)="cerrarMayorAuxiliar($event)"></app-mayor-auxiliar-formulario>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},xtwb:function(t,e){t.exports=""},yNz4:function(t,e){t.exports=""},yqHu:function(t,e){t.exports='<div class="row">\r\n  <div [ngClass]="{\'sr-only\':activar}" class="col-lg-3 col-md-4 col-sm-5">\r\n    <div class="card m-0 mb-2">\r\n      <div class="card-header">\r\n        <i class="{{classIcon}}"></i><b> {{tituloForm}}</b>\r\n      </div>\r\n      <div class="card-body pb-0 pt-1">\r\n        \x3c!--FORMULARIO EMPRESA--\x3e\r\n        <form #frmTipoContable=\'ngForm\' name="frmTipoContable">\r\n          <div class="form-group form-group-sm">\r\n            <label class="control-label">\r\n              <b>{{constantes.TAG_EMPRESA}}</b>\r\n            </label>\r\n            <select class="form-control form-control-sm mousetrap" name="empresa" required [(ngModel)]="empresaSeleccionada"\r\n              (ngModelChange)="cambiarEmpresaSeleccionada()" [disabled]="accion">\r\n              <option selected disabled value="">{{constantes.TAG_SELECCIONE}}</option>\r\n              <option [ngValue]="empresa" *ngFor="let empresa of listaEmpresas"> {{empresa.empNombre}}\r\n                ({{empresa.empCodigo}})</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      \x3c!--SECCION BOTONES--\x3e\r\n      <div class="card-footer text-muted" *ngIf="!accion">\r\n        <div class="text-right">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-sm btn-primary" id="btnBuscar" (click)="listarTiposContables(\'G\', frmTipoContable)" *ngIf="!vistaFormulario">\r\n              <i class="{{constantes.ICON_BUSCAR}}" aria-hidden="true"></i> {{constantes.LABEL_BUSCAR}}</button>\r\n            <button type="button" class="btn btn-sm btn-primary dropdown-toggle dropdown-toggle-split mr-2" data-toggle="dropdown" *ngIf="!vistaFormulario">\r\n            </button>\r\n            <div class="dropdown-menu" id="btnFiltro">\r\n              <a class="dropdown-item" (click)="listarTiposContables(\'A\', frmTipoContable)">\r\n                {{constantes.TAG_VER_TIPO_CONTABLE_ACTIVO}}</a>\r\n              <a class="dropdown-item" (click)="listarTiposContables(\'I\', frmTipoContable)">\r\n                {{constantes.TAG_VER_TIPO_CONTABLE_INACTIVO}}</a>\r\n            </div>\r\n            <button class="btn btn-sm btn-primary ml-1" type="button" id="btnNuevo" (click)="nuevoTipoContable()" *ngIf="!vistaFormulario">\r\n              <i class="{{constantes.ICON_NUEVO}}" aria-hidden="true"></i> {{constantes.LABEL_NUEVO}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--LISTADO TIPO CONTABLE--\x3e\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}" [hidden]="vistaFormulario">\r\n    <div class="card m-0" *ngIf="listaResultado?.length>0">\r\n      \x3c!--CABECERA LISTADO TIPO CONTABLE - BOTONES --\x3e\r\n      <div class="card-header p-1">\r\n        <button id="btnActivar" class="btn btn-sm btn-primary mr-1" *ngIf="isScreamMd" (click)="activar=!activar"\r\n          type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n          <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n        </button>\r\n        <strong>{{constantes.CONTABILIDAD_TIPO_CONTABLE_LISTADO}}</strong>\r\n        <div class="card-header-actions">\r\n          <div class="btn-group d-lg-none">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirTipoContable" (click)="imprimirTipoContable()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarTipoContable" (click)="exportarTipoContable()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n            </button>\r\n          </div>\r\n          <div class="btn-group d-none d-lg-block">\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnImprimirTipoContable" (click)="imprimirTipoContable()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}" container="body" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n              <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i> {{constantes.LABEL_IMPRIMIR}}\r\n            </button>\r\n            <button type="button" class="btn btn-sm btn-primary mr-1" id="btnExportarTipoContable" (click)="exportarTipoContable()"\r\n              placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}" container="body" title="{{constantes.ATAJO_EXPORTAR}}">\r\n              <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i> {{constantes.LABEL_EXPORTAR}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="card-body p-0">\r\n        <div class="row">\r\n          <div class="col-sm-5 col-md-6">\r\n            <div class="input-group p-1">\r\n              <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n                size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n                size="100">\r\n              <div class="input-group-append">\r\n                <span class="input-group-text">\r\n                  <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="col-sm-7 col-md-6">\r\n            <div class="float-right pr-1">\r\n              <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n                maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 203px);" class="ag-theme-balham"\r\n          [rowData]="listaResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n          [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n          [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n          (cellContextMenu)="mostrarContextMenu($event.data, $event.event)" (contextmenu)="$event.preventDefault()"\r\n          (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()"\r\n          (cellFocused)="filaFocused($event)">\r\n        </ag-grid-angular>\r\n        <p-contextMenu #menuOpciones [model]="opciones" appendTo="body"></p-contextMenu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div [ngClass]="{\'col-lg-9 col-md-8 col-sm-7\':!activar,\'col-lg-12 col-md-12 col-sm-12\':activar}">\r\n    <app-tipo-contable-formulario *ngIf="vistaFormulario" [parametros]="parametrosFormulario" [empresaSeleccionada]="empresaSeleccionada"\r\n      (enviarCancelar)="cancelar($event)" (enviarActivar)="activar=!$event" (enviarAccion)="ejecutarAccion($event)">\r\n    </app-tipo-contable-formulario>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'},zeSf:function(t,e){t.exports='<div class="card m-0" *ngIf="listadoResultado?.length > 0">\r\n  <div class="card-header" *ngIf="!ocultarEncabezado">\r\n    <button id="btnActivar" class="btn btn-sm btn-primary d-none d-md-inline mr-2" (click)="cambiarActivar(activar)"\r\n      type="button" title="{{constantes.ATAJO_MOSTRAR_OCULTAR_FILTROS}}">\r\n      <i class="{{activar?constantes.ICON_MOSTRAR_FILTRO:constantes.ICON_OCULTAR_FILTRO}}" aria-hidden="true"></i>\r\n    </button>\r\n    <b>{{constantes.CONTABILIDAD_CONTABILIZAR_CIERRE_LISTADO}}</b>\r\n    <div class="card-header-actions">\r\n      <button id="btnImprimir" type="button" class="btn btn-sm btn-primary rounded-0 mr-2" placement="top" ngbTooltip="{{constantes.LABEL_IMPRIMIR}}"\r\n        container="body" (click)="imprimir()" [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruImprimir" title="{{constantes.ATAJO_IMPRIMIR}}">\r\n        <i class="{{constantes.ICON_IMPRIMIR}}" aria-hidden="true"></i>\r\n        <span class="d-none d-md-inline"> {{constantes.LABEL_IMPRIMIR}}</span>\r\n      </button>\r\n      <button id="btnExportar" type="button" class="btn btn-sm btn-primary rounded-0 mr-2" placement="top" ngbTooltip="{{constantes.LABEL_EXPORTAR}}"\r\n        container="body" (click)="exportar()" [disabled]="!empresaSeleccionada.listaSisPermisoTO.gruExportar" title="{{constantes.ATAJO_EXPORTAR}}">\r\n        <i class="{{constantes.ICON_EXPORTAR}}" aria-hidden="true"></i>\r\n        <span class="d-none d-md-inline"> {{constantes.LABEL_EXPORTAR}}</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class="card-body p-0">\r\n    <div class="row">\r\n      <div class="col-sm-5 col-md-6">\r\n        <div class="input-group p-1">\r\n          <input type="text" [(ngModel)]="filtroGlobal" (input)="filtrarRapido()" class="form-control form-control-sm input-filter mousetrap"\r\n            size="100" style="font-family: Arial, FontAwesome;" placeholder="&#xf0b0; {{constantes.TAG_FILTRAR}}..."\r\n            size="100">\r\n          <div class="input-group-append">\r\n            <span class="input-group-text">\r\n              <i class="{{constantes.ICON_BUSCAR}}"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="col-sm-7 col-md-6">\r\n        <div class="float-right pr-1">\r\n          <p-multiSelect [options]="columnDefs" [(ngModel)]="columnDefsSelected" optionLabel="headerName"\r\n            maxSelectedLabels="1" selectedItemsLabel="{0} {{constantes.MSJ_COLUMNAS}}" defaultLabel="{{constantes.TAG_SELECCIONE}}"></p-multiSelect>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ag-grid-angular #agGrid id="agGrid" style="width: 100%; height: calc(100vh - 360px);" class="ag-theme-balham"\r\n      [rowData]="listadoResultado" [columnDefs]="columnDefsSelected" [enableSorting]="true" [multiSortKey]="multiSortKey"\r\n      [rowSelection]="rowSelection" [enableColResize]="true" [components]="components" [context]="context"\r\n      [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)" (rowSelected)="objetoSeleccionado = $event.node.data"\r\n      (filterChanged)="actualizarFilas()" (gridColumnsChanged)="redimencionarColumnas()" (gridSizeChanged)="redimencionarColumnas()">\r\n    </ag-grid-angular>\r\n  </div>\r\n</div>\r\n<div *ngIf="cargando">\r\n  <app-cargando></app-cargando>\r\n</div>'}}]);